{"version":3,"sources":["./node_modules/moment/locale ^\\.\\/.*$","./redbox-portal/angular/shared/StringTemplatePipe.ts","./redbox-portal/angular/shared/ands-service.ts","./redbox-portal/angular/shared/base-service.ts","./redbox-portal/angular/shared/config-service.ts","./redbox-portal/angular/shared/dashboard-service.ts","./redbox-portal/angular/shared/email-service.ts","./redbox-portal/angular/shared/fieldClasses.ts","./redbox-portal/angular/shared/form/action-button.component.ts","./redbox-portal/angular/shared/form/dmp-field.component.ts","./redbox-portal/angular/shared/form/field-andsvocab.component.ts","./redbox-portal/angular/shared/form/field-andsvocab.html","./redbox-portal/angular/shared/form/field-asynch.component.html","./redbox-portal/angular/shared/form/field-asynch.component.ts","./redbox-portal/angular/shared/form/field-base.ts","./redbox-portal/angular/shared/form/field-contributor.component.html","./redbox-portal/angular/shared/form/field-contributor.component.ts","./redbox-portal/angular/shared/form/field-control-meta.service.ts","./redbox-portal/angular/shared/form/field-control.service.ts","./redbox-portal/angular/shared/form/field-data-location.html","./redbox-portal/angular/shared/form/field-datalocation.component.ts","./redbox-portal/angular/shared/form/field-group.component.ts","./redbox-portal/angular/shared/form/field-map.component.ts","./redbox-portal/angular/shared/form/field-map.html","./redbox-portal/angular/shared/form/field-pdflist.component.ts","./redbox-portal/angular/shared/form/field-pdflist.html","./redbox-portal/angular/shared/form/field-publish-data-location-refresh.component.html","./redbox-portal/angular/shared/form/field-publish-data-location-refresh.component.ts","./redbox-portal/angular/shared/form/field-publishdatalocationselector.component.ts","./redbox-portal/angular/shared/form/field-publishdatalocationselector.html","./redbox-portal/angular/shared/form/field-recordpermissions.component.ts","./redbox-portal/angular/shared/form/field-recordpermissions.html","./redbox-portal/angular/shared/form/field-related-fileupload.html","./redbox-portal/angular/shared/form/field-relatedfileupload.component.ts","./redbox-portal/angular/shared/form/field-relatedobjectdata.component.ts","./redbox-portal/angular/shared/form/field-relatedobjectdata.html","./redbox-portal/angular/shared/form/field-relatedobjectselector.component.ts","./redbox-portal/angular/shared/form/field-relatedobjectselector.html","./redbox-portal/angular/shared/form/field-repeatable.component.ts","./redbox-portal/angular/shared/form/field-simple.component.ts","./redbox-portal/angular/shared/form/field-simple.ts","./redbox-portal/angular/shared/form/field-textfield.component.ts","./redbox-portal/angular/shared/form/field-vocab.component.ts","./redbox-portal/angular/shared/form/html-event.component.ts","./redbox-portal/angular/shared/form/record-meta.component.ts","./redbox-portal/angular/shared/form/records.service.ts","./redbox-portal/angular/shared/form/tree-node-checkbox.component.ts","./redbox-portal/angular/shared/form/workflow-button.component.ts","./redbox-portal/angular/shared/form/workspace-field.component.ts","./redbox-portal/angular/shared/form/workspace-register.component.css","./redbox-portal/angular/shared/form/workspace-register.component.html","./redbox-portal/angular/shared/form/workspace-register.component.ts","./redbox-portal/angular/shared/form/workspace-select.component.ts","./redbox-portal/angular/shared/form/workspace-selector.component.ts","./redbox-portal/angular/shared/loadable.component.ts","./redbox-portal/angular/shared/roles-service.ts","./redbox-portal/angular/shared/shared.module.ts","./redbox-portal/angular/shared/translation-service.ts","./redbox-portal/angular/shared/user.service-simple.ts","./redbox-portal/angular/shared/util-service.ts","./redbox-portal/angular/shared/workspace-service.ts","./src/$_lazy_route_resource lazy","./src/app/components/helpers.ts","./src/app/components/labarchives-create.component.ts","./src/app/components/labarchives-export.component.ts","./src/app/components/labarchives-link.component.ts","./src/app/components/labarchives-list.component.ts","./src/app/components/labarchives-login.component.ts","./src/app/labarchives-form.component.css","./src/app/labarchives-form.component.html","./src/app/labarchives-form.component.ts","./src/app/labarchives.module.ts","./src/app/labarchives.service.ts","./src/environments/environment.ts","./src/main.ts","ws (ignored)"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"main.bundle.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale recursive ^\\\\.\\\\/.*$\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = ./node_modules/moment/locale recursive ^\\.\\/.*$\n// module chunks = main","import {\n    Inject,\n    Pipe,\n    PipeTransform\n} from '@angular/core';\n\n\n@Pipe({\n    name: 'stringTemplate'\n})\nexport class StringTemplatePipe implements PipeTransform {\n\n\n    public transform(templateString:string, args?:any[]):string {\n      if(args != null) {\n        var template = this.generateTemplateString(templateString);\n        return template(args);\n      }\n        return templateString;\n    }\n\n    public generateTemplateString = (function(){\n    var cache = {};\n\n    function generateTemplate(template){\n\n    var fn = cache[template];\n\n    if (!fn){\n\n    // Replace ${expressions} (etc) with ${map.expressions}.\n\n    var sanitized = template\n        .replace(/\\$\\{([\\s]*[^;\\s\\{]+[\\s]*)\\}/g, function(_, match){\n            return `\\$\\{map.${match.trim()}\\}`;\n            })\n        // Afterwards, replace anything that's not ${map.expressions}' (etc) with a blank string.\n        .replace(/(\\$\\{(?!map\\.)[^}]+\\})/g, '');\n\n    fn = Function('map', `return \\`${sanitized}\\``);\n\n    }\n\n    return fn;\n};\n\nreturn generateTemplate;\n})();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/StringTemplatePipe.ts","import { Injectable, Inject} from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport { BaseService } from '../shared/base-service'\nimport { PlanTable, Plan } from './dashboard-models'\nimport { ConfigService } from './config-service';\nimport { TranslationService } from './translation-service';\nimport * as _ from \"lodash\";\n\n@Injectable()\nexport class ANDSService extends BaseService {\n\n  constructor(\n    @Inject(Http) http: Http,\n    @Inject(ConfigService) protected configService: ConfigService,\n    @Inject(TranslationService) protected translator:TranslationService) {\n    super(http, configService);\n  }\n\n  getResourceDetails(uri:string, vocab:string): Promise<any> {\n    return this.http.get(`${this.brandingAndPortalUrl}/ands/vocab/resourceDetails?uri=${uri}&vocab=${vocab}`, this.options)\n      .toPromise()\n      .then((res: any) => this.extractData(res));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/ands-service.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/interval';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/mergeMap';\nimport * as _ from \"lodash\";\nimport { Subject } from 'rxjs/Subject';\n/**\n * Base class for all client-side services...\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\nexport class BaseService {\n  protected http: any;\n  protected config: any;\n  protected configService: any;\n  protected baseUrl:string;\n  protected brandingAndPortalUrl:string;\n  protected options: any;\n  protected static __config: any;\n  protected initSubject: any;\n\n  constructor (http: any , configService: any) {\n    this.http = http;\n    this.configService = configService;\n    this.initSubject = new Subject();\n    this.configService.getConfig((config:any) => {\n      this.config = config;\n      this.baseUrl = this.config.baseUrl;\n      this.brandingAndPortalUrl = `${this.baseUrl}/${this.config.branding}/${this.config.portal}`;\n      this.options = this.getOptionsClient();\n      this.emitInit();\n    });\n  }\n\n  public get getBrandingAndPortalUrl() {\n    return this.brandingAndPortalUrl;\n  }\n\n  public get getBaseUrl() {\n    return this.baseUrl;\n  }\n\n  public waitForInit(handler: any) {\n    const subs = this.initSubject.subscribe(handler);\n    this.emitInit();\n    return subs;\n  }\n\n  public getInitSubject() {\n    return this.initSubject;\n  }\n\n  public emitInit() {\n    if (this.config) {\n      this.initSubject.next(this);\n    }\n  }\n\n  getConfig() {\n    return this.config;\n  }\n\n  protected extractData(res: Response, parentField: any = null) {\n    let body = res.json();\n    if (parentField) {\n        return body[parentField] || {};\n    } else {\n        return body || {};\n    }\n  }\n\n  protected getOptions(headersObj: any) {\n    let headers = new Headers(headersObj);\n    return new RequestOptions({ headers: headers });\n  }\n\n  protected getOptionsClient(headersObj: any = {}) {\n    headersObj['X-Source'] = 'jsclient';\n    headersObj['Content-Type'] = 'application/json;charset=utf-8';\n    headersObj['X-CSRF-Token'] = this.config.csrfToken;\n\n    return this.getOptions(headersObj);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/base-service.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Injectable, Inject} from '@angular/core';\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/observable/interval';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/mergeMap';\nimport * as _ from \"lodash\";\n/**\n * Handles client-side global configuration\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\n@Injectable()\nexport class ConfigService {\n  protected config: any;\n  protected subjects: any;\n  public csrfToken: any;\n\n  constructor (@Inject(Http) protected http: any) {\n    this.subjects = {};\n    this.subjects['get'] = new Subject();\n    this.initConfig();\n  }\n\n  getConfig(handler: any): any {\n    const subs = this.subjects['get'].subscribe(handler);\n    this.emitConfig();\n    return subs;\n  }\n\n  emitConfig() {\n    if (this.config) {\n      this.subjects['get'].next(this.config);\n    }\n  }\n\n  initConfig() {\n    this.http.get(`/csrfToken`).mergeMap((csrfRes:any) => {\n      this.csrfToken = csrfRes.json()['_csrf'];\n      return this.http.get(`/dynamic/apiClientConfig?v=${new Date().getTime()}`);\n    })\n    .subscribe((res:any) => {\n      this.config = this.extractData(res);\n      this.config['csrfToken'] = this.csrfToken;\n      console.log(`ConfigService, initialized. `);\n      this.emitConfig();\n    });\n  }\n\n  protected extractData(res: Response, parentField: any = null) {\n    let body = res.json();\n    if (parentField) {\n        return body[parentField] || {};\n    } else {\n        return body || {};\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/config-service.ts","import { Injectable, Inject} from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport * as moment from 'moment';\nimport { BaseService } from '../shared/base-service'\nimport { PlanTable, Plan, RecordResponseTable } from './dashboard-models'\nimport { ConfigService } from './config-service';\nimport { TranslationService } from './translation-service';\nimport * as _ from \"lodash\";\n\n@Injectable()\nexport class DashboardService extends BaseService {\n\n  constructor(\n    @Inject(Http) http: Http,\n    @Inject(ConfigService) protected configService: ConfigService,\n    @Inject(TranslationService) protected translator:TranslationService) {\n    super(http, configService);\n  }\n\n  getAllDraftPlansCanEdit(): Promise<PlanTable> {\n    const rows = this.config.maxTransferRowsPerPage;\n    const start = 0;\n    return this.http.get(`${this.brandingAndPortalUrl}/listRecords?recordType=rdmp&state=draft&editOnly=true&start=${start}&rows=${rows}&ts=${moment().unix()}`, this.options)\n      .toPromise()\n      .then((res: any) => this.formatDates(this.extractData(res))as PlanTable);\n  }\n\n  getAllRecordsCanEdit(recordType:string, state:string): Promise<PlanTable> {\n    const rows = this.config.maxTransferRowsPerPage;\n    const start = 0;\n\n    let url = `${this.brandingAndPortalUrl}/listRecords?recordType=${recordType}&editOnly=true&start=${start}&rows=${rows}&ts=${moment().unix()}`;\n    if(state != '') {\n      url += `&state=${state}`;\n    }\n    return this.http.get(url, this.options)\n      .toPromise()\n      .then((res: any) => this.formatDates(this.extractData(res))as PlanTable);\n  }\n\n  getActivePlans(pageNumber:number): Promise<PlanTable> {\n    var rows = 10;\n    var start = (pageNumber-1) * rows;\n    return this.http.get(`${this.brandingAndPortalUrl}/listRecords?state=active&start=${start}&rows=${rows}&ts=${moment().unix()}`, this.options)\n      .toPromise()\n      .then((res: any) => this.formatDates(this.extractData(res))as PlanTable);\n  }\n\n  getDraftPlans(pageNumber:number): Promise<PlanTable> {\n    var rows = 10;\n    var start = (pageNumber-1) * rows;\n    return this.http.get(`${this.brandingAndPortalUrl}/listRecords?recordType=rdmp&state=draft&start=${start}&rows=${rows}&ts=${moment().unix()}`, this.options)\n      .toPromise()\n      .then((res: any) => this.formatDates(this.extractData(res)) as PlanTable);\n  }\n\n  getRecords(recordType:string,state:string,pageNumber:number,packageType:string=undefined, sort:string=undefined): Promise<RecordResponseTable> {\n    var rows = 10;\n    var start = (pageNumber-1) * rows;\n    recordType = (!_.isEmpty(recordType) && !_.isUndefined(recordType)) ? `recordType=${recordType}` : '';\n    packageType = (!_.isEmpty(packageType) && !_.isUndefined(packageType)) ? `packageType=${packageType}` : '';\n    sort = (!_.isEmpty(sort) && !_.isUndefined(sort)) ? `&sort=${sort}` : '';\n    state = (!_.isEmpty(state) && !_.isUndefined(state)) ? `&state=${state}` : '';\n    return this.http.get(`${this.brandingAndPortalUrl}/listRecords?${recordType}${packageType}${state}${sort}&start=${start}&rows=${rows}&ts=${moment().unix()}`, this.options)\n      .toPromise()\n      .then((res: any) => this.formatDates(this.extractData(res)) as RecordResponseTable);\n  }\n\n  formatDates(response:object){\n    var items = response[\"items\"];\n    for (var i=0;i<items.length;i++){\n      items[i][\"dateCreated\"] = moment(items[i][\"dateCreated\"]).local().format('LLL')\n      items[i][\"dateModified\"] = moment(items[i][\"dateModified\"]).local().format('LLL')\n    }\n    return response;\n  }\n\n  public setDashboardTitle(planTable: PlanTable, plans: any[]=null) {\n    _.forEach(planTable ? planTable.items : plans, (plan: Plan) => {\n      plan.dashboardTitle = (_.isUndefined(plan.title) || _.isEmpty(plan.title) || _.isEmpty(plan.title[0])) ? this.translator.t('plan-with-no-title'): plan.title;\n    });\n  }\n\n  public searchRecords(pageNumber:number, basicSearch: string, facets: any = null) {\n    const rows = this.config.maxSearchRowsPerPage;\n    const start = (pageNumber-1) * rows;\n    return this.http.get(`${this.brandingAndPortalUrl}/searchPlans?start=${start}&rows=${rows}&query=${basicSearch}&facets=${facets}&ts=${moment().unix()}`, this.options)\n      .toPromise()\n      .then((res:any) => this.formatDates(this.extractData(res))as PlanTable);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/dashboard-service.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Injectable, Inject} from '@angular/core';\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport { BaseService } from '../shared/base-service'\nimport { ConfigService } from '../shared/config-service';\n/**\n * User related service...\n *\n * @author <a target='_' href='https://github.com/thomcuddihy'>Thom Cuddihy</a>\n *\n */\n@Injectable()\nexport class EmailNotificationService extends BaseService {\n  protected baseUrl: any;\n  protected config: any;\n  protected headers: any;\n\n  constructor (@Inject(Http) http: Http, @Inject(ConfigService) protected configService: ConfigService) {\n    super(http, configService);\n  }\n\n  sendNotification(to: string, template: string, data: any = {}, subject: string = null, from: string = null): Promise<any> {\n    var payload = {to: to, template: template, data: data};\n    if (subject) {\n      payload['subject'] = subject;\n    }\n    if (from) {\n      payload['from'] = from;\n    }\n    return this.http.post(`${this.brandingAndPortalUrl}/api/sendNotification`, payload, this.getOptionsClient())\n    .toPromise()\n    .then(this.extractData);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/email-service.ts","import { HtmlRaw, Container, DateTime, AnchorOrButton, SaveButton, CancelButton, HiddenValue, LinkValue, TabOrAccordionContainer, ButtonBarContainer, SelectionField, ParameterRetrieverField, TabNavButton, Spacer, Toggle } from './form/field-simple';\nimport { TextField, TextFieldComponent, RepeatableTextfieldComponent, TextArea, TextAreaComponent, MarkdownTextArea, MarkdownTextAreaComponent} from './form/field-textfield.component';\nimport {\n  DropdownFieldComponent,\n  TabOrAccordionContainerComponent,\n  ButtonBarContainerComponent,\n  TextBlockComponent,\n  DateTimeComponent,\n  AnchorOrButtonComponent,\n  SaveButtonComponent,\n  CancelButtonComponent,\n  HiddenValueComponent,\n  LinkValueComponent,\n  SelectionFieldComponent,\n  ParameterRetrieverComponent,\n  TabNavButtonComponent,\n  SpacerComponent,\n  ToggleComponent,\n  HtmlRawComponent\n} from './form/field-simple.component';\nimport { RecordMetadataRetrieverField, RecordMetadataRetrieverComponent } from './form/record-meta.component';\nimport { VocabField, VocabFieldComponent } from './form/field-vocab.component';\nimport { RepeatableContainer, RepeatableVocab, RepeatableContributor, RepeatableVocabComponent, RepeatableContributorComponent } from './form/field-repeatable.component';\nimport { ContributorField, ContributorComponent } from './form/field-contributor.component';\nimport { WorkflowStepButton, WorkflowStepButtonComponent } from './form/workflow-button.component';\nimport { ActionButton, ActionButtonComponent } from './form/action-button.component';\nimport { RelatedObjectDataField, RelatedObjectDataComponent } from './form/field-relatedobjectdata.component';\nimport { RecordPermissionsComponent, RecordPermissionsField } from './form/field-recordpermissions.component';\nimport { DataLocationComponent, DataLocationField } from './form/field-datalocation.component';\nimport { RelatedObjectSelectorComponent, RelatedObjectSelectorField } from './form/field-relatedobjectselector.component';\nimport { RelatedFileUploadComponent, RelatedFileUploadField } from './form/field-relatedfileupload.component';\n\nimport { PublishDataLocationSelectorComponent, PublishDataLocationSelectorField } from './form/field-publishdatalocationselector.component'\nimport { MapField, MapComponent } from './form/field-map.component';\nimport { GenericGroupComponent, RepeatableGroupComponent } from './form/field-group.component';\nimport { WorkspaceSelectorField, WorkspaceRegisterField } from './form/workspace-field.component';\nimport { WorkspaceSelectorComponent, WorkspaceSelectorFieldComponent } from './form/workspace-selector.component';\nimport { WorkspaceSelectComponent, WorkspaceSelectFieldComponent } from './form/workspace-select.component';\nimport { WorkspaceRegisterComponent, WorkspaceRegisterFieldComponent } from './form/workspace-register.component';\nimport { ANDSVocabField, ANDSVocabComponent } from './form/field-andsvocab.component'\nimport { PDFListField, PDFListComponent } from './form/field-pdflist.component';\nimport { AsynchField, AsynchComponent } from './form/field-asynch.component';\nimport { PublishDataLocationRefreshField, PublishDataLocationRefreshComponent } from './form/field-publish-data-location-refresh.component';\nimport { EventHandler, EventHandlerComponent } from './form/html-event.component';\n\nexport const fieldClasses=  {\n  'TextField': { 'meta': TextField, 'comp': TextFieldComponent },\n  'TextArea': { 'meta': TextArea, 'comp': TextAreaComponent },\n  'MarkdownTextArea': { 'meta': MarkdownTextArea, 'comp': MarkdownTextAreaComponent },\n  'DateTime': { 'meta': DateTime, 'comp': DateTimeComponent },\n  'Container': {'meta': Container, 'comp': [ TextBlockComponent, GenericGroupComponent ] },\n  'TabOrAccordionContainer': {'meta': TabOrAccordionContainer, 'comp': TabOrAccordionContainerComponent },\n  'ButtonBarContainer': {'meta': ButtonBarContainer, 'comp': ButtonBarContainerComponent },\n  'AnchorOrButton': { 'meta': AnchorOrButton, 'comp': AnchorOrButtonComponent },\n  'SaveButton': { 'meta': SaveButton, 'comp': SaveButtonComponent },\n  'CancelButton': { 'meta': CancelButton, 'comp': CancelButtonComponent },\n  'VocabField': {'meta': VocabField, 'comp': VocabFieldComponent, 'lookupService': 'vocabFieldLookupService'},\n  'RepeatableContainer': {'meta': RepeatableContainer, 'comp': [RepeatableVocabComponent, RepeatableTextfieldComponent, RepeatableGroupComponent]},\n  'RepeatableContributor': {'meta': RepeatableContributor, 'comp': RepeatableContributorComponent },\n  'RepeatableVocab': {'meta': RepeatableVocab, 'comp': RepeatableVocabComponent },\n  'ContributorField': {'meta': ContributorField, 'comp': ContributorComponent, 'lookupService': 'vocabFieldLookupService'},\n  'HiddenValue': {'meta': HiddenValue, 'comp': HiddenValueComponent},\n  'WorkflowStepButton': {'meta': WorkflowStepButton, 'comp': WorkflowStepButtonComponent},\n  'ActionButton': {'meta': ActionButton, 'comp': ActionButtonComponent},\n  'LinkValueComponent': {'meta': LinkValue, 'comp': LinkValueComponent },\n  'SelectionField': {'meta': SelectionField, 'comp': [ SelectionFieldComponent, DropdownFieldComponent ]},\n  'RelatedObjectDataField': {'meta': RelatedObjectDataField, 'comp': RelatedObjectDataComponent, 'lookupService': 'vocabFieldLookupService'},\n  'RecordPermissionsField': {'meta': RecordPermissionsField, 'comp': RecordPermissionsComponent, 'lookupService': 'vocabFieldLookupService'},\n  'MapField': {'meta': MapField, 'comp': MapComponent, 'lookupService': 'vocabFieldLookupService'},\n  'ParameterRetriever':{ 'meta': ParameterRetrieverField, 'comp': ParameterRetrieverComponent},\n  'RecordMetadataRetriever':{ 'meta': RecordMetadataRetrieverField, 'comp': RecordMetadataRetrieverComponent},\n  'RelatedObjectSelector':{ 'meta': RelatedObjectSelectorField, 'comp': RelatedObjectSelectorComponent},\n  'RelatedFileUpload':{ 'meta': RelatedFileUploadField, 'comp': RelatedFileUploadComponent},\n  'DataLocation':{ 'meta': DataLocationField, 'comp': DataLocationComponent},\n  'WorkspaceSelectorField' : { 'meta': WorkspaceSelectorField, 'comp': [WorkspaceSelectorComponent, WorkspaceSelectorFieldComponent, WorkspaceSelectComponent, WorkspaceSelectFieldComponent] },\n  'WorkspaceRegisterField': { 'meta': WorkspaceRegisterField, 'comp': [WorkspaceRegisterComponent, WorkspaceRegisterFieldComponent]},\n  'PublishDataLocationSelector':{ 'meta': PublishDataLocationSelectorField, 'comp': PublishDataLocationSelectorComponent},\n  'TabNavButton': {'meta': TabNavButton, 'comp': TabNavButtonComponent},\n  'Spacer': {'meta': Spacer, 'comp': SpacerComponent},\n  'ANDSVocab':{ 'meta': ANDSVocabField, 'comp': ANDSVocabComponent},\n  'PDFList': { 'meta': PDFListField, 'comp': PDFListComponent},\n  'AsynchField': {'meta': AsynchField, 'comp': AsynchComponent },\n  'Toggle': {'meta': Toggle, 'comp': ToggleComponent},\n  'HtmlRaw': {'meta': HtmlRaw, 'comp': HtmlRawComponent},\n  'PublishDataLocationRefresh': {'meta': PublishDataLocationRefreshField, 'comp': PublishDataLocationRefreshComponent },\n  'EventHandler': {'meta': EventHandler, 'comp': EventHandlerComponent}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/fieldClasses.ts","import * as _ from \"lodash\";\nimport { Component } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { AnchorOrButton } from './field-simple';\nimport { RecordsService, RecordActionResult } from './records.service';\n\nexport class ActionButton extends FieldBase<string>  {\n  targetAction: string;\n  recordService: RecordsService;\n  submitting: boolean = false;\n  valueLabelPrefix: string;\n  valueLabelSufffix: string;\n  valueIsUrl: boolean;\n  submittingLabel: string;\n  unsubmittedLabel: string;\n  isDisabledTemplate: string;\n  isRecordAction: boolean;\n\n  constructor(options: any, injector:any) {\n    super(options, injector);\n    this.targetAction = options['targetAction'] || null;\n    this.recordService = this.getFromInjector(RecordsService);\n    this.value = options['value'] || null;\n    // read from the form config if this action button should be part of the form (i.e. hold values)\n    this.hasControl = _.isUndefined(options['hasControl']) ? this.hasControl : options['hasControl'];\n    // controls if the action button will be disabled\n    this.isDisabledTemplate = options['isDisabledTemplate'];\n    this.valueLabelPrefix = _.isUndefined(options['valueLabelPrefix']) ? this.getTranslated(options['valueLabelPrefix'], '') : '';\n    this.valueLabelSufffix = _.isUndefined(options['valueLabelSufffix']) ? this.getTranslated(options['valueLabelSufffix'], '') : '';\n    this.submittingLabel = _.isUndefined(options['submittingLabel']) ? this.getTranslated(options['submittingLabel'], '') : '';\n    this.unsubmittedLabel = _.isUndefined(options['unsubmittedLabel']) ? this.getTranslated(options['unsubmittedLabel'], '') : '';\n    this.valueIsUrl = _.isUndefined(options['valueIsUrl']) ? true : options['valueIsUrl'];\n    this.isDisabledTemplate = options['isDisabledTemplate'];\n    this.isRecordAction = _.isUndefined(options['isRecordAction']) ? false : options['isRecordAction'];\n\n  }\n\n  setValue(value:any) {\n    this.value = value;\n    this.formModel.patchValue(value, {emitEvent: true, emitModelToViewChange:true });\n    this.formModel.markAsTouched();\n  }\n\n  // override the default behavior to prevent form control creation\n  public getGroup(group: any, fieldMap: any): any {\n    this.fieldMap = fieldMap;\n    let retval = null;\n    if (this.hasControl) {\n      return super.getGroup(group, fieldMap);\n    }\n    return retval;\n  }\n}\n\n// For action buttons\n@Component({\n  selector: 'action-button',\n  template: `\n  <ng-container *ngIf=\"field.editMode && field.visible\">\n    <div *ngIf=\"field.value\">\n      {{ field.valueLabelPrefix }}<a *ngIf=\"field.valueIsUrl\" target=\"_blank\" [attr.href]=\"field.value\">{{ field.value }}</a>{{ field.valueLabelSuffix }}\n    </div>\n    <div *ngIf=\"!field.value\">\n      <button *ngIf=\"!field.submitting\" type=\"{{field.type}}\" [ngClass]=\"field.cssClasses\" (click)=\"executeAction($event)\" [disabled]=\"isDisabled()\">\n        {{field.label}}\n      </button>\n      <span *ngIf=\"field.submitting && field.submittingLabel\">{{ field.submittingLabel }}</span>\n    </div>\n    <div *ngIf=\"field.hasControl\" [formGroup]='form'>\n      <input [formControl]=\"getFormControl()\"  [id]=\"field.name\" name=\"{{field.name}}\" type=\"hidden\" />\n    </div>\n  </ng-container>\n  <div *ngIf=\"!field.editMode && field.visible\">\n    <div *ngIf=\"field.value\">\n    {{ field.valueLabelPrefix }}<a *ngIf=\"field.valueIsUrl\" target=\"_blank\" [attr.href]=\"field.value\">{{ field.value }}</a>{{ field.valueLabelSuffix }}\n    </div>\n    <div *ngIf=\"!field.value && field.unsubmittedLabel\">{{ field.unsubmittedLabel }}</div>\n  </div>\n  `,\n})\nexport class ActionButtonComponent extends SimpleComponent {\n  field: ActionButton;\n\n  executeAction(event:any) {\n    this.field.submitting = true;\n    let that = this;\n\n    this.field.recordService.executeAction(this.field.targetAction,{oid: this.field.fieldMap._rootComp.oid})\n    .then(function (response) {\n      that.field.submitting = false;\n      if (that.field.isRecordAction) {\n        response = response as RecordActionResult;\n        if (response.success == true) {\n          // execute success action\n\n        } else {\n          // show the failure message\n\n        }\n      } else {\n        // parsing of the response will be delegated to form configuration\n\n      }\n      // decide later what to do with CKAN-specific behavior\n      // that.field.setValue(\"http://203.101.227.135:5000/dataset/\"+that.field.fieldMap._rootComp.oid);\n      // that.fieldMap._rootComp.onSubmit().subscribe();\n    });\n  }\n\n  isDisabled() {\n    if (_.isEmpty(this.field.isDisabledTemplate)) {\n      return false;\n    }\n    const imports = _.extend({}, this);\n    const templateData = {imports: imports};\n    const template = _.template(this.field.isDisabledTemplate, templateData);\n    const templateRes = template();\n    return templateRes;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/action-button.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Component, Input, Inject, ViewChild, ViewContainerRef, ComponentFactoryResolver, ComponentRef, ApplicationRef } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { FieldBase } from './field-base';\nimport { SimpleComponent } from './field-simple.component';\nimport * as _ from \"lodash\";\nimport * as moment from 'moment';\ndeclare var jQuery: any;\ndeclare var $: any;\n/**\n * Base component for a DMP field.\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\n@Component({\n  selector: 'dmp-field',\n  template: '<span [attr.disabled]=\"isDisabled()\" #field></span>'\n})\nexport class DmpFieldComponent {\n  /**\n   * The model for this field.\n   */\n  @Input() field: FieldBase<any>;\n\n  /**\n   * Form group\n   */\n  @Input() form: FormGroup;\n  /**\n   * The value of this field.\n   */\n  @Input() value: any;\n  /**\n   * Field map\n   */\n  @Input() fieldMap: any;\n  /**\n   * The DOM node for this field.\n   */\n  @ViewChild('field', {read: ViewContainerRef}) fieldAnchor: ViewContainerRef;\n\n  /**\n   * The parentId of this field\n   */\n  @Input() parentId: string;\n\n  @Input() isEmbedded: boolean = false;\n\n  @Input() public name: any;\n\n  @Input() public index: number;\n\n  disabledExpression: string;\n\n  @ViewChild('field') fieldElement;\n\n  public disabled:boolean = false;\n  /**\n  * Elements that were already disabled before we ran isDisabled (so they can be restored disabled)\n  */\n  private disabledElements: any;\n\n  /**\n   * For DI'ing...\n   */\n  constructor(@Inject(ComponentFactoryResolver) private componentFactoryResolver: ComponentFactoryResolver, protected app: ApplicationRef){\n    this.disabledElements = [];\n  }\n  /**\n   * If the form is valid.\n   */\n  get isValid() {\n    if (this.form && this.form.controls) {\n      return this.form.controls[this.field.name].valid;\n    }\n    return false;\n  }\n\n  /**\n   *\n   */\n  public isDisabled() {\n\n    var disabledExpression = this.field.options['disabledExpression'];\n\n    if(disabledExpression != null) {\n\n      var imports = this.fieldAnchor;\n      var variables= {imports: {}};\n      _.forOwn(this.fieldMap._rootComp, (val, key) => {\n        variables.imports[key] = val;\n      });\n      variables.imports['moment'] = moment;\n      var compiled = _.template(disabledExpression, variables);\n      var parentElement = jQuery(this.fieldElement.nativeElement.parentElement);\n      if(compiled() == \"true\") {\n        if (!this.disabled) {\n          //take note of which elements where already disabled as we dont want to enable them if whole component becomes enabled again\n          this.disabledElements = parentElement.find('*:disabled');\n          parentElement.find('input').prop( \"disabled\", true );\n          parentElement.find('button').filter((index, buttonElem) => {\n            const isHelp = jQuery(buttonElem).find(\"span[class='glyphicon glyphicon-question-sign']\");\n            return isHelp.length <= 0;\n          }).prop( \"disabled\", true );\n          parentElement.find('textarea').prop( \"disabled\", true );\n          parentElement.find('select').prop( \"disabled\", true );\n          this.disabled = true;\n        }\n        return 'disabled';\n      } else {\n        if(this.disabled) {\n          //previously disabled so lets re-enable\n          parentElement.find('input').prop( \"disabled\", false );\n          parentElement.find('button').prop( \"disabled\", false );\n          parentElement.find('textarea').prop( \"disabled\", false );\n          parentElement.find('select').prop( \"disabled\", false );\n          _.each(this.disabledElements, disabledElement => {\n            if (_.isFunction(disabledElement.prop)) {\n              disabledElement.prop(\"disabled\",true)\n            }\n          });\n          this.disabledElements = [];\n          this.disabled = false;\n        }\n        return null;\n      }\n\n    }\n    return null;\n  }\n\n  /**\n   * Change handler, instantiates the field component.\n   */\n  ngOnChanges() {\n    if (!this.field || !this.componentFactoryResolver) {\n      return;\n    }\n    this.fieldAnchor.clear();\n    let compFactory = this.componentFactoryResolver.resolveComponentFactory(this.field.compClass);\n    let fieldCompRef:ComponentRef<SimpleComponent> = <ComponentRef<SimpleComponent>> this.fieldAnchor.createComponent(compFactory, undefined, this.app['_injector']);\n    fieldCompRef.instance.injector = this.app['_injector'];\n    fieldCompRef.instance.field = this.field;\n    fieldCompRef.instance.form = this.form;\n    fieldCompRef.instance.fieldMap = this.fieldMap;\n    fieldCompRef.instance.parentId = this.parentId;\n    fieldCompRef.instance.isEmbedded = this.isEmbedded;\n    fieldCompRef.instance.name = this.name;\n    fieldCompRef.instance.index = this.index;\n    // flip thi: make the fields responsible for setting the right fieldMap member\n    this.field.setFieldMapEntry(this.fieldMap, fieldCompRef);\n    //this.fieldMap[this.field.name].instance = fieldCompRef.instance;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/dmp-field.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { ANDSService } from '../ands-service';\nimport { TreeComponent, TreeNode, ITreeOptions, ITreeState } from 'angular-tree-component';\nimport * as _ from \"lodash\";\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/bufferTime';\nimport 'rxjs/add/operator/filter';\n\ndeclare var jQuery: any;\n\n\n/**\n *  Vocab Model\n *\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class ANDSVocabField extends FieldBase<any> {\n\n  public andsService:ANDSService;\n  public vocabId:string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.value = options['value'] || this.setEmptyValue();\n    this.vocabId  = options['vocabId'] || 'anzsrc-for';\n\n    this.andsService = this.getFromInjector(ANDSService);\n  }\n\n  setValue(value: any, emitEvent: boolean = true) {\n    this.formModel.setValue(value, { emitEvent: emitEvent, emitModelToViewChange: true });\n    this.formModel.markAsTouched();\n    this.formModel.markAsDirty();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n\n  setSelected(item:any, flag) {\n    const curVal = this.formModel.value;\n    if (flag) {\n      curVal.push(item);\n    } else {\n      _.remove(curVal, (entry:any) => {\n        return entry.notation == item.notation;\n      });\n    }\n    this.setValue(curVal);\n  }\n\n}\n/**\n* Component utilising the ANDS Vocabb selector widget\n*\n*\n*\n*\n*/\n@Component({\n  selector: 'ands-vocab-selector',\n  templateUrl: './field-andsvocab.html',\n  styles: ['span.node-name { font-size: 300%; }']\n})\nexport class ANDSVocabComponent extends SimpleComponent {\n  field: ANDSVocabField;\n  elementRef: ElementRef;\n  treeData: any = [];\n  @ViewChild('andsTree') public andsTree : TreeComponent;\n  options: any;\n  nodeEventSubject: Subject<any>;\n  treeInitListener: any;\n  expandNodeIds: any = [];\n  readonly STATUS_INIT = 0;\n  readonly STATUS_LOADING = 1;\n  readonly STATUS_LOADED = 2;\n  readonly STATUS_EXPANDING = 3;\n  readonly STATUS_EXPANDED = 4;\n  loadState: any;\n\n  constructor(@Inject(ElementRef) elementRef: ElementRef) {\n    super();\n    this.elementRef = elementRef;\n    this.treeData = [];\n\n    this.options = {\n      useCheckbox: true,\n      useTriState: false,\n      getChildren: this.getChildren.bind(this),\n      scrollContainer: document.body.parentElement\n    };\n    this.nodeEventSubject = new Subject<any>();\n    this.loadState = this.STATUS_INIT;\n  }\n\n  public ngOnInit() {\n    if (this.field.editMode) {\n      jQuery(this.elementRef.nativeElement)['vocab_widget']({\n        repository: this.field.vocabId,\n        endpoint: 'https://vocabs.ardc.edu.au/apps/vocab_widget/proxy/',\n        fields:[\"label\", \"notation\", \"about\"],\n        cache: false\r\n      });\n      this.field.componentReactors.push(this);\n    }\n  }\n\n  public ngAfterViewInit() {\n    if (this.field.editMode) {\n      const that = this;\n      if (this.loadState == this.STATUS_INIT) {\n        this.loadState = this.STATUS_LOADING;\n        jQuery(this.elementRef.nativeElement).on('top.vocab.ands', function(event, data) {\n          if (_.isEmpty(that.treeData)) {\n            that.treeData = that.mapItemsToChildren(data.items);\n            that.loadState = that.STATUS_LOADED;\n          }\n        });\n        jQuery(this.elementRef.nativeElement)['vocab_widget']('top');\n\n        this.nodeEventSubject.bufferTime(1000)\n        .filter(eventArr => {\n          return eventArr.length > 0\n        })\n        .subscribe(eventArr => {\n          this.handleNodeEvent(eventArr);\n        });\n\n        this.startTreeInit();\n      }\n    }\n  }\n\n  protected startTreeInit() {\n    this.treeInitListener = Observable.interval(1000).subscribe(()=> {\n      if (!_.isEmpty(this.expandNodeIds)) {\n        this.expandNodes();\n      } else if (!_.isEmpty(this.andsTree.treeModel.getVisibleRoots()) && this.loadState == this.STATUS_LOADED) {\n        this.loadState = this.STATUS_EXPANDING;\n        this.updateTreeView(this);\n        this.expandNodes();\n      } else if (this.loadState == this.STATUS_EXPANDING) {\n        this.treeInitListener.unsubscribe();\n        this.loadState = this.STATUS_EXPANDED;\n      }\n    });\n  }\n\n  public onEvent(event) {\n    switch(event.eventName) {\n      case \"select\":\n        this.field.setSelected(this.getValueFromChildData(event.node), true);\n        break;\n      case \"deselect\":\n        this.field.setSelected(this.getValueFromChildData(event.node), false);\n        break;\n    }\n  }\n\n  protected handleNodeEvent(eventArr) {\n    let event = eventArr[0];\n    if (eventArr.length >= 2) {\n      event = eventArr[1];\n    }\n    let currentState = this.getNodeSelected(event.node.id);\n    switch(event.eventName) {\n      case \"nodeActivate\":\n        if (currentState == undefined) {\n          currentState = true;\n        } else {\n          currentState = false;\n        }\n        this.updateSingleNodeSelectedState(event.node, currentState);\n        break;\n      case \"nodeDeactivate\":\n        this.updateSingleNodeSelectedState(event.node, false);\n        break;\n    }\n  }\n\n  protected updateSingleNodeSelectedState(node, state) {\n    const nodeId = node.id;\n    const curState = this.andsTree.treeModel.getState();\n    this.setNodeSelected(curState, nodeId, state);\n    this.andsTree.treeModel.setState(curState);\n    this.andsTree.treeModel.update();\n    this.field.setSelected(this.getValueFromChildData(node), state);\n  }\n\n  public onNodeActivate(event: any) {\n    this.nodeEventSubject.next(event);\n  }\n\n  public onNodeDeactivate(event: any) {\n    this.nodeEventSubject.next(event);\n  }\n\n  public updateTreeView(that) {\n    const state = that.andsTree.treeModel.getState();\n    that.expandNodeIds = [];\n    _.each(that.field.value, (val) => {\n      this.setNodeSelected(state, val.notation, true);\n      _.each(val.geneaology, (parentId) => {\n        if (!_.includes(that.expandNodeIds, parentId)) {\n          that.expandNodeIds.push(parentId);\n        }\n      });\n    });\n    that.andsTree.treeModel.setState(state);\n    that.andsTree.treeModel.update();\n    that.expandNodeIds = _.sortBy(that.expandNodeIds, (o) => { return _.isString(o) ? o.length : 0 });\n  }\n\n  protected expandNodes() {\n    if (!_.isEmpty(this.expandNodeIds)) {\n      const parentId = this.expandNodeIds[0];\n      const node = this.andsTree.treeModel.getNodeById(parentId);\n      if (node) {\n        node.expand();\n        _.remove(this.expandNodeIds, (id) => { return id == parentId });\n      }\n    }\n  }\n\n  protected collapseNodes() {\n    this.andsTree.treeModel.collapseAll();\n  }\n\n  protected setNodeSelected(state, nodeId, flag) {\n    if (flag) {\n      state.selectedLeafNodeIds[nodeId] = flag;\n    } else {\n      _.unset(state.selectedLeafNodeIds, nodeId);\n    }\n  }\n\n  protected getNodeSelected(nodeId) {\n    return this.andsTree.treeModel.getState().selectedLeafNodeIds[nodeId];\n  }\n\n  protected clearSelectedNodes() {\n    const state = this.andsTree.treeModel.getState();\n    state.selectedLeafNodeIds = {};\n    this.andsTree.treeModel.setState(state);\n  }\n\n  public getChildren(node: any) {\n    const that = this;\n    const promise = new Promise((resolve, reject)=> {\n      jQuery(this.elementRef.nativeElement).on('narrow.vocab.ands', function(event, data) {\n        return resolve(that.mapItemsToChildren(data.items));\n      });\n    });\n    jQuery(this.elementRef.nativeElement)['vocab_widget']('narrow', {uri: node.data.about});\n    return promise;\n  }\n\n  public mapItemsToChildren(items: any[]) {\n    return _.map(items, (item:any) => {\n      return { id: item.notation, name: `${item.notation} - ${item.label}`, hasChildren:item.narrower && item.narrower.length > 0,  ...item }\n    });\n  }\n\n  public getValueFromChildData(childNode: any) {\n    const data = childNode.data;\n    const val = { name: `${data.notation} - ${data.label}`,  label: data.label, notation: data.notation };\n    this.setParentTree(val, childNode);\n    return val;\n  }\n\n  public setParentTree(val:any, childNode: any) {\n    const parentNotation = _.get(childNode, 'parent.data.notation');\n    if (!_.isUndefined(parentNotation)) {\n      if (_.isUndefined(val['geneaology'])) {\n        val['geneaology'] = [];\n      }\n      val['geneaology'].push(parentNotation);\n      if (childNode.parent.parent) {\n        this.setParentTree(val, childNode.parent);\n      }\n    } else if (!_.isUndefined(val['geneaology'])) {\n      val['geneaology'] = _.sortBy(val['geneaology']);\n    }\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any, elem:any) {\n    this.collapseNodes();\n    this.clearSelectedNodes();\n    this.loadState = this.STATUS_LOADED;\n    this.startTreeInit();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-andsvocab.component.ts","module.exports = \"<div *ngIf=\\\"!field.editMode\\\" class=\\\"key-value-pair\\\">\\n  <span *ngIf=\\\"field.label\\\" class=\\\"key\\\">{{field.label}}</span>\\n  <ul>\\n    <li *ngFor=\\\"let value of field.value\\\">{{ value.notation }} - {{ value.label }}</li>\\n  </ul>\\n</div>\\n<div *ngIf=\\\"field.editMode\\\" [formGroup]='form' [ngClass]=\\\"getGroupClass()\\\">\\n  <span class=\\\"label-font\\\">\\n    {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help\\\" (click)=\\\"toggleHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n  </span>\\n  <span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"help-block\\\" *ngIf=\\\"this.helpShow\\\" [innerHtml]=\\\"field.help\\\">{{field.help}}</span>\\n  <tree-root *ngIf=\\\"field.editMode\\\"\\n      #andsTree\\n      class=\\\"reverse\\\"\\n      id=\\\"andsTree\\\"\\n      [nodes]=\\\"treeData\\\"\\n      [options]=\\\"options\\\"\\n      (nodeActivate)=\\\"onNodeActivate($event)\\\"\\n      (nodeDeactivate)=\\\"onNodeDeactivate($event)\\\"\\n      (event)=\\\"onEvent($event)\\\"\\n      >\\n      <ng-template #treeNodeWrapperTemplate let-node let-index=\\\"index\\\">\\n        <div class=\\\"node-wrapper\\\" [style.padding-left]=\\\"node.getNodePadding()\\\">\\n          <tree-node-expander [node]=\\\"node\\\"></tree-node-expander>\\n          <rb-tree-node-checkbox *ngIf=\\\"node.options.useCheckbox\\\" [node]=\\\"node\\\" [ariaLabel]=\\\"node.data.name\\\"></rb-tree-node-checkbox>\\n          <div class=\\\"node-content-wrapper\\\"\\n            [class.node-content-wrapper-active]=\\\"node.isActive\\\"\\n            [class.node-content-wrapper-focused]=\\\"node.isFocused\\\"\\n            (click)=\\\"node.mouseAction('click', $event)\\\"\\n            (dblclick)=\\\"node.mouseAction('dblClick', $event)\\\"\\n            (contextmenu)=\\\"node.mouseAction('contextMenu', $event)\\\"\\n            (treeDrop)=\\\"node.onDrop($event)\\\"\\n            [treeAllowDrop]=\\\"node.allowDrop\\\"\\n            [treeDrag]=\\\"node\\\"\\n            [treeDragEnabled]=\\\"node.allowDrag()\\\">\\n\\n            <tree-node-content [node]=\\\"node\\\" [index]=\\\"index\\\"></tree-node-content>\\n          </div>\\n        </div>\\n      </ng-template>\\n  </tree-root>\\n  <div class=\\\"text-danger\\\" *ngIf=\\\"hasRequiredError()\\\">{{field.validationMessages.required}}</div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-andsvocab.html\n// module id = ./redbox-portal/angular/shared/form/field-andsvocab.html\n// module chunks = main","module.exports = \"<div *ngIf=\\\"isListening\\\">\\n  <div>&nbsp;</div>\\n  <h4> {{ field.label }} </h4>\\n  <table class='table table-striped'>\\n    <thead>\\n      <tr>\\n        <th>{{ field.nameLabel }} </th>\\n        <th>{{ field.statusLabel }} </th>\\n        <th>{{ field.completionLabel }} </th>\\n        <th>{{ field.messageLabel }} </th>\\n        <th>{{ field.dateStartedLabel }} </th>\\n        <th>{{ field.startedByLabel }} </th>\\n        <th>{{ field.lastUpdateLabel }} </th>\\n        <th>{{ field.dateCompletedLabel }} </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr *ngFor=\\\"let progress of field.progressArr\\\">\\n        <td>{{ progress.name }}</td>\\n        <td>{{ field.getStatusLabel(progress.status) }}</td>\\n        <td *ngIf=\\\"field.completionRateType == 'percentage'\\\">{{ progress.completionRate | percent:'1.0-0':locale }}</td>\\n        <td>{{ progress.message }}</td>\\n        <td>{{ formatDateForDisplay(progress.date_started) }}</td>\\n        <td>{{ progress.started_by }}</td>\\n        <td>{{ formatDateForDisplay(progress.updatedAt) }}</td>\\n        <td>{{ formatDateForDisplay(progress.date_completed) }}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-asynch.component.html\n// module id = ./redbox-portal/angular/shared/form/field-asynch.component.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, ChangeDetectorRef } from '@angular/core';\nimport { PercentPipe } from '@angular/common';\nimport { SimpleComponent } from './field-simple.component';\nimport { NotInFormField } from './field-simple';\nimport { RecordsService } from './records.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/bufferTime';\nimport 'rxjs/add/operator/filter';\nimport * as moment from 'moment';\n\ndeclare var jQuery: any;\ndeclare var io: any;\n\n/**\n * Async / background tasks field\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class AsynchField extends NotInFormField {\n  public listenType: any;\n  public relatedRecordId: string;\n  public criteria: any;\n  public nameLabel: string;\n  public statusLabel: string;\n  public dateStartedLabel: string;\n  public dateCompletedLabel: string;\n  public startedByLabel: string;\n  public messageLabel: string;\n  public lastUpdateLabel: string;\n  public completionLabel: string;\n  public completionRateType: string;\n  public progressArr: any[];\n  public RecordsService: RecordsService;\n  public dateFormat:string;\n  public taskType: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.relatedRecordId = options['relatedRecordId'] || undefined;\n    this.completionRateType = options['completionRateType'] || 'percentage';\n    this.nameLabel = options['nameLabel'] ? this.getTranslated(options['nameLabel'], options['nameLabel']) : 'Name';\n    this.statusLabel = options['statusLabel'] ? this.getTranslated(options['statusLabel'], options['statusLabel']) : 'Status';\n    this.dateStartedLabel = options['dateStartedLabel'] ? this.getTranslated(options['dateStartedLabel'], options['dateStartedLabel']) : 'Date Started';\n    this.dateCompletedLabel = options['dateCompletedLabel'] ? this.getTranslated(options['dateCompletedLabel'], options['dateCompletedLabel']) : 'Date Completed';\n    this.startedByLabel = options['startedByLabel'] ? this.getTranslated(options['startedByLabel'], options['startedByLabel']) : 'Started By';\n    this.messageLabel = options['messageLabel'] ? this.getTranslated(options['messageLabel'], options['messageLabel']) : 'Message';\n    this.completionLabel = options['completionLabel'] ? this.getTranslated(options['completionLabel'], options['completionLabel']) : 'Completion';\n    this.lastUpdateLabel = options['lastUpdateLabel'] ? this.getTranslated(options['lastUpdateLabel'], options['lastUpdateLabel']) : 'Last Updated';\n    this.dateFormat = options['dateFormat'] || 'L LT';\n    this.listenType = options['listenType'] || \"record\"; // listens to record wide\n    this.taskType = options['taskType'] || '';\n    this.criteria = options['criteria'] || {where: {relatedRecordId: '@oid'}}; // defaults to all happenings for this oid\n\n    this.RecordsService = this.getFromInjector(RecordsService);\n  }\n\n  public getStatusLabel(status) {\n    return this.getTranslated(`${this.options.statusLabel}-${status}`, status);\n  }\n\n}\n/**\n*\n* Component to display asynchronous processes\n*\n*\n*/\n@Component({\n  selector: 'asynch-component',\n  templateUrl: './field-asynch.component.html'\n})\nexport class AsynchComponent extends SimpleComponent {\n  field: AsynchField;\n  public isListening:boolean;\n  public locale;\n  constructor(private changeRef: ChangeDetectorRef) {\n    super();\n    this.locale = window.navigator.language;\n  }\n\n  public ngOnInit() {\n    let oid = this.field.relatedRecordId || this.field.fieldMap._rootComp.oid;\n    const that = this;\n    if (_.isNull(oid) || _.isUndefined(oid) || _.isEmpty(oid)) {\n      // wait for the OID to be set when record is created\n      if (!this.field.fieldMap._rootComp.getSubscription('recordCreated')) {\n        console.log(`Subscribing to record creation..... ${this.field.name}`);\n        this.field.fieldMap._rootComp.subscribe('recordCreated', this.field.name, (createdInfo) => {\n          that.field.relatedRecordId = createdInfo.oid;\n          that.startListen();\n        });\n      }\n    }\n    if (oid) {\n      this.field.relatedRecordId = this.field.fieldMap._rootComp.oid;\n      this.startListen();\n    }\n  }\n\n  protected startListen() {\n    if (!this.isListening && (!_.isUndefined(this.field.relatedRecordId) && !_.isEmpty(this.field.relatedRecordId))) {\n      const fq = JSON.stringify(this.field.criteria).replace(/@oid/g, this.field.relatedRecordId);\n\n      this.field.RecordsService.getAsyncProgress(fq).then(progressArr => {\n        _.each(progressArr, (progress) => {\n          progress.completionRate = progress.currentIdx / progress.targetIdx;\n          if (this.field.listenType == \"progress\") {\n            this.field.RecordsService.subscribeToAsyncProgress(progress.id, (data, socketRes) => {\n              console.log(`Subscribed to async tasks: ${progress.id}`);\n              console.log(data);\n              console.log(socketRes);\n            });\n          }\n        });\n        if (this.field.listenType == \"record\") {\n          this.field.RecordsService.subscribeToAsyncProgress(this.field.relatedRecordId, (data, socketRes) => {\n            console.log(`Subscribed to async tasks for record: ${this.field.relatedRecordId}`);\n            console.log(data);\n            console.log(socketRes);\n          });\n        } else if (this.field.listenType == \"taskType\") {\n          this.field.RecordsService.subscribeToAsyncProgress(`${this.field.relatedRecordId}-${this.field.taskType}`, (data, socketRes) => {\n            console.log(`Subscribed to async tasks for record with taskType: ${this.field.relatedRecordId}-${this.field.taskType}`);\n            console.log(data);\n            console.log(socketRes);\n          });\n        }\n        io.socket.on('start', this.onStart.bind(this));\n        io.socket.on('stop', this.onStop.bind(this));\n        io.socket.on('update', this.onUpdate.bind(this));\n        this.field.progressArr = progressArr;\n        this.isListening = true;\n      });\n    }\n  }\n\n  public onStart(progress) {\n    console.log(`Got start event:`);\n    console.log(progress);\n    this.field.progressArr ? this.field.progressArr.push(progress) : this.field.progressArr = [progress];\n    this.changeRef.detectChanges();\n  }\n\n  public onStop(progress) {\n    console.log(`Got stop event:`);\n    console.log(progress);\n    this.updateProgress(progress);\n  }\n\n  public onUpdate(progress) {\n    console.log(`Got update event:`);\n    console.log(progress);\n    this.updateProgress(progress);\n  }\n\n  protected updateProgress(progress) {\n\n    const targetProgress = _.find(this.field.progressArr, (prog) => { return prog.id == progress.id; });\n    _.assign(targetProgress, progress);\n    this.changeRef.detectChanges();\n  }\n\n  public formatDateForDisplay(value: string) {\n    return value ? moment(value).locale(this.locale).format(this.field.dateFormat) : '';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-asynch.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { EventEmitter, Injector, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { TranslationService } from '../translation-service';\nimport { UtilityService } from '../util-service';\nimport { Observable } from 'rxjs/Observable';\n\nimport * as _ from \"lodash\";\n/**\n * Base class for dynamic form models...\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\nexport class FieldBase<T> {\n  value: T;\n  id: string;\n  name: string;\n  label: string;\n  required: boolean;\n  controlType: string;\n  compClass: any;\n  form: any;\n  groupClasses: any;\n  cssClasses: any;\n  isGroup: boolean;\n  hasGroup: boolean;\n  hasLookup: boolean;\n  options: any;\n  groupName: string;\n  hasControl: boolean;\n  formModel: any;\n  validationMessages: any;\n  editMode: boolean;\n  readOnly: boolean;\n  help: any;\n  translationService: TranslationService;\n  defaultValue: any;\n  marginTop: string;\n  onChange: any; // custom configuration for each component, for dates: e.g. { 'setStartDate': ['name of pickers']}\n  publish: any; // configuration for publishing events\n  subscribe: any; // configuration for subscribing to events published by other components\n  fieldMap: any;\n  utilityService: UtilityService;\n  injector: Injector;\n  componentReactors: any[] = [];\n  clName: string;\n  visible: boolean;\n  appConfig: any;\n  visibilityCriteria: any;\n  validators: any;\n  requiredIfHasValue: any[];\n  selectFor: string;\n  defaultSelect: string;\n  hasValueLabel: string;\n  confirmChangesLabel: string;\n  confirmChangesParagraphLabel: string;\n\n  @Output() public onValueUpdate: EventEmitter<any> = new EventEmitter<any>();\n  @Output() public onValueLoaded: EventEmitter<any> = new EventEmitter<any>();\n\n\n  constructor(options = {}, injector) {\n    this.injector = injector;\n    this.translationService = this.getFromInjector(TranslationService);\n    this.setOptions(options);\n    this.validators = null;\n  }\n\n  getFromInjector(token:any) {\n    return this.injector.get(token);\n  }\n\n  setOptions(options: {\n    value?: T,\n    name?: string,\n    id?: string,\n    label?: string,\n    required?: boolean,\n    order?: number,\n    controlType?: string,\n    cssClasses?: any,\n    groupName?: string,\n    editMode? : boolean,\n    readOnly?: boolean,\n    help?: any,\n    defaultValue?: any,\n    selectFor?: string,\n    defaultSelect?: string,\n  } = {}) {\n    this.value = this.getTranslated(options.value, undefined);\n    this.name = options.name || '';\n    this.id = options.id || '';\n    this.label = this.getTranslated(options.label, '');\n    if(options.selectFor && options.defaultSelect) {\n      if(_.isArray(options.help)) {\n        const newHelp = _.defaultTo(\n          _.find(options.help, f => f.key === options.selectFor),\n          _.find(options.help, f => f.key === options.defaultSelect)\n        );\n        options.help = newHelp.value;\n      }\n    }\n    this.help = this.getTranslated(options.help, undefined);\n    this.required = !!options.required;\n    this.controlType = options.controlType || '';\n    this.cssClasses = options.cssClasses || {}; // array of\n    this.groupClasses = options['groupClasses'] || '';\n    this.groupName = options.groupName || null;\n    this.editMode = _.isUndefined(options.editMode) ? false : options.editMode;\n    this.readOnly = _.isUndefined(options.readOnly) ? false : options.readOnly;\n    this.onChange = options['onChange'] || null;\n    this.publish = options['publish'] || null;\n    this.subscribe = options['subscribe'] || null;\n    this.visible = _.isUndefined(options['visible']) ? true : options['visible'];\n    this.visibilityCriteria = options['visibilityCriteria'];\n    this.requiredIfHasValue = options['requiredIfHasValue'] || [];\n    this.hasValueLabel = this.getTranslated(options['hasValueLabel'], 'Multiple Values');\n    this.confirmChangesLabel = this.getTranslated(options['confirmChangesLabel'], 'Confirm Changes');\n    this.confirmChangesParagraphLabel = this.getTranslated(options['confirmChangesParagraphLabel'], 'The following values will be cleared');\n\n    if (this.groupName) {\n      this.hasGroup = true;\n    }\n    this.options = options;\n    this.hasControl = true;\n    this.validationMessages = {};\n    _.forOwn(options['validationMessages'] || {}, (messageKey, messageName) => {\n      this.validationMessages[messageName] = this.getTranslated(messageKey, messageKey);\n    });\n    this.defaultValue = this.getTranslated(options.defaultValue, undefined);\n    if ((_.isUndefined(this.value) || _.isEmpty(this.value)) && !_.isUndefined(this.defaultValue)) {\n      this.value = this.defaultValue;\n    }\n  }\n\n  getTranslated(key, defValue) {\n    if (!_.isEmpty(key) && !_.isUndefined(key)) {\n      if (_.isFunction(key.startsWith) && key.startsWith('@') && this.translationService) {\n        return this.translationService.t(key);\n      } else {\n        return key;\n      }\n    } else {\n      return defValue;\n    }\n  }\n\n  get isValid() {\n    if (this.form && this.form.controls) {\n      return this.form.controls[this.name].valid;\n    }\n    return false;\n  }\n\n  public createFormModel(valueElem:any = null): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n    if (this.required) {\n      this.validators = Validators.required;\n    }\n    this.formModel = new FormControl(this.value || '', this.validators);\n    return this.formModel;\n  }\n\n  /**\n   * Creates a control group and populates field map with:\n   *\n   * fieldMap[name].control = the NG2 FormControl\n   * fieldMap[name].field = the Field model (this)\n   *\n   * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n   * @param  {any} group\n   * @param  {any} fieldMap\n   * @return {any}\n   */\n  public getGroup(group: any, fieldMap: any) : any {\n    this.fieldMap = fieldMap;\n    let retval = null;\n    _.set(fieldMap, `${this.getFullFieldName()}.field`, this);\n    let control = this.createFormModel();\n    _.set(fieldMap, `${this.getFullFieldName()}.control`, control);\n    if (this.hasGroup && this.groupName) {\n      if (group[this.groupName]) {\n        group[this.groupName].addControl(this.name, control);\n      } else {\n        const fg = {};\n        fg[this.name] = control;\n        group[this.groupName] = new FormGroup(fg);\n      }\n      retval = group[this.groupName];\n    } else {\n      if (this.hasControl) {\n        group[this.name] = control;\n        retval = group[this.name];\n      }\n    }\n    return retval;\n  }\n\n  public triggerValidation() {\n    if (this.formModel) {\n      this.formModel.markAsTouched();\n      this.formModel.updateValueAndValidity({onlySelf: false, emitEvent: false});\n    }\n  }\n\n  valueNotNull(data) {\n    return !_.isNull(data) && (_.isArray(data) ? (!_.isNull(data[0])): true );\n  }\n\n  public setupEventHandlers() {\n    const publishConfig = this.publish;\n    const subscribeConfig = this.subscribe;\n    if (!_.isEmpty(this.formModel)) {\n\n      if (!_.isEmpty(publishConfig)) {\n        _.forOwn(publishConfig, (eventConfig, eventName) => {\n          const eventSourceName = eventConfig.modelEventSource;\n          let eventSource = eventSourceName ? this.formModel[eventSourceName] : null;\n          if (!eventSource) {\n            eventSource = this.getEventEmitter(eventSourceName, 'this');\n            if (!eventSource) {\n              // you only need a 'publish' config block doesn't have an eventEmitter...if you do, as in the case\n              // of the TabOrAccordionContainer, a simple 'subscribe' block will do\n              // create the event emitter so components and other things can hook and publish stuff\n              // Note: you will need publishers and subcribers to be named, otherwise they'd get lost in the map\n              this[eventSource] = new EventEmitter<any>();\n            }\n          }\n          eventSource.subscribe((value:any) => {\n            if (this.valueNotNull(value)) {\n              let emitData = value;\n              if (!_.isEmpty(eventConfig.fields)) {\n                if (_.isArray(value)) {\n                  emitData = [];\n                  _.each(value, (v:any) => {\n                    if (!_.isEmpty(v)) {\n                      const item = {};\n                      _.each(eventConfig.fields, (f:any)=> {\n                        _.forOwn(f, (src, tgt) => {\n                          item[tgt] = _.get(v, src);\n                        });\n                      });\n                      emitData.push(item);\n                    }\n                  });\n                } else {\n                  emitData = {};\n                  if (!_.isEmpty(value)) {\n                    _.each(eventConfig.fields, (f:any)=> {\n                      _.forOwn(f, (src, tgt) => {\n                        emitData[tgt] = _.get(value, src);\n                      });\n                    });\n                  }\n                }\n              }\n              //console.log(`Emitting data:`);\n              //console.log(`eventName: ${eventName} emitData: ${emitData} value: ${value}`);\n              this.emitEvent(eventName, emitData, value);\n            }\n          });\n\n        });\n      }\n    }\n\n    if (!_.isEmpty(subscribeConfig)) {\n      _.forOwn(subscribeConfig, (subConfig, srcName) => {\n        _.forOwn(subConfig, (eventConfArr, eventName) => {\n          const eventEmitter = this.getEventEmitter(eventName, srcName);\n          eventEmitter.subscribe((value:any) => {\n            let curValue = value;\n            if (_.isArray(value)) {\n              curValue = [];\n              _.each(value, (v: any) => {\n                let entryVal = v;\n                _.each(eventConfArr, (eventConf: any) => {\n                  const fn:any = _.get(this, eventConf.action);\n                  if (fn) {\n                    let boundFunction = fn;\n                    if(eventConf.action.indexOf(\".\") == -1) {\n                      boundFunction = fn.bind(this);\n                    } else {\n                      var objectName = eventConf.action.substring(0,eventConf.action.indexOf(\".\"));\n                      boundFunction = fn.bind(this[objectName]);\n                    }\n                    entryVal = boundFunction(entryVal, eventConf);\n                  }\n                });\n                if (!_.isEmpty(entryVal)) {\n                  curValue.push(entryVal);\n                }\n              });\n            } else {\n              _.each(eventConfArr, (eventConf: any) => {\n                // adding source of the event\n                eventConf.srcName = srcName;\n                const fn: any = _.get(this, eventConf.action);\n                if (fn) {\n                  let boundFunction = fn;\n                  if (eventConf.action.indexOf(\".\") == -1) {\n                    boundFunction = fn.bind(this);\n                  } else {\n                    var objectName = eventConf.action.substring(0, eventConf.action.indexOf(\".\"));\n                    boundFunction = fn.bind(this[objectName]);\n                  }\n                  curValue = boundFunction(curValue, eventConf);\n                }\n              });\n            }\n            if (!_.isUndefined(curValue)) {\n              // cascade the event instance wide if only there's a valid value\n              this.reactEvent(eventName, curValue, value);\n            }\n          });\n        });\n      });\n    }\n  }\n\n  protected getEventEmitter(eventName, srcName) {\n    if (srcName == \"this\") {\n      return _.get(this, eventName);\n    }\n    if (srcName == \"form\") {\n      return _.get(this.fieldMap['_rootComp'], eventName);\n    }\n    return _.get(this.fieldMap[srcName].field, eventName);\n  }\n\n  public emitEvent(eventName: string, eventData: any, origData: any) {\n    this[eventName].emit(eventData);\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any) {\n    this.value = eventData;\n    if (this.formModel) {\n      this.formModel.setValue(eventData, {onlySelf: true, emitEvent: false});\n    }\n    _.each(this.componentReactors, (compReact) => {\n      compReact.reactEvent(eventName, eventData, origData, this);\n    });\n  }\n\n  public setFieldMapEntry(fieldMap: any, fieldCompRef: any) {\n    if (!_.isUndefined(this.name) && !_.isEmpty(this.name) && !_.isNull(this.name)) {\n      _.set(fieldMap, `${this.getFullFieldName()}.instance`, fieldCompRef.instance);\n    }\n  }\n\n  public getFullFieldName(name = null) {\n    const fldName = `${name ? name : this.name}`;\n    // console.log(`Using fldName: ${fldName}`);\n    // console.log(this.fieldMap);\n    return fldName;\n  }\n\n  public getControl(name = null, fieldMap = null) {\n    return _.get(fieldMap ? fieldMap : this.fieldMap, `${this.getFullFieldName(name)}.control`);\n  }\n\n  public setValue(value:any, emitEvent:boolean=true) {\n    this.value = value;\n    this.formModel.setValue(value, { onlySelf: true, emitEvent: emitEvent });\n  }\n\n  public toggleVisibility() {\n    this.visible = !this.visible;\n  }\n\n  public setVisibility(data) {\n    let newVisible = this.visible;\n    if (_.isObject(this.visibilityCriteria) && this.visibilityCriteria['type'] == 'function') {\n      const fn:any = _.get(this, this.visibilityCriteria['action']);\n      if(this.visibilityCriteria['debug']) {\n        console.log(`visibilityCriteria: ${this.visibilityCriteria['debug']}`);\n      }\n      if (fn) {\n        let boundFunction = fn;\n        if(this.visibilityCriteria['action'].indexOf(\".\") == -1) {\n          boundFunction = fn.bind(this);\n        } else {\n          var objectName = this.visibilityCriteria['action'].substring(0,this.visibilityCriteria['action'].indexOf(\".\"));\n          boundFunction = fn.bind(this[objectName]);\n        }\n        //console.log(`visibilityCriteria: ${this.visibilityCriteria.name}`);\n        newVisible = boundFunction(data, this.visibilityCriteria);\n      }\n    } else {\n      newVisible = _.isEqual(data, this.visibilityCriteria);\n    }\n    this.updateVisible(newVisible);\n  }\n\n  updateVisible(newVisible) {\n    const that = this;\n    setTimeout(() => {\n      if (!newVisible) {\n        if (that.visible) {\n          // remove validators\n          if (that.formModel) {\n            that.formModel.clearValidators();\n            that.formModel.updateValueAndValidity();\n          }\n        }\n      } else {\n        if (!that.visible) {\n          // restore validators\n          if (that.formModel) {\n            that.formModel.setValidators(that.validators);\n            that.formModel.updateValueAndValidity();\n          }\n        }\n      }\n      that.visible = newVisible;\n    });\n  }\n\n  public checkIfVisible() {\n    if (_.isObject(this.visibilityCriteria) && this.visibilityCriteria['type'] == 'function') {\n      this.setVisibility(this.visibilityCriteria);\n    }\n  }\n\n  public replaceValWithConfig(val) {\n    _.forOwn(this.appConfig, (configVal, configKey) => {\n      val = val.replace(new RegExp(`@${configKey}`, 'g'), configVal);\n    });\n    return val;\n  }\n\n  public getConfigEntry(name, defValue) {\n    return _.isUndefined(_.get(this.appConfig, name)) ? defValue : _.get(this.appConfig, name);\n  }\n\n  public publishValueLoaded() {\n    this.onValueLoaded.emit(this.value);\n  }\n\n  setRequiredAndClearValueOnFalse(flag) {\n    this.required = flag;\n    if (flag) {\n      this.validators = Validators.required;\n      this.formModel.setValidators(this.validators);\n    } else {\n      if (_.isFunction(this.validators) && _.isEqual(this.validators, Validators.required)) {\n        this.validators = null;\n      }\n      this.formModel.clearValidators();\n      this.formModel.setValue(null);\n      this.value = null;\n    }\n  }\n\n  setRequired(flag) {\n    this.required = flag;\n    if (flag) {\n      this.validators = Validators.required;\n    } else {\n      if (_.isFunction(this.validators) && _.isEqual(this.validators, Validators.required)) {\n        this.validators = null;\n      } else {\n        _.remove(this.validators, (v) => {\n          return _.isEqual(v, Validators.required);\n        });\n      }\n    }\n    if (this.validators) {\n      this.formModel.setValidators(this.validators);\n    } else {\n      this.formModel.clearValidators();\n    }\n  }\n\n  setRequiredIfDependenciesHaveValue(data) {\n    let retVal = false;\n    _.each(this.requiredIfHasValue, (name) => {\n      const depVal = this.fieldMap._rootComp.getFieldValue(name);\n      let hasVal = false;\n      if (_.isArrayLike(depVal)) {\n        hasVal = !_.isEmpty(depVal);\n      } else {\n        hasVal = !_.isUndefined(depVal) && !_.isNull(depVal);\n      }\n      retVal = retVal || hasVal;\n    });\n    this.setRequired(retVal);\n  }\n\n  //Default asyncLoadData function. No async load required so return empty Observable.\n  asyncLoadData() {\n    return Observable.of(null);\n  }\n\n  setProp(change: any, config: any) {\n    if(config['debug']) {\n      console.log('setProp: '+ config['debug']);\n    }\n    let defered = false;\n    let value;\n    let checked;\n    if (_.isObject(change)) {\n      value = change['value'];\n      defered = _.isUndefined(change['defered']) ? false : change['defered'];\n      checked = _.isUndefined(change['checked']) ? false : change['checked'];\n    } else {\n      value = change;\n      checked = true;\n    }\n    if(config['defer'] && !defered) {\n      return;\n    }\n    if(config['valueCase']) {\n      let caseSet;\n      _.each(config['valueCase'], (cases) => {\n        if(cases['val'] === value) {\n          value = cases['set'];\n          caseSet = checked;\n          return false;\n        }\n      });\n      if(caseSet) {\n        this.setValue(this.getTranslated(value, undefined));\n      }\n    } else if(config['valueSet']) {\n      if(this.formModel) {\n        this.setValue(this.getTranslated(value, undefined));\n      } else {\n        this.value = this.getTranslated(value, undefined);\n      }\n    } else if(config['valueTest']) {\n      if(_.includes(config['valueTest'], value)) {\n        _.each(config['props'], (prop) => {\n          this.setPropValue(prop, checked, config['debug']);\n        });\n      }\n      else if(_.includes(config['valueFalse'], value)) {\n        _.each(config['props'], (prop) => {\n          this.setPropValue(prop, false, config['debug']);\n        });\n      }\n    }\n  }\n\n  setPropValue(prop, checked, debug) {\n    if(debug) {\n      console.log('setPropValue: '+ debug);\n    }\n    if (prop.key === 'required') {\n      if(checked) {\n        this.setRequired(prop.val);\n      } else {\n        this.setRequired(!prop.val);\n      }\n    } else if (prop.key === 'value') {\n      if(prop.clear && !checked) {\n        if(this.formModel) {\n          this.setValue('');\n        } else {\n          if(Array.isArray(this.value)) {\n            // Since there is no formArray.clear(); in this version of angular:\n            this.getControl().controls = [];\n            this.getControl().setValue([]);\n          } else {\n            this.value = null;\n          }\n        }\n      } else if(checked){\n        if(this.formModel) {\n          this.setValue(this.getTranslated(prop.val, undefined));\n        } else {\n          this.value = this.getTranslated(prop.val, undefined);\n        }\n      }\n    } else if (prop.key === 'visible') {\n      if(checked) {\n        //this.setVisibility(prop.val);\n        this.updateVisible(prop.val);\n      } else if(!checked) {\n        this.updateVisible(!prop.val);\n        //this.setVisibility(!prop.val);\n      }\n    }\n  }\n\n  updateVisibility(visible, config) {\n    if(config['debug']){\n      console.log(config['debug']);\n    }\n    const fieldName = config['field'];\n    const fieldValue = config['fieldValue'];\n    let field;\n    if(this.fieldMap && this.fieldMap[fieldName]) {\n      field = this.fieldMap[fieldName]['field'];\n      if(field && _.includes(field['value'], fieldValue)) {\n        console.log(`updateVisibility to true: ${config['debug']}`);\n        return true;\n      } else {\n        return false\n      }\n    } else {\n      return false;\n    }\n  }\n\n  getFieldDisplay(f) {\n    let valueLabel = f.control.value;\n    const options = f.field.options.options;\n    if(options) {\n      if(Array.isArray(valueLabel)){\n        valueLabel = this.hasValueLabel;\n      }else {\n        valueLabel = options.find(o=>f.control.value===o.value).label;\n      }\n    }\n    return {\n      valueLabel: valueLabel === true ? '' : valueLabel,\n      label: f.field.label\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-base.ts","module.exports = \"<div *ngIf=\\\"field.editMode\\\" class='padding-bottom-10'>\\n  <div class=\\\"row\\\" *ngIf=\\\"field.label && field.showHeader\\\">\\n    <div class=\\\"col-xs-12\\\">\\n      <span class=\\\"label-font\\\">\\n        {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help\\\" (click)=\\\"toggleHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n      </span>\\n    </div>\\n  </div>\\n  <div class=\\\"row\\\" *ngIf=\\\"field.showHeader\\\">\\n    <span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"col-xs-12 help-block\\\" *ngIf=\\\"this.helpShow\\\" [innerHtml]=\\\"field.help\\\"></span>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <ng-container *ngIf=\\\"field.freeText\\\" [formGroup]='field.formModel'>\\n      <!-- Free Text version -->\\n      <!--\\n      <ng-container >\\n        <div [ngClass]=\\\"getGroupClass('name')\\\">\\n          <input formControlName=\\\"name\\\" type=\\\"text\\\" class=\\\"form-control\\\"/>\\n          <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['name'].touched && field.formModel.controls['name'].hasError('required')\\\">{{field.validationMessages.required.name}}</div>\\n        </div>\\n        <div [ngClass]=\\\"getGroupClass('email')\\\">\\n          <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control\\\" />\\n          <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('email')\\\">{{field.validationMessages.invalid.email}}</div>\\n          <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('required')\\\">{{field.validationMessages.required.email}}</div>\\n        </div>\\n        <div >\\n          <input formControlName=\\\"orcid\\\" type=\\\"text\\\" class=\\\"form-control\\\"/>\\n        </div>\\n      </ng-container>  -->\\n\\n      <div *ngIf=\\\"!isEmbedded\\\">\\n        <div class=\\\"row\\\">\\n          <span class='col-xs-10' >\\n            <!-- Free text not embedded version -->\\n            <!-- Name not split -->\\n            <ng-container *ngIf=\\\"!field.splitNames\\\">\\n              <!-- If we show the title -->\\n              <ng-container *ngIf=\\\"field.showTitle\\\">\\n                <div class='col-xs-1'>\\n                  <input formControlName=\\\"honorific\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.titleColHdr\\\" [attr.placeholder]=\\\"field.titleColHdr\\\"/>\\n                </div>\\n              </ng-container>\\n              <!-- Name  -->\\n              <div class='col-xs-1'>\\n                <span class='text-right'>{{ field.nameColHdr }}</span>\\n              </div>\\n              <div [ngClass]=\\\"getGroupClass('text_full_name', true)\\\" >\\n                <input formControlName=\\\"text_full_name\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.nameColHdr\\\"/>\\n                <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['text_full_name'].touched && field.formModel.controls['text_full_name'].hasError('required')\\\">{{field.validationMessages.required.text_full_name}}</div>\\n              </div>\\n            </ng-container>\\n            <!-- Name split to family name, give name -->\\n            <ng-container *ngIf=\\\"field.splitNames\\\">\\n              <div class='col-xs-1' >\\n                <span class='text-right'>{{ field.familyNameHdr }}</span>\\n              </div>\\n              <div [ngClass]=\\\"getGroupClass('family_name')\\\" >\\n                <input formControlName=\\\"family_name\\\" type=\\\"text\\\" class=\\\"form-control\\\"/>\\n                <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['family_name'].touched && field.formModel.controls['family_name'].hasError('required')\\\" [attr.aria-label]=\\\"field.familyNameHdr\\\">{{field.validationMessages.required.family_name}}</div>\\n              </div>\\n              <div class='col-xs-1' >\\n                <span class='text-right'>{{ field.givenNameHdr }}</span>\\n              </div>\\n              <div [ngClass]=\\\"getGroupClass('given_name')\\\" >\\n                <input formControlName=\\\"given_name\\\" type=\\\"text\\\" class=\\\"form-control\\\"/>\\n                <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['given_name'].touched && field.formModel.controls['given_name'].hasError('required')\\\" [attr.aria-label]=\\\"field.givenNameHdr\\\">{{field.validationMessages.required.given_name}}</div>\\n              </div>\\n            </ng-container>\\n            <!-- Email field -->\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.emailColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('email', !field.splitNames)\\\">\\n              <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.emailColHdr\\\"/>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('email')\\\">{{field.validationMessages.invalid.email}}</div>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('required')\\\">{{field.validationMessages.required.email}}</div>\\n            </div>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.orcidColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('orcid', !field.splitNames && !field.showTitle)\\\">\\n              <input formControlName=\\\"orcid\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.orcidColHdr\\\"/>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <!-- Embedded free text version -->\\n      <ng-container *ngIf=\\\"isEmbedded\\\">\\n        <div class=\\\"row\\\">\\n          <span class='col-xs-12' >\\n            <ng-container *ngIf=\\\"field.showTitle\\\">\\n              <div class='col-xs-1'>\\n                <input formControlName=\\\"honorific\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.titleColHdr\\\" [attr.placeholder]=\\\"field.titleColHdr\\\"/>\\n              </div>\\n            </ng-container>\\n            <!-- Names unsplit -->\\n            <div class='col-xs-1' *ngIf=\\\"!field.splitNames\\\">\\n              <span class='text-right'>{{ field.nameColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('text_full_name', true)\\\" *ngIf=\\\"!field.splitNames\\\">\\n              <input formControlName=\\\"text_full_name\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.nameColHdr\\\"/>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['text_full_name'].touched && field.formModel.controls['text_full_name'].hasError('required')\\\">{{field.validationMessages.required.text_full_name}}</div>\\n            </div>\\n            <!-- Names are split -->\\n            <div class='col-xs-1' *ngIf=\\\"field.splitNames\\\">\\n              <span class='text-right'>{{ field.familyNameHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('family_name')\\\" *ngIf=\\\"field.splitNames\\\">\\n              <input formControlName=\\\"family_name\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.familyNameHdr\\\"/>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['family_name'].touched && field.formModel.controls['family_name'].hasError('required')\\\">{{field.validationMessages.required.family_name}}</div>\\n            </div>\\n            <div class='col-xs-1' *ngIf=\\\"field.splitNames\\\">\\n              <span class='text-right'>{{ field.givenNameHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('given_name')\\\" *ngIf=\\\"field.splitNames\\\">\\n              <input formControlName=\\\"given_name\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.givenNameHdr\\\"/>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['given_name'].touched && field.formModel.controls['given_name'].hasError('required')\\\">{{field.validationMessages.required.given_name}}</div>\\n            </div>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.emailColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('email', !field.splitNames)\\\">\\n              <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.emailColHdr\\\"/>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('email')\\\">{{field.validationMessages.invalid.email}}</div>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('required')\\\">{{field.validationMessages.required.email}}</div>\\n            </div>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.orcidColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('orcid', !field.splitNames && !field.showTitle)\\\">\\n              <input formControlName=\\\"orcid\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.orcidColHdr\\\"/>\\n            </div>\\n          </span>\\n        </div>\\n      </ng-container>\\n\\n    </ng-container>\\n    <!-- Lookup version -->\\n    <ng-container *ngIf=\\\"!field.freeText\\\" [formGroup]=\\\"field.formModel\\\">\\n      <!-- Not embedded version -->\\n      <div *ngIf=\\\"!isEmbedded\\\">\\n        <div class=\\\"row\\\">\\n          <span class='col-xs-10' >\\n            <!-- Lookup Not Embedded version -->\\n            <!-- If we show the title -->\\n            <ng-container *ngIf=\\\"field.showTitle\\\">\\n              <div class=\\\"col-xs-1\\\" >\\n                <input formControlName=\\\"honorific\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.titleColHdr\\\" [attr.placeholder]=\\\"field.titleColHdr\\\"/>\\n              </div>\\n            </ng-container>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.nameColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('text_full_name', true)\\\">\\n              <ng2-completer #ngCompleter (opened)=\\\"onOpen($event)\\\" (blur)=\\\"onBlur()\\\" (keyup)=\\\"onKeyUp($event)\\\" (keydown)=\\\"onKeydown($event)\\\" [overrideSuggested]=\\\"!field.forceLookupOnly\\\" [inputClass]=\\\"'form-control'\\\" [placeholder]=\\\"field.vocabField.placeHolder\\\" [clearUnselected]=\\\"shouldClearUnselected()\\\" (selected)=\\\"onSelect($event)\\\" [datasource]=\\\"field.vocabField.dataService\\\" [minSearchLength]=\\\"0\\\" [initialValue]=\\\"field.vocabField.initialValue\\\"></ng2-completer>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['text_full_name'].hasError('required')\\\">{{field.validationMessages.required.text_full_name}}</div>\\n            </div>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.emailColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('email', true)\\\">\\n              <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control\\\" [readOnly]=\\\"field.forceLookupOnly\\\" [attr.aria-label]=\\\"field.emailColHdr\\\"/>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('email')\\\">{{field.validationMessages.invalid.email}}</div>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('required')\\\">{{field.validationMessages.required.email}}</div>\\n            </div>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.orcidColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('orcid', !field.showTitle)\\\">\\n              <input formControlName=\\\"orcid\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.orcidColHdr\\\"/>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <ng-container *ngIf=\\\"isEmbedded\\\">\\n        <div class=\\\"row\\\">\\n          <span class='col-xs-12' >\\n            <!-- Lookup Embedded version -->\\n            <!-- If we show the title -->\\n            <ng-container *ngIf=\\\"field.showTitle\\\">\\n              <div class=\\\"col-xs-1\\\" >\\n                <input formControlName=\\\"honorific\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.titleColHdr\\\" [attr.placeholder]=\\\"field.titleColHdr\\\"/>\\n              </div>\\n            </ng-container>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.nameColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('text_full_name', true)\\\">\\n              <ng2-completer #ngCompleter (opened)=\\\"onOpen($event)\\\" (blur)=\\\"onBlur()\\\" (keyup)=\\\"onKeyUp($event)\\\" (keydown)=\\\"onKeydown($event)\\\" [overrideSuggested]=\\\"!field.forceLookupOnly\\\" [inputClass]=\\\"'form-control'\\\" [placeholder]=\\\"field.vocabField.placeHolder\\\" [clearUnselected]=\\\"shouldClearUnselected()\\\" (selected)=\\\"onSelect($event)\\\" [datasource]=\\\"field.vocabField.dataService\\\" [minSearchLength]=\\\"0\\\" [initialValue]=\\\"field.vocabField.initialValue\\\"></ng2-completer>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['text_full_name'].hasError('required')\\\">{{field.validationMessages.required.text_full_name}}</div>\\n            </div>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.emailColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('email', true)\\\">\\n              <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control\\\" [readOnly]=\\\"field.forceLookupOnly\\\" [attr.aria-label]=\\\"field.emailColHdr\\\"/>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('email')\\\">{{field.validationMessages.invalid.email}}</div>\\n              <div class=\\\"text-danger\\\" *ngIf=\\\"field.formModel.controls['email'].touched && field.formModel.controls['email'].hasError('required')\\\">{{field.validationMessages.required.email}}</div>\\n            </div>\\n            <div class='col-xs-1'>\\n              <span class='text-right'>{{ field.orcidColHdr }}</span>\\n            </div>\\n            <div [ngClass]=\\\"getGroupClass('orcid', !field.showTitle)\\\">\\n              <input formControlName=\\\"orcid\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.orcidColHdr\\\" />\\n            </div>\\n          </span>\\n        </div>\\n      </ng-container>\\n    </ng-container>\\n  </div>\\n</div>\\n<div class=\\\"view-contributor\\\" *ngIf=\\\"!field.editMode\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-xs-12 key-value-pair\\\" *ngIf=\\\"field.label\\\">\\n      <span class=\\\"key\\\">\\n      {{ field.label }}\\n      </span>\\n    </div>\\n  </div>\\n  <div class=\\\"row view-contributor\\\" *ngIf=\\\"field.showHeader\\\">\\n    <div *ngIf=\\\"field.showTitle\\\" class=\\\"col-xs-1 label-font\\\">{{field.titleColHdr}}</div>\\n    <div class=\\\"col-xs-3 label-font\\\">{{field.nameColHdr}}</div>\\n    <div [attr.class]=\\\"field.showRole? 'col-xs-3':'col-xs-4'\\\"><span class='label-font'>{{field.emailColHdr}}</span></div>\\n    <div [attr.class]=\\\"field.showRole? 'col-xs-3':'hidden'\\\"><span class='label-font'>{{field.roleColHdr}}</span></div>\\n    <div [attr.class]=\\\"field.showRole? (field.showTitle ? 'col-xs-2' : 'col-xs-3') :'col-xs-4'\\\"><span class='label-font'>{{field.orcidColHdr}}</span></div>\\n  </div>\\n  <div class=\\\"row view-contributor\\\">\\n    <div *ngIf=\\\"field.showTitle\\\" class=\\\"col-xs-1\\\">{{field.value.honorific}}</div>\\n    <div class=\\\"col-xs-3\\\">{{field.value.text_full_name}}</div>\\n    <div [attr.class]=\\\"field.showRole? 'col-xs-3':'col-xs-4'\\\">{{field.value.email}}</div>\\n    <div [attr.class]=\\\"field.showRole? 'col-xs-3':'hidden'\\\">{{field.value.role}}</div>\\n    <div [attr.class]=\\\"field.showRole? (field.showTitle ? 'col-xs-2' : 'col-xs-3') :'col-xs-4'\\\">{{field.value.orcid}}</div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-contributor.component.html\n// module id = ./redbox-portal/angular/shared/form/field-contributor.component.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport {Component, Input, ViewChild} from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { VocabField } from './field-vocab.component';\nimport { Observable} from 'rxjs/Rx';\n/**\n * Contributor Model\n *\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\nconst KEY_TAB = 9;\nconst KEY_EN = 13;\n\nexport class ContributorField extends FieldBase<any> {\n  nameColHdr: string;\n  emailColHdr: string;\n  roleColHdr: string;\n  orcidColHdr: string;\n  titleColHdr: string;\n  showHeader: boolean;\n  showRole: boolean;\n  roles: string[];\n\n  fieldNames: any;\n  fullNameResponseField: string = \"text_full_name\";\n  groupFieldNames: string[];\n  enabledValidators: boolean;\n  marginTop: string;\n  baseMarginTop: string;\n  role: string;\n  // Frankenstein begin\n  vocabField: VocabField;\n  previousEmail: string;\n  username: string;\n  hasInit: boolean;\n  freeText: boolean;\n  forceLookupOnly: boolean;\n  splitNames: boolean;\n  familyNameHdr: string;\n  givenNameHdr: string;\n  showTitle: boolean;\n  forceLookup_clearOnTabThrough: boolean;\n  // Frankenstein end\n  component: any;\n  findRelationship: any;\n  findRelationshipFor: string;\n  relationshipFor: string;\n  activeValidators: any;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.clName = 'ContributorField';\n    this.controlType = 'textbox';\n    this.splitNames = options['splitNames'] || false;\n    this.familyNameHdr = options['familyNameHdr'] ? this.getTranslated(options['familyNameHdr'], options['familyNameHdr']) : 'Family';\n    this.givenNameHdr = options['givenNameHdr'] ? this.getTranslated(options['givenNameHdr'], options['givenNameHdr']) : 'Given';\n    this.nameColHdr = options['nameColHdr'] ? this.getTranslated(options['nameColHdr'], options['nameColHdr']) : 'Researcher Name';\n    this.emailColHdr = options['emailColHdr'] ? this.getTranslated(options['emailColHdr'], options['emailColHdr']) : 'Email Address';\n    this.roleColHdr = options['roleColHdr'] ? this.getTranslated(options['roleColHdr'], options['roleColHdr']) : 'Project Role';\n    this.orcidColHdr = options['orcidColHdr'] ? this.getTranslated(options['orcidColHdr'], options['orcidColHdr']) : 'ORCID';\n    this.titleColHdr = options['titleColHdr'] ? this.getTranslated(options['titleColHdr'], options['titleColHdr']) : 'Title';\n    this.showTitle = options['showTitle'] == undefined ? true : options['showTitle'];\n    this.showHeader = options['showHeader'] == undefined ? true : options['showHeader'];\n    this.showRole = options['showRole'] == undefined ? true : options['showRole'];\n    this.baseMarginTop = options['baseMarginTop'] || '';\n    this.forceLookup_clearOnTabThrough = _.isUndefined(options['forceLookup_clearOnTabThrough']) ? true : options['forceLookup_clearOnTabThrough'];\n\n    this.roles = options['roles'] || [];\n    this.value = options['value'] || this.setEmptyValue();\n\n    this.activeValidators = options['activeValidators'];\n\n    this.fieldNames = options['fieldNames'] || [];\n    const textFullNameFieldName = _.find(this.fieldNames, fieldNameObject => {\n      return fieldNameObject['text_full_name'] != undefined;\n    });\n    if(textFullNameFieldName != null) {\n    this.fullNameResponseField = textFullNameFieldName['text_full_name'];\n    }\n    this.validationMessages = options['validationMessages'] || {required: {\n        email: this.getTranslated(options['validation_required_email'], 'Email required'),\n        text_full_name: this.getTranslated(options['validation_required_name'], 'Name is required'),\n        role: this.getTranslated(options['validation_required_role'],'Select a role'),\n        family_name: this.getTranslated(options['validation_required_family_name'], 'Family name is required'),\n        given_name: this.getTranslated(options['validation_required_given_name'], 'Given name is required'),\n      },\n      invalid: { email: this.getTranslated(options['validation_invalid_email'], 'Email format is incorrect')}};\n    this.groupFieldNames = ['text_full_name', 'email'];\n    this.freeText = options['freeText'] || false;\n    this.forceLookupOnly = options['forceLookupOnly'] || false;\n    if (this.forceLookupOnly) {\n      // override free text as it doesn't make sense\n      this.freeText = false;\n    }\n    // do not show contributor role if required details are blank\n    const showFieldRoleValue = _.get(this.value, 'text_full_name') || _.get(this.value, 'email');\n    this.role = showFieldRoleValue && options['role'] ? this.getTranslated(options['role'], options['role']) : null;\n    this.username = options['username'] || '';\n    this.previousEmail = this.value ? this.value.email : '';\n\n    this.validators = {\n      text_full_name: [Validators.required],\n      email: [Validators.required, Validators.email]\n    };\n    if (!this.freeText) {\n      this.vocabField = new VocabField(this.options, this.injector);\n      this.hasLookup = true;\n    }\n    if (this.splitNames) {\n      this.groupFieldNames.push('family_name');\n      this.groupFieldNames.push('given_name');\n      this.validators['family_name'] = [Validators.required];\n      this.validators['given_name'] = [Validators.required];\n    }\n    // Resolves: #605\n    // now that we've set the default validators... we read the config to override\n    if (!_.isEmpty(this.activeValidators)) {\n      _.forOwn(this.activeValidators, (vConfig, fName) => {\n        // expects to be an array of Validator method names\n        if (_.isArray(vConfig)) {\n          this.validators[fName] = _.map(vConfig, (vConfigEntry) => {\n            return _.get(Validators, vConfigEntry);\n          });\n        } else if (vConfig == null) {\n          // remove the default...\n          _.unset(this.validators, fName);\n        }\n      });\n    }\n    this.findRelationshipFor = options['findRelationshipFor'] || '';\n    this.findRelationship = options['findRelationship'] || null;\n    this.relationshipFor = options['relationshipFor'] || '';\n  }\n\n  setLookupServices(completerService:any, lookupService:any) {\n    if (!this.freeText) {\n      this.vocabField.setLookupServices(completerService, lookupService);\n    }\n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n    if (_.isEmpty(this.value.role)) {\n      this.value.role = this.role;\n    }\n\n    if (!this.freeText) {\n      // this.vocabField.setEmptyValue();\n      this.formModel = this.vocabField.createFormModel(this.value, true);\n      this.formModel.addControl('username', new FormControl(this.value.username));\n      this.formModel.addControl('role', new FormControl(this.value.role));\n      this.formModel.addControl('orcid', new FormControl(this.value.orcid));\n      this.formModel.addControl('honorific', new FormControl(this.value.honorific));\n      if (this.value) {\n        this.setValue(this.value);\n      }\n    } else {\n      this.formModel = new FormGroup({text_full_name: new FormControl(this.value.text_full_name || null),\n                                   email: new FormControl(this.value.email || null),\n                                   role: new FormControl(this.value.role || null),\n                                   username: new FormControl(this.value.username || ''),\n                                   orcid: new FormControl(this.value.orcid || ''),\n                                   honorific: new FormControl(this.value.honorific || '')\n                                 });\n      if (this.splitNames) {\n        this.formModel.addControl('family_name', new FormControl(this.value.family_name));\n        this.formModel.addControl('given_name', new FormControl(this.value.given_name));\n      }\n    }\n    if (this.required) {\n      this.enableValidators();\n    } else {\n      // if splitting names, attach handler to individual input form control\n      if (this.splitNames) {\n        const reqFields = ['family_name', 'given_name'];\n        const handler = this.getToggleConditionalValidationHandler(reqFields, true);\n        _.each(reqFields, (reqField:any) => {\n          this.formModel.controls[reqField].valueChanges.subscribe(handler);\n        });\n        // install the validators if needed\n        const hasValue = !_.isEmpty(this.value.family_name) || !_.isEmpty(this.value.given_name);\n        this.toggleConditionalValidation(hasValue);\n      } else {\n        // install the validators if needed\n        this.toggleConditionalValidation(!_.isEmpty(this.value.text_full_name));\n      }\n    }\n    return this.formModel;\n  }\n\n  getToggleConditionalValidationHandler(requiredFields:any[], useFormControl:boolean) {\n    return ((value:any) => {\n      let hasValue = true;\n      if (useFormControl) {\n        _.each(requiredFields, (reqField:any) => {\n          hasValue = hasValue || !_.isEmpty(this.formModel.controls[reqField].value);\n        });\n      } else {\n        hasValue = !_.isEmpty(value);\n      }\n      this.toggleConditionalValidation(hasValue);\n    });\n  }\n\n  setValue(value:any, emitEvent:boolean=true, updateTitle:boolean=false) {\n    this.setMissingFields(value);\n    if (!this.hasInit) {\n      this.hasInit = true;\n      value.username = _.isUndefined(value.username) ? '' : value.username;\n    } else {\n      if ( _.isUndefined(value.username) ||  (value.email && value.email != this.previousEmail )) {\n        value.username = '';\n        this.previousEmail = value.email;\n      }\n    }\n    this.formModel.patchValue(value, {emitEvent: emitEvent});\n    this.formModel.markAsTouched();\n    this.formModel.markAsDirty();\n    if (updateTitle && !this.freeText) {\n      this.component.ngCompleter.ctrInput.nativeElement.value = this.vocabField.getTitle(value);\n    }\n    // install the validators if needed\n    if (this.splitNames) {\n      const hasValue = !_.isEmpty(value.family_name) || !_.isEmpty(value.given_name);\n      this.toggleConditionalValidation(hasValue);\n    } else {\n      this.toggleConditionalValidation(!_.isEmpty(value.text_full_name));\n    }\n\n  }\n\n  toggleConditionalValidation(hasValue) {\n    // Resolves #605: Add config flag for each field to enable conditional validation\n    // Only one condition for now: names must be set\n    if (hasValue) {\n      _.forOwn(this.activeValidators, (vConfig, fName) => {\n        if (!_.isUndefined(this.validators[fName])) {\n          this.formModel.controls[fName].setValidators(this.validators[fName]);\n        }\n      });\n    } else {\n      _.forOwn(this.activeValidators, (vConfig, fName) => {\n        if (!_.isUndefined(this.validators[fName])) {\n          this.formModel.controls[fName].clearValidators();\n        }\n      });\n    }\n  }\n\n  toggleValidator(c:any) {\n    return (value:any) => {\n      if (value || _.find(this.formModel.controls, (c:any) => { return c.value })) {\n        this.enableValidators();\n      } else {\n        this.disableValidators();\n      }\n    };\n  }\n\n  enableValidators() {\n    if (this.enabledValidators) {\n      return;\n    }\n    this.enabledValidators = true;\n    _.forEach(this.groupFieldNames, (f:any) => {\n      // Resolves #605: check if there is a validator, because we can disable/remove validators now\n      if (!_.isUndefined(this.validators[f])) {\n        this.formModel.controls[f].setValidators(this.validators[f]);\n      }\n    });\n  }\n\n  disableValidators() {\n    if (!this.enabledValidators) {\n      return;\n    }\n    this.enabledValidators = false;\n    _.forEach(this.formModel.controls, (c:any) => {\n      c.setValidators(null);\n      c.setErrors(null);\n    });\n  }\n\n  postInit(value:any) {\n    if (value) {\n      this.value = value;\n      if (!this.freeText) {\n        this.vocabField.value = value;\n        this.vocabField.initialValue = _.cloneDeep(value);\n        this.vocabField.initialValue.title = this.vocabField.getTitle(value);\n        this.vocabField.initLookupData();\n      }\n      // If there is a findRelationship Object in configuration init the value,\n      // and not already inited, lookup and complete with a corresponding\n      // relationship in Mint\n      if(this.findRelationship && _.isEmpty(this.vocabField.initialValue.title)) {\n        if(this.findRelationshipFor && this.relationshipFor) {\n          const doInit = _.find(this.findRelationshipFor, r => r === this.relationshipFor);\n          if(doInit) {\n            this.initWithRelationship();\n          }\n        }\n      }\n    } else {\n      this.setEmptyValue();\n    }\n  }\n\n  initWithRelationship() {\n    const related = this.findRelationship['relateWith'];\n    const relatedWith = this.options[related];\n    const role = this.findRelationship['role'] || '';\n    const relationship = this.findRelationship['relationship'] || ''\n    const searchField = this.findRelationship['searchField'] || '';\n    const searchFieldLower = this.findRelationship['searchFieldLower'];\n    const searchRelation = this.findRelationship['searchRelation'] || '';\n    const searchRelationLower = this.findRelationship['searchRelationLower'];\n    const titleCompleter = this.findRelationship['title'] || '';\n    const emailCompleter = this.findRelationship['email'] || '';\n    const fullNameHonorificCompleter = this.findRelationship['fullNameHonorific'] || '';\n    const honorificCompleter = this.findRelationship['honorific'] || '';\n    const givenNameCompleter = this.findRelationship['givenName'] || '';\n    const familyNameCompleter = this.findRelationship['familyName'] || '';\n\n    this.vocabField.relationshipLookup(relatedWith, searchFieldLower, searchField)\n    .flatMap(res => {\n      let rel = null;\n      if(res && res['status'] === 200){\n        const data = res.json();\n        if(!_.isEmpty(data) && !data['error']) {\n          const obj = _.first(data);\n          if(_.isArray(obj[relationship])) {\n            rel = _.first(obj[relationship]);\n          }\n        }\n      }\n      if(rel) {\n        return this.vocabField.relationshipLookup(rel, searchRelationLower, searchRelation);\n      } else {\n        return Observable.of(null);\n      }\n    })\n    .subscribe(res => {\n      if(res && res['status'] === 200) {\n        const data = res.json();\n        if (!_.isEmpty(data) && !data['error']) {\n          const obj = _.first(data);\n          if (obj) {\n            const emailCompleterValue = this.getFirstOrDefault(obj[emailCompleter], '');\n            const titleCompleterValue = this.getFirstOrDefault(obj[titleCompleter], '');\n            const fullNameHonorificValue = this.getFirstOrDefault(obj[fullNameHonorificCompleter], '');\n            const honorificValue = this.getFirstOrDefault(obj[honorificCompleter], '');\n            const givenNameValue = this.getFirstOrDefault(obj[givenNameCompleter], '');\n            const familyNameValue = this.getFirstOrDefault(obj[familyNameCompleter], '');\n\n            this.vocabField.initialValue = {\n              text_full_name: titleCompleterValue,\n              text_full_name_honorific: fullNameHonorificValue,\n              email: emailCompleterValue,\n              givenName: givenNameValue,\n              familyName: familyNameValue,\n              honorific: honorificValue,\n              full_name_family_name_first: `${familyNameValue}, ${givenNameValue}`,\n              role: role\n            };\n            this.vocabField.initialValue.title = titleCompleterValue;\n          }\n        }\n      }\n    }, error => {\n      console.error('initWithRelationship error');\n      console.error(error.message);\n    });\n  }\n\n  getFirstOrDefault(obj, defaultValue){\n    return _.defaultTo(_.isArray(obj) ? _.first(obj) : obj, defaultValue);\n  }\n\n  setEmptyValue(emitEvent:boolean = true) {\n    this.value = {text_full_name: null, email: null, role: null, username: ''};\n    if (this.formModel) {\n      _.forOwn(this.formModel.controls, (c, cName)=> {\n        c.setValue(null, {emitEvent: emitEvent});\n      });\n    }\n    return this.value;\n  }\n\n  get isValid() {\n    let validity = false;\n    _.forEach(this.groupFieldNames, (f:any) => {\n      validity = validity && this.formModel.controls[f].valid;\n    });\n    return validity;\n  }\n\n  public triggerValidation(): void {\n    _.forEach(this.groupFieldNames, (f:any) => {\n      this.formModel.controls[f].updateValueAndValidity({ onlySelf: true, emitEvent: false });\n      this.formModel.controls[f].markAsTouched();\n    });\n  }\n\n  public getValidationError(): any {\n    let errObj = null;\n    if (this.formModel) {\n      _.forEach(this.groupFieldNames, (f:any) => {\n        if (!_.isEmpty(this.formModel.controls[f].errors)) {\n          errObj = this.formModel.controls[f].errors;\n        }\n      });\n    }\n    return errObj;\n  }\n\n  /**\n   * This method was created to try to guess the family and given names from a value that's got these 2 merged.\n   *\n   * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n   * @param  value\n   * @return\n   */\n  public setMissingFields(value: any) {\n    if (this.splitNames && (value && value.text_full_name && (_.isEmpty(value.family_name) || _.isUndefined(value.family_name)))) {\n      // guess work begins...\n      const names = value.text_full_name.split(' ');\n      value['given_name'] = names[0];\n      names.splice(0, 1);\n      value['family_name'] = names.join(' ');\n      value['full_name_family_name_first'] = `${value['family_name']}, ${value['given_name']}`;\n    }\n    return value;\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any) {\n    if (_.isEmpty(this.componentReactors)) {\n      this.setValue(eventData, false, true);\n    } else {\n      _.each(this.componentReactors, (compReact) => {\n        compReact.reactEvent(eventName, eventData, origData, this);\n      });\n    }\n  }\n}\n\n@Component({\n  selector: 'rb-contributor',\n  templateUrl: './field-contributor.component.html',\n})\nexport class ContributorComponent extends SimpleComponent {\n  field: ContributorField;\n  @Input() isEmbedded: boolean = false;\n  @ViewChild('ngCompleter') public ngCompleter: any;\n  lastSelected: any;\n  emptied: boolean = false;\n  blurred: boolean = false;\n\n  public ngOnInit() {\n    this.field.componentReactors.push(this);\n    this.field.component = this;\n  }\n\n  public ngAfterViewInit() {\n    if (this.field.editMode && this.ngCompleter) {\n      const that = this;\n      this.ngCompleter.ctrInput.nativeElement.setAttribute('aria-label', 'Name');\n      this.ngCompleter.registerOnChange((v) => {\n        if (_.isEmpty(v) && !that.field.forceLookup_clearOnTabThrough) {\n          // if this option is set, we ignore the tab through\n          return;\n        }\n        that.emptied = _.isEmpty(v);\n        if (that.emptied && that.blurred) {\n          that.blurred = false;\n          console.log(`Forced lookup, clearing data..`)\n          this.field.setEmptyValue(true);\n          this.lastSelected = null;\n          this.field.toggleConditionalValidation(false);\n        }\n      });\n    }\n  }\n\n  public getGroupClass(fldName:any, wideMode:boolean = false): string {\n    let hasError = false;\n    hasError = hasError || (this.field.formModel.controls[fldName].hasError('required'));\n    if (!hasError && fldName == 'email') {\n      hasError = hasError || (this.field.formModel.controls[fldName].hasError('email'));\n    }\n    const additionalClass = this.field.splitNames ? ' padding-remove' : '';\n    return `col-xs-${wideMode ? '3' : '2'} form-group${additionalClass}${hasError ? ' has-error' : ''} ${_.isEmpty(this.field.cssClasses) || _.isEmpty(this.field.cssClasses[fldName]) ? '' : this.field.cssClasses[fldName]}`;\n  }\n\n\n  onSelect(selected: any, emitEvent:boolean=true, updateTitle:boolean=false) {\n    if (selected) {\n      if ( (_.isEmpty(selected.title) || _.isUndefined(selected.title)) && (_.isEmpty(selected.text_full_name) || _.isUndefined(selected.text_full_name))) {\n        console.log(`Same or empty selection, returning...`);\n        this.lastSelected = null;\n        return;\n      } else {\n        if (selected.title && selected.title == this.field.formModel.value.text_full_name) {\n          console.log(`Same or empty selection, returning...`);\n          return;\n        }\n      }\n      this.lastSelected = selected;\n      let val:any;\n      if (!this.field.freeText) {\n        if (_.isEmpty(selected.text_full_name)) {\n          if (this.field.vocabField.restrictToSelection || selected.originalObject) {\n            val = this.field.vocabField.getValue(selected);\n          } else {\n            val = {text_full_name: selected.title};\n          }\n        } else if(selected[this.field.fullNameResponseField]) {\n          val = this.field.vocabField.getValue(selected);\n        } else {\n          val = {text_full_name: selected.title};\n        }\n        if (!_.isEmpty(selected.orcid) && !_.isUndefined(selected.orcid)) {\n          val['orcid'] = selected.orcid;\n        }\n        if (!_.isEmpty(selected.username) && !_.isUndefined(selected.username)) {\n          val['username'] = selected.username;\n        }\n\n        val.role = this.field.role;\n        // console.log(`With selected:`);\n        // console.log(JSON.stringify(selected));\n        // console.log(`Using val:`);\n        // console.log(JSON.stringify(val));\n        this.field.setValue(val, emitEvent, updateTitle);\n      } else {\n        val = this.field.setMissingFields(selected);\n        this.field.setValue(val, emitEvent, updateTitle);\n      }\n    } else {\n      console.log(`No selected user.`)\n      if (this.field.forceLookupOnly) {\n        console.log(`Forced lookup, clearing data..`)\n        this.field.setEmptyValue(emitEvent);\n        this.lastSelected = null;\n      }\n    }\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any, elem:any) {\n    console.log(`Contributor component reacting:`);\n    console.log(eventData);\n    this.onSelect(eventData, false, true);\n  }\n\n  public shouldClearUnselected(): boolean {\n    if (!this.field.forceLookup_clearOnTabThrough && this.field.forceLookupOnly) {\n      return false;\n    }\n    return this.field.forceLookupOnly;\n  }\n\n  public onKeydown(event) {\n    if (event && (event.keyCode === KEY_EN || event.keyCode === KEY_TAB )) {\n      if (this.lastSelected && this.emptied) {\n        const that = this;\n        setTimeout(() => {\n          const value = that.lastSelected.title;\n          that.ngCompleter.ctrInput.nativeElement.value = that.lastSelected.title;\n        }, 40);\n      } else {\n        if (this.emptied && this.field.forceLookupOnly) {\n          console.log(`Forced lookup, clearing data..`)\n          this.field.setEmptyValue(true);\n          this.lastSelected = null;\n          this.field.toggleConditionalValidation(false);\n        }\n      }\n    } else {\n      const val = this.field.vocabField.getValue({text_full_name: this.ngCompleter.ctrInput.nativeElement.value });\n      this.field.setValue(val, true, false);\n    }\n\n  }\n\n  public onKeyUp(event) {\n    const val = this.ngCompleter.ctrInput.nativeElement.value\n    this.field.toggleConditionalValidation(!_.isEmpty(val));\n  }\n\n  public onBlur() {\n    if (this.field.forceLookupOnly) {\n      this.blurred = true;\n    }\n  }\n\n  public onOpen(isOpen:boolean) {\n    if (isOpen) {\n      this.field.toggleConditionalValidation(false);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-contributor.component.ts","import { Injectable, Inject, ApplicationRef }   from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport * as _ from \"lodash\";\nimport  { fieldClasses }from '../fieldClasses';\n\nimport { ConfigService } from '../config-service';\nimport { VocabFieldLookupService } from './field-vocab.component';\nimport { CompleterService } from 'ng2-completer';\nimport { TranslationService } from '../translation-service';\nimport { UtilityService } from '../util-service';\nimport { BaseService } from '../base-service';\nimport { Http } from '@angular/http';\n\n@Injectable()\nexport class FieldControlMetaService extends BaseService {\n  protected classes =  fieldClasses;\n\n  constructor(\n    @Inject(Http) http: Http,\n    @Inject(VocabFieldLookupService) private vocabFieldLookupService: VocabFieldLookupService,\n    @Inject(CompleterService) private completerService: CompleterService,\n    @Inject(ConfigService) protected configService: ConfigService,\n    @Inject(TranslationService) protected translationService: TranslationService,\n    @Inject(UtilityService) protected utilityService: UtilityService,\n    protected app: ApplicationRef\n  ) {\n      super(http, configService);\n  }\n\n  getFieldsMeta(fieldsArr: any) {\n    const fields = _.map(fieldsArr, (f:any) => {\n        // console.log(f.class);\n        // if(typeof this.classes[f.class] != 'undefined'){\n        //   console.log(f.class + ' is null');\n        // }\n        //Todo: break this up and return a more meaningful error when the field name doesn't exist  \n      let fieldClass = this.classes[f.class];\n      if(fieldClass === undefined) {\n        console.error(\"Field class with name: \" + f.class + \" not found field class list. Check spelling and whether it is declared in the following list.\")\n        console.error(this.classes);\n      }\n      const inst = new fieldClass.meta(f.definition, this.app['_injector']);\n      inst.utilityService = this.getInjectedService('utilityService');\n      inst.appConfig = this.getInjectedService('configService').config;\n      // set the component class\n      if (_.isArray(this.classes[f.class].comp)) {\n        inst.compClass = _.find(this.classes[f.class].comp, (c:any)=> {\n          // console.log(`Checking if ${c.clName} == ${f.compClass}`);\n          return c.clName == f.compClass\n        });\n        // defaults to the first entry when compClass is undefined\n        if (_.isUndefined(inst.compClass)) {\n          inst.compClass = this.classes[f.class].comp[0];\n        }\n      } else {\n        inst.compClass = this.classes[f.class].comp;\n      }\n      if (f.definition && f.definition.fields) {\n        inst.fields = this.getFieldsMeta(f.definition.fields);\n      }\n      return inst;\n    });\n    return fields;\n  }\n\n  flattenFields(fields: any[], fieldArr: any[]) {\n    _.map(fields, (f:any)=> {\n      fieldArr.push(f);\n      if (f.fields) {\n        this.flattenFields(f.fields, fieldArr);\n      }\n    });\n  }\n\n  getLookupData(fields: any[]) {\n    let fieldArray: any[] = [];\n    this.flattenFields(fields, fieldArray);\n    return Observable.from(fieldArray).flatMap((f:any) => {\n      if (f.hasLookup) {\n        const lookupServiceName = this.classes[f.clName].lookupService;\n        const serviceInst = this.getInjectedService(lookupServiceName);\n        f.setLookupServices(this.getInjectedService('completerService'), serviceInst);\n        // f.completerService = this.completerService;\n        // f.lookupService = this[lookupServiceName];\n        return serviceInst.getLookupData(f);\n      } else {\n        return Observable.of(null);\n      }\n    })\n    .flatMap((field:any) => {\n      return Observable.of(field);\n    })\n    .last()\n    .flatMap((whatever:any) => {\n      return Observable.of(fields);\n    });\n  }\n\n  getInjectedService(serviceName: string) {\n    let serviceInst = null;\n    switch (serviceName) {\n      case 'vocabFieldLookupService':\n        serviceInst = this.vocabFieldLookupService;\n        break;\n      case 'completerService':\n        serviceInst = this.completerService;\n        break;\n      case 'configService':\n        serviceInst = this.configService;\n        break;\n      case 'translationService':\n        serviceInst = this.translationService;\n        break;\n      case 'utilityService':\n        serviceInst = this.utilityService;\n        break;\n    }\n    return serviceInst;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-control-meta.service.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Injectable, Inject, ApplicationRef, Output, EventEmitter }   from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/last';\nimport 'rxjs/add/observable/from';\nimport { CompleterService } from 'ng2-completer';\nimport { ConfigService } from '../config-service';\nimport { TranslationService } from '../translation-service';\nimport { UtilityService } from '../util-service';\nimport { FieldControlMetaService } from './field-control-meta.service';\nimport { FieldBase } from './field-base';\nimport  { fieldClasses } from '../fieldClasses';\n/**\n * Field / Model Factory Service...\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\n@Injectable()\nexport class FieldControlService {\n  protected classes =  fieldClasses;\n  constructor(\n  @Inject(CompleterService) private completerService: CompleterService,\n  @Inject(ConfigService) protected configService: ConfigService,\n  @Inject(TranslationService) protected translationService: TranslationService,\n  @Inject(UtilityService) protected utilityService: UtilityService,\n  @Inject(FieldControlMetaService) protected fcmetaService: FieldControlMetaService,\n  protected app: ApplicationRef\n  ) {\n\n  }\n\n  addComponentClasses(componentClasses: object) {\n    this.classes = _.merge(this.classes,componentClasses);\n  }\n\n  getEmptyFormGroup() {\n    return new FormGroup({});\n  }\n\n  toFormGroup(fields: FieldBase<any>[], fieldMap: any = null ) {\n    let group: any = {};\n    this.populateFormGroup(fields, group, fieldMap);\n    this.setupEventHandlers(fieldMap);\n    this.setupVisibility(fieldMap);\n    return new FormGroup(group);\n  }\n\n  setupEventHandlers(fieldMap: any) {\n    _.forOwn(fieldMap, (fMap:any) => {\n      if (fMap.field) {\n        fMap.field.setupEventHandlers();\n      }\n    });\n  }\n\n  setupVisibility(fieldMap: any) {\n    _.forOwn(fieldMap, (fMap:any) => {\n      if (fMap.field) {\n        fMap.field.checkIfVisible();\n      }\n    });\n  }\n\n  populateFormGroup(fields: any[], group: any, fieldMap: any) {\n    fields.forEach((field:any) => {\n      if (field.fields && !field.hasGroup) {\n        this.populateFormGroup(field.fields, group, fieldMap);\n      } else {\n        field.getGroup(group, fieldMap);\n      }\n    });\n    return group;\n  }\n\n  getFieldsMeta(fieldsArr: any) {\n    const fields = this.fcmetaService.getFieldsMeta(fieldsArr);\n    return fields;\n  }\n\n  getLookupData(fields: any[]) {\n    return this.fcmetaService.getLookupData(fields);\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-control.service.ts","module.exports = \"<!-- Basic Uppy styles -->\\n<link rel=\\\"stylesheet\\\" href=\\\"/node_modules/uppy/dist/uppy.min.css\\\">\\n<div class='padding-bottom-10'>\\n  <span class=\\\"label-font\\\">\\n    {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n  </span><br/>\\n  <div>\\n      <div class=\\\"table-responsive\\\" *ngIf=\\\"getDatalocations() && getDatalocations().length > 0\\\">\\n      <table class=\\\"table table-bordered table-striped table-hover\\\">\\n        <thead>\\n          <tr>\\n            <th width=\\\"15%\\\">{{ field.typeHeader }}</th>\\n            <th width=\\\"40%\\\">{{ field.locationHeader }}</th>\\n            <th *ngIf=\\\"field.notesEnabled\\\" width=\\\"20%\\\">{{ field.notesHeader }}</th>\\n            <th *ngIf=\\\"field.iscEnabled\\\" width=\\\"20%\\\">{{ field.iscHeader }}</th>\\n            <th width=\\\"5%\\\" *ngIf=\\\"field.editMode\\\"><span [hidden]=\\\"true\\\">Action</span></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let dataLocation of getDatalocations(); let i = index;\\\">\\n            <td>{{ field.dataTypeLookup[dataLocation.type] }}</td>\\n            <td>\\n              <ng-container *ngIf=\\\"dataLocation && dataLocation.type != 'attachment'\\\">\\n              {{ dataLocation.location }}\\n              </ng-container>\\n              <ng-container *ngIf=\\\"dataLocation.type == 'attachment'\\\">\\n                <ng-container *ngIf=\\\"dataLocation.pending\\\">\\n                  {{ dataLocation.name }}\\n                </ng-container>\\n                <a *ngIf=\\\"!dataLocation.pending\\\" href=\\\"{{ getAbsUrl(dataLocation.location) }}\\\" target=\\\"_blank\\\">\\n                  {{ dataLocation.name }}\\n                </a>\\n              </ng-container>\\n            </td>\\n            <td *ngIf=\\\"field.notesEnabled\\\">\\n              {{ dataLocation.notes }}\\n              <button *ngIf=\\\"field.editMode\\\" type='button' class=\\\"btn btn-primary pull-right\\\" (click)=\\\"editNotes(dataLocation, i)\\\">{{ field.editNotesButtonText }}</button>\\n            </td>\\n            <td *ngIf=\\\"field.iscEnabled\\\">\\n              {{ dataLocation.isc }}\\n            </td>\\n            <td *ngIf=\\\"field.editMode\\\">\\n              <a class=\\\"fa fa-minus-circle btn text-20 btn-danger\\\" (click)=\\\"field.removeLocation(dataLocation)\\\"></a>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n    <div class=\\\"row padding-bottom-10\\\" *ngIf=\\\"field.editMode\\\">\\n      <div class=\\\"col-xs-3\\\">\\n        <span class=\\\"label-font\\\" *ngIf=\\\"field.iscEnabled\\\">{{ field.iscHeader }}</span>\\n      </div>\\n      <div class=\\\"col-xs-3\\\">\\n        <span class=\\\"label-font\\\">{{ field.typeHeader }}</span>\\n      </div>\\n      <div class=\\\"col-xs-4\\\">\\n        <span class=\\\"label-font\\\">{{ field.locationHeader }}</span>\\n      </div>\\n      <div class=\\\"col-xs-2\\\">\\n        <span class=\\\"label-font\\\" *ngIf=\\\"field.newLocation.type != 'attachment' && field.notesEnabled\\\">{{ field.notesHeader }}</span>\\n      </div>\\n      <div class=\\\"col-xs-1\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help\\\" (click)=\\\"toggleHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"this.helpShow\\\">\\n      <span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"help-block\\\" [innerHtml]=\\\"field.help\\\"></span>\\n    </div>\\n    <ng-container *ngIf=\\\"field.editMode\\\">\\n      <div class=\\\"row\\\" >\\n        <div class=\\\"col-xs-3\\\">\\n          <select *ngIf=\\\"field.iscEnabled\\\" [(ngModel)]=\\\"field.newLocation.isc\\\" [id]=\\\"field.newLocation.isc\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.iscHeader\\\">\\n            <option *ngFor=\\\"let opt of field.securityClassificationOptions\\\" [value]=\\\"opt.value\\\">{{opt.label}}</option>\\n          </select>\\n        </div>\\n        <div class=\\\"col-xs-3\\\">\\n          <select [(ngModel)]=\\\"field.newLocation.type\\\" [id]=\\\"field.newLocation.type\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.typeHeader\\\">\\n             <option *ngFor=\\\"let opt of field.dataTypes\\\" [value]=\\\"opt.value\\\">{{opt.label}}</option>\\n          </select>\\n        </div>\\n\\n        <div class=\\\"col-xs-4\\\">\\n          <input [(ngModel)]=\\\"field.newLocation.location\\\" *ngIf=\\\"field.newLocation.type != 'attachment'\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.locationHeader\\\" />\\n          <a [class.disabled]=\\\"isAttachmentsDisabled()\\\"\\n          class=\\\"btn btn-info UppyModalOpenerBtn\\\"\\n          [style.display]=\\\"field.newLocation.type == 'attachment' ? 'inherit' : 'none'\\\" (click)=\\\"openModal()\\\">{{ field.attachmentText }}</a>\\n        </div>\\n        <div class=\\\"col-xs-2\\\">\\n          <input [(ngModel)]=\\\"field.newLocation.notes\\\"  *ngIf=\\\"field.newLocation.type != 'attachment' && field.notesEnabled\\\" type=\\\"text\\\" class=\\\"form-control\\\" [attr.aria-label]=\\\"field.notesHeader\\\" />\\n        </div>\\n        <div class=\\\"col-xs-1\\\">\\n          <a  *ngIf=\\\"field.newLocation.type != 'attachment' && !field.locationAddText\\\" class=\\\"fa fa-plus-circle btn text-20 pull-right btn-success\\\" (click)=\\\"field.addLocation()\\\"></a>\\n          <button *ngIf=\\\"field.newLocation.type != 'attachment' && field.locationAddText\\\" class=\\\"btn btn-success\\\" type='button' (click)=\\\"field.addLocation()\\\">{{ field.locationAddText }}</button>\\n        </div>\\n        <!--- Edit notes modal -->\\n        <div class=\\\"modal fade\\\" id=\\\"{{ field.name }}_editnotes\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" >\\n          <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n              <div class=\\\"modal-header\\\">\\n                <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\n                <span class=\\\"modal-title\\\" [innerHtml]=\\\"field.editNotesTitle\\\"></span>\\n              </div>\\n              <div class=\\\"modal-body\\\">\\n                <input type='text' [ngClass]=\\\"field.editNotesCssClasses\\\" [(ngModel)]=\\\"editingNotes.notes\\\" [attr.aria-label]=\\\"field.notesHeader\\\"/>\\n              </div>\\n              <div class=\\\"modal-footer\\\">\\n                <button (click)=\\\"hideEditNotes()\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" [innerHtml]=\\\"field.cancelEditNotesButtonText\\\"></button>\\n                <button (click)=\\\"saveNotes()\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" [innerHtml]=\\\"field.applyEditNotesButtonText\\\"></button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\"*ngIf=\\\"field.required && (field.label || (field.validationMessages && field.validationMessages.required))\\\" [style.visibility]=\\\"getFormControl() && getFormControl().hasError('required') && getFormControl().touched ? 'inherit':'hidden'\\\">\\n        <div class=\\\"col-xs-12\\\">\\n          <div class=\\\"text-danger\\\" *ngIf=\\\"!field.validationMessages?.required\\\">{{field.label}} is required</div>\\n          <div class=\\\"text-danger\\\" *ngIf=\\\"field.validationMessages?.required\\\">{{field.validationMessages.required}}</div>\\n        </div>\\n      </div>\\n    </ng-container>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-data-location.html\n// module id = ./redbox-portal/angular/shared/form/field-data-location.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\nimport * as Uppy from 'uppy';\n\ndeclare var jQuery: any;\n/**\n * Contributor Model\n *\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class DataLocationField extends FieldBase<any> {\n\n  showHeader: boolean;\n  validators: any;\n  enabledValidators: boolean;\n  value: any[];\n  accessDeniedObjects: object[];\n  failedObjects: object[];\n  recordsService: RecordsService;\n  columns: object[];\n  newLocation: any = { type: \"url\", location: \"\", notes: \"\" };\n  attachmentText: string=\"Add attachment(s)\";\n  dataTypes: object[] = [{\n    'label': 'URL',\n    'value': 'url',\n  },\n  {\n    'label': 'Physical location',\n    'value': 'physical',\n  },\n  {\n    'label': 'File path',\n    'value': 'file',\n  },\n  {\n    'label': 'Attachment',\n    'value': 'attachment'\n  }\n  ];\n\n  dataTypeLookup: any = {\n    'url': \"URL\",\n    'physical': \"Physical location\",\n    'attachment': \"Attachment\",\n    'file': \"File path\"\n  }\n\n  maxFileSize: number; // in bytes\n  maxNumberOfFiles: number;\n  allowedFileTypes: any[];\n  locationAddText: string;\n  editNotesButtonText: string;\n  editNotesTitle: string;\n  cancelEditNotesButtonText: string;\n  applyEditNotesButtonText: string;\n  editNotesCssClasses: any;\n  typeHeader: string;\n  locationHeader: string;\n  notesHeader: string;\n  uppyDashboardNote: string;\n  allowUploadWithoutSave: boolean;\n  securityClassificationOptions: any;\n  notesEnabled: boolean;\n  iscHeader: string;\n  iscEnabled: boolean;\n  defaultSelect: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.accessDeniedObjects = [];\n    this.locationAddText = this.getTranslated(options['locationAddText'], 'Add Location');\n    this.editNotesButtonText = this.getTranslated(options['editNotesButtonText'], 'Edit');\n    this.editNotesTitle = this.getTranslated(options['editNotesTitle'], 'Edit Notes');\n    this.cancelEditNotesButtonText = this.getTranslated(options['cancelEditNotesButtonText'], 'Cancel');\n    this.applyEditNotesButtonText = this.getTranslated(options['applyEditNotesButtonText'], 'Apply');\n    this.editNotesCssClasses = options['editNotesCssClasses'] || 'form-control';\n    this.typeHeader =  this.getTranslated(options['typeHeader'], 'Type');\n    this.locationHeader =  this.getTranslated(options['locationHeader'], 'Location');\n    this.notesEnabled = !_.isUndefined(options['notesEnabled']) ? options['notesEnabled'] : true;\n    this.notesHeader = options['notesHeader'] ? this.getTranslated(options['notesHeader'], options['notesHeader']) : null;\n    this.iscHeader = !_.isUndefined(options['iscHeader']) ? this.getTranslated(options['iscHeader'], options['iscHeader']) : 'Information Security Classification';\n    this.uppyDashboardNote = this.getTranslated(options['uppyDashboardNote'], 'Maximum upload size: 1 Gb per file');\n    this.iscEnabled = !_.isUndefined(options['iscEnabled']) ? options['iscEnabled'] : false;\n    this.defaultSelect = !_.isUndefined(options['defaultSelect']) ? options['defaultSelect'] : \"confidential\";\n    if(this.iscEnabled) {\n      this.newLocation['isc'] = this.defaultSelect;\n    }\n    this.securityClassificationOptions = options['securityClassificationOptions'] || [];\n    this.columns = options['columns'] || [];\n\n    this.maxFileSize = options['maxFileSize'] || null;\n    this.maxNumberOfFiles = options['maxNumberOfFiles'] || null;\n    this.allowedFileTypes = options['allowedFileTypes'] || null;\n\n    this.value = options['value'] || this.setEmptyValue();\n    this.recordsService = this.getFromInjector(RecordsService);\n    this.allowUploadWithoutSave = _.isUndefined(options['allowUploadWithoutSave']) ? false : options['allowUploadWithoutSave'];\n  }\n\n  setValue(value: any, emitEvent: boolean = true) {\n    this.formModel.setValue(value, { emitEvent: emitEvent, emitModelToViewChange: true });\n    this.formModel.markAsTouched();\n    this.formModel.markAsDirty();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n\n  addLocation() {\n    this.value.push(this.newLocation);\n    this.setValue(this.value);\n    this.newLocation = { type: \"url\", location: \"\", notes: \"\", isc: this.defaultSelect };\n  }\n\n  appendLocation(newLoc: any) {\n    this.value.push(newLoc);\n    this.setValue(this.value, true);\n  }\n\n  clearPendingAtt(value) {\n    _.each(value, (val: any) => {\n      if (val.type == 'attachment') {\n        _.unset(val, 'pending');\n      }\n    });\n  }\n\n  removeLocation(loc: any) {\n    _.remove(this.value, (val: any) => {\n      return val.type == loc.type && val.name == loc.name && val.location == loc.location;\n    });\n    this.setValue(this.value);\n  }\n\n\n\n}\n/**\n* Component to display information from related objects within ReDBox\n*\n*\n*\n*\n*/\n@Component({\n  selector: 'data-location-selector',\n  templateUrl: './field-data-location.html'\n})\nexport class DataLocationComponent extends SimpleComponent {\n  field: DataLocationField;\n  uppy: any = null;\n  oid: any = null;\n  editingNotes: any = {notes: '', index:-1};\n\n  public ngOnInit() {\n    let oid = this.field.fieldMap._rootComp.oid;\n    if (this.field.editMode) {\n      if (_.isNull(oid) || _.isUndefined(oid) || _.isEmpty(oid)) {\n        // wait for the OID to be set when record is created\n        if (!this.field.fieldMap._rootComp.getSubscription('recordCreated')) {\n          console.log(`Subscribing to record creation..... ${this.field.name}`);\n          this.field.fieldMap._rootComp.subscribe('recordCreated', this.field.name, this.eventRecordCreate.bind(this));\n          this.initUppy(oid);\n        }\n      }\n      this.initUppy(oid);\n    }\n  }\n\n  public ngAfterViewInit() {\n    if (this.field.editMode) {\n      jQuery(`.uppy-Dashboard-input`).attr('aria-label', this.field.label);\n    }\n  }\n\n  public getDatalocations() {\n    return this.field.value;\n  }\n\n  public eventRecordCreate(createdInfo) {\n    console.log(`Created record triggered: `);\n    console.log(createdInfo);\n    this.field.fieldMap[this.field.name].instance.initUppy(createdInfo.oid);\n  }\n\n  public tempClearPending() {\n    // temporarily clearing pending values\n    const fieldVal = _.cloneDeep(this.field.fieldMap._rootComp.form.value[this.field.name]);\n    this.field.clearPendingAtt(fieldVal);\n    this.field.fieldMap._rootComp.form.controls[this.field.name].setValue(fieldVal, { emitEvent: true });\n  }\n\n  public applyPendingChanges(savedInfo) {\n    if (savedInfo.success) {\n      // this.field.value = this.field.fieldMap._rootComp.form.value[this.field.name];\n      const finalVal = this.field.fieldMap._rootComp.form.controls[this.field.name].value;\n      this.field.fieldMap[this.field.name].field.value = finalVal;\n    } else {\n      // reverse the value\n      console.log(`Resetting....`);\n      this.field.fieldMap._rootComp.form.controls[this.field.name].setValue(this.field.fieldMap[this.field.name].field.value);\n    }\n  }\n\n\n  public initUppy(oid: string) {\n    if (_.isEmpty(oid) && this.field.allowUploadWithoutSave) {\n      oid = \"pending-oid\";\n    }\n    this.field.fieldMap[this.field.name].instance.oid = oid;\n    if (this.uppy) {\n      console.log(`Uppy already created... setting oid to: ${oid}`);\n      this.field.fieldMap[this.field.name].instance.uppy.getPlugin('Tus').opts.endpoint = `${this.field.recordsService.getBrandingAndPortalUrl}/record/${oid}/attach`;\n      return;\n    }\n    const appConfig = this.field.recordsService.getConfig();\n    const uppyConfig = {\n      debug: true,\n      autoProceed: false,\n      restrictions: {\n        maxFileSize: this.field.maxFileSize,\n        maxNumberOfFiles: this.field.maxNumberOfFiles,\n        allowedFileTypes: this.field.allowedFileTypes\n      }\n    };\n    const uppyDashboardNote = this.field.uppyDashboardNote;\n    console.debug(`Using Uppy config:`);\n    console.debug(JSON.stringify(uppyConfig));\n\n    const tusConfig = {\n      // added to prevent issues when re-uploading a file that has already been deleted from staging\n      removeFingerprintOnSuccess: true,\n      endpoint: `${this.field.recordsService.getBrandingAndPortalUrl}/record/${oid}/attach`,\n      headers: {\n        'X-CSRF-Token': appConfig.csrfToken\n      }\n    };\n    console.debug(`Using TUS config:::`);\n    console.debug(JSON.stringify(tusConfig));\n    this.uppy = Uppy.Core(uppyConfig);\n    this.uppy.use(Uppy.Dashboard, {\n      // trigger: '.UppyModalOpenerBtn',\n      inline: false,\n      hideProgressAfterFinish: true,\n      note: uppyDashboardNote,\n      metaFields: [\n        { id: 'notes', name: 'Notes', placeholder: 'Notes about this file.' }\n      ]\n    })\n      .use(Uppy.Tus, tusConfig)\n      .run();\n    console.log(this.uppy);\n    let fieldVal: any = null;\n    // attach event handers...\n    this.uppy.on('upload-success', (file, resp, uploadURL) => {\n      console.debug(\"File info:\");\n      console.debug(file);\n      console.debug(\"Response:\");\n      console.debug(resp);\n      console.debug(`Upload URL:${uploadURL}`);\n      // add to form control on each upload...\n      const urlParts = uploadURL.split('/');\n      const fileId = urlParts[urlParts.length - 1];\n      const choppedUrl = urlParts.slice(6, urlParts.length).join('/');\n      const newLoc = { type: \"attachment\", pending: true, location: choppedUrl, notes: file.meta.notes, mimeType: file.type, name: file.meta.name, fileId: fileId, uploadUrl: uploadURL };\n      if(this.field.iscEnabled) {\n        newLoc['isc'] = this.field.newLocation.isc;\n      }\n      console.debug(`Adding new location:`);\n      console.debug(newLoc);\n      this.field.appendLocation(newLoc);\n    });\n    // clearing all pending attachments...\n    this.field.fieldMap._rootComp.subscribe('onBeforeSave', this.field.name, (savedInfo: any) => {\n      console.log(`Before saving record triggered.. `);\n      this.field.fieldMap[this.field.name].instance.tempClearPending();\n    });\n\n    // attach event handling for saving the record\n    this.field.fieldMap._rootComp.subscribe('recordSaved', this.field.name, (savedInfo: any) => {\n      console.log(`Saved record triggered.. `);\n      this.field.fieldMap[this.field.name].instance.applyPendingChanges(savedInfo);\n    });\n  }\n\n  public isAttachmentsDisabled() {\n    if (_.isEmpty(this.oid) && !this.field.allowUploadWithoutSave) {\n      this.field.attachmentText=\"Save your record to attach files\";\n      return true;\n    } else {\n      this.field.attachmentText=\"Add attachment(s)\";\n      return false;\n    }\n  }\n\n  public getAbsUrl(location: string) {\n    return `${this.field.recordsService.getBrandingAndPortalUrl}/record/${location}`\n  }\n\n  public openModal() {\n    this.uppy && this.uppy.getPlugin('Dashboard') && this.uppy.getPlugin('Dashboard').openModal();\n  }\n\n  public editNotes(dataLocation, i) {\n    this.editingNotes = {notes: dataLocation.notes, index:i};\n    jQuery(`#${this.field.name}_editnotes`).modal('show');\n  }\n\n  public hideEditNotes() {\n    jQuery(`#${this.field.name}_editnotes`).modal('hide');\n  }\n\n  public saveNotes() {\n    jQuery(`#${this.field.name}_editnotes`).modal('hide');\n    this.field.value[this.editingNotes.index].notes = this.editingNotes.notes;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-datalocation.component.ts","// Copyright (c) 2018 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, ViewChild, ViewContainerRef, OnInit } from '@angular/core';\nimport { EmbeddableComponent, RepeatableComponent } from './field-repeatable.component';\nimport * as _ from \"lodash\";\n/**\n#### Generic Group Component\n\nGeneric component for grouping components together. The resulting JSON will have the field names as keys.\n\n```\n{\n   class: 'Container',\n   compClass: 'GenericGroupComponent',\n   definition: {\n     name: \"related_website\",\n     cssClasses: \"form-inline\",\n     fields: [\n       {\n         class: 'TextField',\n         editOnly: true,\n         definition: {\n           name: 'related_url',\n           label: '@dmpt-related-website-url',\n           type: 'text',\n           required: true,\n           groupName: 'related_website',\n           groupClasses: 'width-30',\n           cssClasses : \"width-80 form-control\"\n         }\n       },\n       {\n         class: 'TextField',\n         editOnly: true,\n         definition: {\n           name: 'related_title',\n           label: '@dmpt-related-website-title',\n           type: 'text',\n           required: true,\n           groupName: 'related_website',\n           groupClasses: 'width-30',\n           cssClasses : \"width-80 form-control\"\n         }\n       },\n       {\n         class: 'TextField',\n         editOnly: true,\n         definition: {\n           name: 'related_notes',\n           label: '@dmpt-related-website-notes',\n           type: 'text',\n           required: true,\n           groupName: 'related_website',\n           groupClasses: 'width-30',\n           cssClasses : \"width-80 form-control\"\n         }\n       }\n     ]\n   }\n }\n```\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n */\n@Component({\n  selector: 'generic-group-field',\n  template: `\n  <ng-container *ngIf=\"field.visible\">\n    <ng-container *ngIf=\"field.editMode\">\n      <div *ngIf=\"field.label\">\n        <label>\n          {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n          <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n        </label>\n        <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\">{{field.help}}</span>\n      </div>\n      <ng-container *ngIf=\"isEmbedded\">\n        <div [formGroup]='form' [ngClass]=\"field.cssClasses\">\n          <div class='row'>\n            <div class=\"col-xs-11\">\n              <dmp-field *ngFor=\"let childField of field.fields\" [name]=\"name\" [index]=\"index\" [field]=\"childField\" [form]=\"form\" [fieldMap]=\"fieldMap\"></dmp-field>\n            </div>\n            <div class=\"col-xs-1\">\n              <button type='button' *ngIf=\"removeBtnText\" [disabled]=\"!canRemove\" (click)=\"onRemove($event)\" [ngClass]=\"removeBtnClass\" >{{removeBtnText}}</button>\n              <button [disabled]=\"!canRemove\" type='button' [ngClass]=\"removeBtnClass\" (click)=\"onRemove($event)\" [attr.aria-label]=\"'remove-button-label' | translate\"></button>\n            </div>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"!isEmbedded\">\n        <div [formGroup]='form' [ngClass]=\"field.cssClasses\">\n          <dmp-field *ngFor=\"let field of field.fields\" [field]=\"field\" [form]=\"form\" [fieldMap]=\"fieldMap\"></dmp-field>\n        </div>\n      </ng-container>\n    </ng-container>\n    <ng-container *ngIf=\"!field.editMode\">\n      <div [formGroup]='form' [ngClass]=\"field.cssClasses\">\n        <dmp-field *ngFor=\"let fieldElem of field.fields\" [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\"></dmp-field>\n      </div>\n    </ng-container>\n  </ng-container>\n  `,\n})\nexport class GenericGroupComponent extends EmbeddableComponent {\n  static clName = 'GenericGroupComponent';\n\n}\n\n/**\n * ### Repeatable Generic Component\n *\n *\n * ```\n * {\n   class: 'RepeatableContainer',\n   compClass: 'RepeatableGroupComponent',\n   definition: {\n     name: \"related_websites\",\n     label: \"@dmpt-related-website\",\n     help: \"@dmpt-related-website-help\",\n     forceClone: ['fields', 'fieldMap'],\n     fields: [\n       {\n         class: 'Container',\n         compClass: 'GenericGroupComponent',\n         definition: {\n           name: \"related_website\",\n           cssClasses: \"form-inline\",\n           fields: [\n             {\n               class: 'TextField',\n               editOnly: true,\n               definition: {\n                 name: 'related_url',\n                 label: '@dmpt-related-website-url',\n                 type: 'text',\n                 required: true,\n                 groupName: 'related_website',\n                 groupClasses: 'width-30',\n                 cssClasses : \"width-80 form-control\"\n               }\n             },\n             {\n               class: 'TextField',\n               editOnly: true,\n               definition: {\n                 name: 'related_title',\n                 label: '@dmpt-related-website-title',\n                 type: 'text',\n                 required: true,\n                 groupName: 'related_website',\n                 groupClasses: 'width-30',\n                 cssClasses : \"width-80 form-control\"\n               }\n             },\n             {\n               class: 'TextField',\n               editOnly: true,\n               definition: {\n                 name: 'related_notes',\n                 label: '@dmpt-related-website-notes',\n                 type: 'text',\n                 required: true,\n                 groupName: 'related_website',\n                 groupClasses: 'width-30',\n                 cssClasses : \"width-80 form-control\"\n               }\n             }\n           ]\n         }\n       }\n     ]\n   }\n }\n ```\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n */\n@Component({\n  selector: 'repeatable-group',\n  template: `\n  <div *ngIf=\"field.editMode\">\n    <div *ngIf=\"field.label\">\n      <span class=\"label-font\">\n        {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n        <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n      </span>\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\">{{field.help}}</span>\n    </div>\n    <ng-container *ngFor=\"let fieldElem of field.fields; let i = index;\" >\n      <div class=\"row\">\n        <span class=\"col-xs-12\">\n          <generic-group-field [name]=\"field.name\" [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\" [isEmbedded]=\"true\" [removeBtnText]=\"field.removeButtonText\" [removeBtnClass]=\"field.removeButtonClass\" [canRemove]=\"field.fields.length > 1\" (onRemoveBtnClick)=\"removeElem($event[0], $event[1])\" [index]=\"i\"></generic-group-field>\n        </span>\n      </div>\n      <div class=\"row\">\n        <span class=\"col-xs-12\">&nbsp;</span>\n      </div>\n    </ng-container>\n    <div class=\"row\">\n      <span class=\"col-xs-11\">&nbsp;\n      </span>\n      <span class=\"col-xs-1\">\n        <button *ngIf=\"field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonTextClass\" >{{field.addButtonText}}</button>\n        <button *ngIf=\"!field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonClass\" [attr.aria-label]=\"'add-button-label' | translate\"></button>\n      </span>\n    </div>\n  </div>\n  <li *ngIf=\"!field.editMode\" class=\"key-value-pair\">\n    <span *ngIf=\"field.label\" class=\"key\">{{field.label}}</span>\n    <span class=\"value\">\n      <ul class=\"key-value-list\">\n        <generic-group-field *ngFor=\"let fieldElem of field.fields; let i = index;\" [name]=\"field.name\" [index]=\"i\" [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\"></generic-group-field>\n      </ul>\n    </span>\n  </li>\n  `,\n})\nexport class RepeatableGroupComponent extends RepeatableComponent {\n  static clName = 'RepeatableGroupComponent';\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-group.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\nimport {  Map,  GeoJSON,   } from 'leaflet';\ndeclare var omnivore: any;\ndeclare var L: any;\ndeclare var jQuery: any;\n\n\n/**\n * Map Model\n *\n *\n * @author <a target='_' href='https://github.com/andrewbrazzatti'>Andrew Brazzatti</a>\n *\n */\nexport class MapField extends FieldBase<any> {\n\n\n  initialised: boolean = false;\n  tabId: string;\n  importDataString: string = \"\";\n\n  layerGeoJSON: any = {};\n  map: Map;\n  importFailed:boolean = false;\n  layers = [];\n  drawnItems: any = new L.FeatureGroup();\n  googleMaps = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {\n    maxZoom: 20,\n    subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],\n    detectRetina: true\n  });\n  googleHybrid = L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}', {\n    maxZoom: 20,\n    subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],\n    detectRetina: true\n  });\n  coordinatesHelp?: any;\n\n\n  /*\n  *\n  * Draw options\n  */\n  /* Draw options that we do not want to be overridden by form config as it'll break functionality */\n  masterDrawOptions: any = {\n    edit: {\n      featureGroup: this.drawnItems\n    },\n  };\n\n\n  defaultDrawOptions: any = {\n    position: 'topright',\n    edit: {\n      featureGroup: this.drawnItems\n    },\n    draw: {\n      marker: {\n        icon: L.icon({\n          iconSize: [25, 41],\n          iconAnchor: [13, 41],\n          iconUrl: 'http://localhost:1500/default/rdmp/images/leaflet/marker-icon.png',\n          shadowUrl: 'http://localhost:1500/default/rdmp/images/leaflet/marker-shadow.png'\n        })\n      },\n      circlemarker: false,\n      circle: false\n    }\n  };\n\n  drawOptions: any = this.defaultDrawOptions;\n\n  /*\n  *\n  * Leaf options\n  */\n  masterLeafletOptions = {\n    layers: [this.googleMaps, this.drawnItems],\n  };\n\n  defaultLeafletOptions = {\n    zoom: 4,\n    center: L.latLng([-24.673148, 134.074574])\n  };\n\n  leafletOptions: any = this.defaultLeafletOptions;\n\n  layersControl = {\n    baseLayers: {\n      'Google Maps': this.googleMaps,\n      'Google Hybrid': this.googleHybrid\n    }\n  };\n\n  mainTabId: any;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.clName = 'MapField';\n\n    this.leafletOptions = options['leafletOptions'] || this.defaultLeafletOptions;\n    // merge in master options to ensure we have the right layers configured\n    this.leafletOptions = _.merge(this.leafletOptions, this.masterLeafletOptions);\n\n    this.drawOptions = options['drawOptions'] || this.drawOptions;\n    // merge in master options to ensure we have the right layers configured\n    this.drawOptions = _.merge(this.drawOptions, this.masterDrawOptions);\n\n    this.tabId = options['tabId'] || null;\n\n    this.layerGeoJSON = options.value;\n    this.mainTabId = options['mainTabId'] || null;\n    this.coordinatesHelp =  this.getTranslated(options.coordinatesHelp, undefined);\n  }\n\n  onMapReady(map: Map) {\n\n    this.map = map;\n\n    let that = this;\n\n    this.registerMapEventHandlers(map);\n    this.setValue(this.layerGeoJSON);\n\n\n    if (this.tabId === null) {\n      map.invalidateSize();\n      map.fitBounds(this.drawnItems.getBounds());\n    } else {\n      if (this.editMode) {\n        // Note: this assumes the tabId is unqiue in the page, which may not be when there are multiple tab layouts.\n        jQuery('a[data-toggle=\"tab\"]').on('shown.bs.tab', (e) => {\n          const curTabId = e.target.href.split('#')[1];\n          if (curTabId == that.tabId) {\n            that.initMap(map, that);\n          }\n        });\n      } else {\n        const field = this.fieldMap._rootComp.getFieldWithId(this.mainTabId, this.fieldMap._rootComp.fields);\n        field.onAccordionCollapseExpand.subscribe((event) => {\n          if (event.shown == true && event.tabId == that.tabId && !that.initialised) {\n            that.initMap(map, that);\n            that.initialised = true;\n          }\n        });\n      }\n    }\n  }\n\n  public initMap(map, that) {\n    map.invalidateSize();\n\n      try {\n        // if there are no layers present this will throw an error\n        map.fitBounds(this.drawnItems.getBounds());\n      } catch (e) {\n\n      }\n\n  }\n\n\n\n  registerMapEventHandlers(map: Map) {\n    let that = this;\n    map.on(L.Draw.Event.CREATED, function(e: any) {\n      var type = e.layerType,\n        layer = e.layer;\n      that.layers.push(layer);\n      that.layerGeoJSON = L.featureGroup(that.layers).toGeoJSON();\n      that.setValue(that.layerGeoJSON);\n      return false;\n    });\n\n    map.on('draw:edited', function(e: any) {\n      let layers = e.layers;\n      let that2 = that;\n      layers.eachLayer(function(layer) {\n        let layerIndex = _.findIndex(that2.layers, function(o) { return o._leaflet_id == layer._leaflet_id; });\n        if(layerIndex == -1) {\n          that2.layers.push(layer);\n        } else {\n          that2.layers[layerIndex] = layer;\n        }\n\n      });\n    });\n\n    map.on('draw:editstop', function(e: any) {\n      that.layerGeoJSON = L.featureGroup(that.layers).toGeoJSON();\n      that.setValue(that.layerGeoJSON);\n    });\n\n    map.on('draw:deletestop', function(e: any) {\n      that.layerGeoJSON = L.featureGroup(that.layers).toGeoJSON();\n      that.setValue(that.layerGeoJSON);\n    });\n\n    map.on('draw:deleted', function(e: any) {\n      let layers = e.layers;\n      let that2 = that;\n      layers.eachLayer(function(layer) {\n        _.remove(that2.layers, function(o) { return o._leaflet_id == layer._leaflet_id; });\n      });\n    });\n  }\n\n\n  drawLayers() {\n    this.drawnItems.clearLayers();\n    let geoJSONLayer: GeoJSON = L.geoJSON(this.layerGeoJSON);\n    this.layers = [];\n    let that = this;\n    geoJSONLayer.eachLayer(layer => {\n      layer.addTo(that.drawnItems);\n      that.layers.push(layer);\n    });\n  }\n\n\n  postInit(value: any) {\n    if (!_.isEmpty(value)) {\n      this.layerGeoJSON = value;\n      this.drawLayers();\n    }\n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.layerGeoJSON = valueElem;\n    }\n\n    this.formModel = new FormControl(this.layerGeoJSON || {});\n\n    return this.formModel;\n  }\n\n  setValue(value: any) {\n    if (!_.isEmpty(value)) {\n      this.layerGeoJSON = value;\n      this.drawLayers();\n      this.formModel.patchValue(this.layerGeoJSON, { emitEvent: false });\n      this.formModel.markAsTouched();\n    }\n  }\n\n  setEmptyValue() {\n    this.layerGeoJSON = {};\n    return this.layerGeoJSON;\n  }\n\n  importData() {\n    if(this.importDataString.length > 0) {\n      try {\n      if(this.importDataString.indexOf(\"<\") == 0) {\n        //probably KML\n        let parsedLayers = omnivore.kml.parse(this.importDataString);\n        if(parsedLayers.getLayers().length == 0) {\n          this.importFailed = true;\n          return false;\n        }\n        let that = this;\n        parsedLayers.eachLayer(layer => {\n          layer.addTo(that.drawnItems);\n          that.layers.push(layer);\n          that.layerGeoJSON = L.featureGroup(that.layers).toGeoJSON();\n          this.drawLayers();\n          that.map.fitBounds(that.drawnItems.getBounds());\n        });\n        this.importDataString = \"\";\n        this.importFailed = false;\n      } else {\n        let parsedLayers = L.geoJSON(JSON.parse(this.importDataString));\n        let that = this;\n        parsedLayers.eachLayer(layer => {\n          layer.addTo(that.drawnItems);\n          that.layers.push(layer);\n          that.layerGeoJSON = L.featureGroup(that.layers).toGeoJSON();\n          this.drawLayers();\n          that.map.fitBounds(that.drawnItems.getBounds());\n        });\n        this.importDataString = \"\";\n        this.importFailed = false;\n      }\n      this.layerGeoJSON = L.featureGroup(this.layers).toGeoJSON();\n      this.setValue(this.layerGeoJSON);\n    } catch (e) {\n      this.importFailed = true;\n    }\n\n    }\n\n    return false;\n  }\n\n}\n\ndeclare var aotMode\n// Setting the template url to a constant rather than directly in the component as the latter breaks document generation\nlet rbMapDataTemplate = './field-map.html';\nif (typeof aotMode == 'undefined') {\n  rbMapDataTemplate = '../angular/shared/form/field-map.html';\n}\n\n/**\n* #### Map Component.\n*\n* Uses Leaflet.js to render a widget and the Leaflet.draw plugin to be able to select regions\n*\n* #### Usage\n* ```\n*  {\n*   class: 'MapField',\n*   compClass: 'MapComponent',\n*   definition: {\n*     name: 'geocoords',\n*     label: '@dataRecord-coverage',\n*     help: '@dataRecord-coverage',\n*     tabId: 'coverage',\n*     leafletOptions: {\n*                      zoom: 3,\n*                      center: latLng([108.94248962402342, 34.26516142452615)\n*                     }\n*     }\n*   }\n* ```\n*\n*| Property Name  | Description                                                                                                                                                                                                                                                                                                                       | Required | Default                                                                                                                                                                                                                                                                                  |\n*|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n*| label          | The label to show above the component                                                                                                                                                                                                                                                                                             | No       *|                                                                                                                                                                                                                                                                                          |\n*| help           | Help text                                                                                                                                                                                                                                                                                                                         | No       *|                                                                                                                                                                                                                                                                                          |\n*| tabId          | The name of the tab the widget is placed, this is needed as Leaflet needs the map to be visible before the tiles can be loaded correctly. Leave empty if widget isn't placed in a tab.                                                                                                                                            | No       *|                                                                                                                                                                                                                                                                                          |\n*| leafletOptions | The leaflet options object. See the [Leaflet's documentation](http://leafletjs.com/reference-1.3.0.html#map-option) for more information. Note: layers cannot be changed as other functionality depends on it being set as it is and will be overridden. Defaults to a map centred on Australia (if no elements are drawn on map) | No       | ```{zoom: 4, center:\" latLng([-24.673148, 134.074574]) }```                                                                                                                                                                                                                              |\n*| drawOptions    | The leaflet draw options object. See the [Leaflet Draw's documentation](https://leaflet.github.io/Leaflet.draw/docs/leaflet-draw-latest.html#options) for more information. Note: the edit featureGroup cannot be changed as other functionality depends on it being set as it is and will be overridden.                         | No       | ```{position:\"topright\",draw:{marker:{icon:icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:\"http://localhost:1500/default/rdmp/images/leaflet/marker-icon.png\",shadowUrl:\"http://localhost:1500/default/rdmp/images/leaflet/marker-shadow.png\"})},circlemarker:false,circle:false}}``` |\n*/\n@Component({\n  selector: 'rb-mapdata',\n  templateUrl: './field-map.html'\n})\nexport class MapComponent extends SimpleComponent {\n  field: MapField;\n\n  coordinatesHelpShow: boolean;\n\n  ngAfterViewInit() {\n    if (!this.field.editMode) {\n      this.field.initMap(this.field.map, this.field);\n    }\n  }\n\n  public toggleCoordinatesHelp() {\n    this.coordinatesHelpShow = !this.coordinatesHelpShow;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-map.component.ts","module.exports = \"<div class='padding-bottom-10'>\\n  <div *ngIf=\\\"field.editMode\\\" [formGroup]='form' class=\\\"form-group\\\">\\n  <label [attr.for]=\\\"field.name\\\">\\n    {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help\\\" (click)=\\\"toggleHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n   </label><br/>\\n  <span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"help-block\\\" *ngIf=\\\"this.helpShow\\\" [innerHtml]=\\\"field.help\\\"></span>\\n\\n  <div leaflet style=\\\"height: 450px;\\\"\\n       leafletDraw\\n       [leafletOptions]=\\\"field.leafletOptions\\\"\\n       [leafletDrawOptions]=\\\"field.drawOptions\\\"\\n       (leafletMapReady)=\\\"field.onMapReady($event)\\\"\\n       [leafletLayersControl]=\\\"field.layersControl\\\">\\n  </div>\\n  <div class='padding-top-10'>\\n  <div>\\n    <label [attr.for]=\\\"field.name\\\">Enter KML or GeoJSON\\n      <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.editMode && field.coordinatesHelp\\\" (click)=\\\"toggleCoordinatesHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n    </label><br/>\\n    <span id=\\\"{{ 'helpBlock_' + field.name + '_coordinates' }}\\\" class=\\\"help-block\\\" *ngIf=\\\"field.editMode && this.coordinatesHelpShow\\\">{{field.coordinatesHelp}}</span>\\n    <textarea [id]=\\\"field.name\\\" class=\\\"form-control\\\" rows=\\\"5\\\" [(ngModel)]=\\\"field.importDataString\\\" [ngModelOptions]=\\\"{standalone: true}\\\"></textarea></div>\\n  <div class=\\\"padding-top-10\\\"><a class=\\\"btn btn-info\\\" (click)=\\\"field.importData()\\\">Import</a> <span *ngIf=\\\"field.importFailed\\\" class=\\\"text-danger\\\">Entered text is not a valid KML or GeoJSON</span></div>\\n</div>\\n</div>\\n</div>\\n<div *ngIf=\\\"!field.editMode\\\">\\n  <div leaflet style=\\\"height: 450px;\\\"\\n       [leafletOptions]=\\\"field.leafletOptions\\\"\\n       (leafletMapReady)=\\\"field.onMapReady($event)\\\"\\n       [leafletLayersControl]=\\\"field.layersControl\\\">\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-map.html\n// module id = ./redbox-portal/angular/shared/form/field-map.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector} from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\nimport * as moment from 'moment';\n\n\ndeclare var jQuery: any;\n\n/**\n * Contributor Model\n *\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class PDFListField extends FieldBase<any> {\n\n  showHeader: boolean;\n  validators: any;\n  enabledValidators: boolean;\n  relatedObjects: object[];\n  accessDeniedObjects: object[];\n  failedObjects: object[];\n  hasInit: boolean;\n  recordsService: RecordsService;\n  columns: object[];\n  pdfAttachments: object[];\n  latestPdf: object;\n  startsWith:string;\n  showHistoryTable:boolean = false;\n  showVersionColumn:boolean = false;\n  versionColumnValueField:string = \"\";\n  versionColumnLabelKey: string = \"\";\n  useVersionLabelForFileName:boolean = false;\n  downloadBtnLabel: string = \"\";\n  downloadPreviousBtnLabel: string = \"\";\n  downloadPrefix: string = \"\";\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.relatedObjects = [];\n    this.accessDeniedObjects = [];\n    this.failedObjects = [];\n    this.columns = options['columns'] || [];\n    this.startsWith = options['startsWith'] || 'rdmp-pdf';\n    var relatedObjects = this.relatedObjects;\n    this.recordsService = this.getFromInjector(RecordsService);\n    this.pdfAttachments = [];\n    this.showVersionColumn = _.isUndefined(options['showVersionColumn']) ? this.showVersionColumn : options['showVersionColumn'];\n    this.useVersionLabelForFileName = _.isUndefined(options['useVersionLabelForFileName']) ? this.showVersionColumn : options['useVersionLabelForFileName'];\n    this.versionColumnValueField = options['versionColumnValueField'] || this.versionColumnValueField;\n    this.versionColumnLabelKey = options['versionColumnLabelKey'] || this.versionColumnLabelKey;\n    this.downloadBtnLabel = _.isEmpty(options['downloadBtnLabel']) ? \"Download a PDF of this plan\" : this.getTranslated(options['downloadBtnLabel'], \"Download a PDF of this plan\");\n    this.downloadPreviousBtnLabel = _.isEmpty(options['downloadPreviousBtnLabel']) ? \"Download a previous version\" : this.getTranslated(options['downloadPreviousBtnLabel'], \"Download a previous version\");\n    this.downloadPrefix = _.isEmpty(options['downloadPrefix']) ? \"rdmp\" : this.getTranslated(options[\"downloadPrefix\"], \"rdmp\");\n  }\n\n  getVersionLabel(attachment, index) {\n    const versionValue = this.fieldMap[this.versionColumnValueField].field.value;\n    let version = null;\n    if (_.isArray(versionValue)) {\n      version = versionValue[versionValue.length - (index+1)];\n    } else {\n      version = _.toNumber(versionValue) - index;\n    }\n    return `${this.getTranslated(this.versionColumnLabelKey, \"\")}${version}`;\n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n\n      this.formModel = new FormControl(this.value || []);\n\n      if (this.value) {\n        this.setValue(this.value);\n      }\n\n    return this.formModel;\n  }\n\n  setValue(value:any) {\n    this.formModel.patchValue(value, {emitEvent: false });\n    this.formModel.markAsTouched();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n}\n\n/**\n* Component to display PDFs related to this record\n*\n*/\n@Component({\n  selector: 'rb-pdf-list',\n  templateUrl: './field-pdflist.html'\n})\nexport class PDFListComponent extends SimpleComponent implements OnInit {\n  field: PDFListField;\n\n  public ngOnInit() {\n    const oid = this.fieldMap._rootComp.oid;\n    if(oid) {\n      let allAttachmentsPromise = this.field.recordsService.getAttachments(oid);\n      let matchingExpression = new RegExp(`${this.field.startsWith}-[0-9a-fA-F]{32}-[0-9]+\\.pdf`);\n      var that = this;\n      allAttachmentsPromise.then(allAttachments => {\n        that.field.latestPdf = null;\n        _.forEach(allAttachments, (attachment:any) => {\n          if(matchingExpression.test(attachment.label)) {\n\n            attachment.dateUpdated = moment(attachment.dateUpdated).format('LLL');\n            that.field.pdfAttachments.push(attachment);\n            if(that.field.latestPdf == null || moment(that.field.latestPdf['dateUpdated'], 'LLL').isBefore(moment(attachment.dateUpdated, 'LLL'))) {\n              that.field.latestPdf = attachment;\n            }\n          }\n        });\n\n        that.field.pdfAttachments.sort(function compare(a, b) {\n          let before = moment(a['dateUpdated'], 'LLL').isBefore(moment(b['dateUpdated'], 'LLL'));\n          //We want descending order so let's reverse it\n          return before ? 1 : -1;\n        });\n\n      });\n\n    }\n  }\n\n  public getDownloadUrl(attachment, hasFileName:boolean=false, index:number=0) {\n    const oid = this.fieldMap._rootComp.oid;\n    const url = `${this.field.recordsService.getBrandingAndPortalUrl}/record/${oid}/datastream?datastreamId=${attachment.label}`\n    if (hasFileName) {\n      if (this.field.useVersionLabelForFileName) {\n        return `${url}&fileName=${this.field.downloadPrefix}-${this.field.getVersionLabel(attachment, index)}.pdf`;\n      } else {\n        return `${url}&fileName=${this.field.downloadPrefix}.pdf`;\n      }\n    } else {\n      return url;\n    }\n  }\n\n  // as of writing, there seems to be issues with selecting the dialog by ID, switching to selecting by style\n  public showDialog() {\n      const diagSel = `.${this.field.downloadPrefix}PdfDialog`;\n      jQuery(diagSel).modal('show');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-pdflist.component.ts","module.exports = \"<span class=\\\"print-hidden\\\">\\n\\n<span *ngIf=\\\"field.pdfAttachments.length > 0\\\">\\n  <!-- <a [attr.href]=\\\"getDownloadUrl(field.latestPdf)+'&fileName=rdmp.pdf'\\\" target=\\\"_blank\\\" [ngClass]=\\\"field.cssClasses\\\"><i class=\\\"fa fa-file-pdf-o\\\">&nbsp;</i> Download a PDF of this plan</a>\\n  <a *ngIf=\\\"field.pdfAttachments.length > 1\\\" data-toggle=\\\"modal\\\" data-target=\\\"#pdfHistoryModal\\\" [ngClass]=\\\"field.cssClasses\\\">Download a previous version</a> -->\\n\\n\\n  <div class=\\\"btn-group\\\">\\n    <a type=\\\"button\\\" [attr.href]=\\\"getDownloadUrl(field.latestPdf, true)\\\" target=\\\"_blank\\\" class=\\\"btn btn-danger\\\"><i class=\\\"fa fa-file-pdf-o\\\">&nbsp;</i>{{ field.downloadBtnLabel }}</a>\\n    <button type=\\\"button\\\" class=\\\"btn btn-danger dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\\n      <span class=\\\"caret\\\"></span>\\n      <span class=\\\"sr-only\\\" [innerHtml]=\\\"'toggle-dropdown' | translate\\\"></span>\\n    </button>\\n    <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n      <li><a (click)=\\\"showDialog()\\\" >{{ field.downloadPreviousBtnLabel }}</a></li>\\n    </ul>\\n  </div>\\n</span>\\n\\n<!-- Modal -->\\n<div class=\\\"modal fade {{field.downloadPrefix}}PdfDialog\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" [attr.aria-label]=\\\"'pdf-history-modal-label' | translate\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-body\\\">\\n        <table class=\\\"table\\\">\\n          <thead>\\n              <tr>\\n                  <th *ngIf=\\\"field.showVersionColumn\\\">{{ '@pdf-column-version' | translate }}</th><th>{{ '@pdf-column-date-created' | translate }}</th><th>{{ '@pdf-column-download' | translate }}</th>\\n              </tr>\\n          </thead>\\n          <tbody>\\n            <tr *ngFor=\\\"let item of field.pdfAttachments; index as i;\\\">\\n              <td *ngIf=\\\"field.showVersionColumn\\\"><span [innerHtml]=\\\"field.getVersionLabel(attachment, i)\\\"></span></td>\\n              <td>{{ item.dateUpdated }}</td>\\n              <td><a [attr.href]=\\\"getDownloadUrl(item, field.useVersionLabelForFileName, i)\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-file-pdf-o\\\"></i> {{ '@pdf-column-download' | translate }}</a></td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">{{ '@pdf-close' | translate }}</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n</span>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-pdflist.html\n// module id = ./redbox-portal/angular/shared/form/field-pdflist.html\n// module chunks = main","module.exports = \"<div *ngIf=\\\"field.visible && field.editMode\\\">\\n  <button class=\\\"btn btn-info\\\" (click)=\\\"field.getAttachments($event)\\\">{{ field.label }}</button>\\n  <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.editMode && field.help\\\" (click)=\\\"toggleHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n  <span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"help-block\\\" *ngIf=\\\"field.editMode && this.helpShow\\\">{{field.help}}</span>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-publish-data-location-refresh.component.html\n// module id = ./redbox-portal/angular/shared/form/field-publish-data-location-refresh.component.html\n// module chunks = main","// Copyright (c) 2019 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector} from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\n\ndeclare var jQuery: any;\n/**\n * Published Data Refresher Component Model\n *\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class PublishDataLocationRefreshField extends FieldBase<any> {\n  isGettingAttachments: boolean;\n  origDisabledExpr: string;\n  recordsService: RecordsService;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n\n    this.value = options['value'];\n    this.recordsService = this.getFromInjector(RecordsService);\n    this.origDisabledExpr = options['disabledExpression'];\n  }\n\n  public getAttachments(event) {\n    event.preventDefault();\n    this.options['disabledExpression'] = \"true\";\n    this.recordsService.getRecordMeta(this.value).then(data => {\n      this.onValueUpdate.emit(data);\n      this.options['disabledExpression'] = this.origDisabledExpr;\n    });\n  }\n\n  getRelatedRecordId() {\n    this.value = this.fieldMap._rootComp.relatedRecordId;\n  }\n}\n\n/**\n* Component to refresh data pub data locations from the related Data Record\n*\n*\n*\n* @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n*/\n@Component({\n  selector: 'publish-data-location-refresh',\n  templateUrl: './field-publish-data-location-refresh.component.html'\n})\nexport class PublishDataLocationRefreshComponent extends SimpleComponent {\n  field: PublishDataLocationRefreshField;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-publish-data-location-refresh.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector} from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\nimport * as Uppy from 'uppy';\n\ndeclare var jQuery: any;\n/**\n * Contributor Model\n *\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class PublishDataLocationSelectorField extends FieldBase<any> {\n\n  showHeader: boolean;\n  validators: any;\n  enabledValidators: boolean;\n  value: any[];\n  accessDeniedObjects: object[];\n  failedObjects: object[];\n  recordsService: RecordsService;\n  columns: object[];\n  newLocation:any = {type:\"url\", location:\"\",notes:\"\"};\n  dataTypes:object[] = [{\n    'label': 'URL',\n    'value': 'url',\n  },\n  {\n    'label': 'Physical location',\n    'value': 'physical',\n  },\n  {\n    'label': 'File path',\n    'value': 'file',\n  },\n  {\n    'label': 'Attachment',\n    'value': 'attachment'\n  }\n];\n\n  dataTypeLookup:any = {\n    'url':\"URL\",\n    'physical':\"Physical location\",\n    'attachment':\"Attachment\",\n    'file':\"File path\"\n  }\n\n  editNotesButtonText: string;\n  editNotesTitle: string;\n  cancelEditNotesButtonText: string;\n  applyEditNotesButtonText: string;\n  editNotesCssClasses: any;\n  typeHeader: string;\n  locationHeader: string;\n  notesHeader: string;\n  iscHeader: string;\n  iscEnabled: boolean;\n  notesEnabled: boolean;\n  noLocationSelected: boolean;\n  noLocationSelectedText: string;\n  noLocationSelectedHelp: string;\n  publicCheck: string;\n  selectionCriteria: any;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.accessDeniedObjects = [];\n\n    this.columns = options['columns'] || [];\n\n    this.editNotesButtonText = this.getTranslated(options['editNotesButtonText'], 'Edit');\n    this.editNotesTitle = this.getTranslated(options['editNotesTitle'], 'Edit Notes');\n    this.cancelEditNotesButtonText = this.getTranslated(options['cancelEditNotesButtonText'], 'Cancel');\n    this.applyEditNotesButtonText = this.getTranslated(options['applyEditNotesButtonText'], 'Apply');\n    this.editNotesCssClasses = options['editNotesCssClasses'] || 'form-control';\n    this.typeHeader =  this.getTranslated(options['typeHeader'], 'Type');\n    this.locationHeader =  this.getTranslated(options['locationHeader'], 'Location');\n    this.notesHeader =  this.getTranslated(options['notesHeader'], 'Notes');\n    this.iscEnabled = !_.isUndefined(options['iscEnabled']) ? options['iscEnabled'] : false;\n    this.notesEnabled = !_.isUndefined(options['notesEnabled']) ? options['notesEnabled'] : true;\n    this.iscHeader = !_.isUndefined(options['iscHeader']) ? this.getTranslated(options['iscHeader'], options['iscHeader']) : 'Information Security Classification';\n    this.noLocationSelectedText = !_.isUndefined(options['noLocationSelectedText']) ? this.getTranslated(options['noLocationSelectedText'], options['noLocationSelectedText']) : 'Publish Metadata Only';\n    this.noLocationSelectedHelp = !_.isUndefined(options['noLocationSelectedHelp']) ? this.getTranslated(options['noLocationSelectedHelp'], options['noLocationSelectedHelp']) : 'Publicise only metadata (or description)';\n    this.publicCheck = !_.isUndefined(options['publicCheck']) ? this.getTranslated(options['publicCheck'], options['publicCheck']) : 'public';\n    this.selectionCriteria = !_.isUndefined(options['selectionCriteria']) ? this.getTranslated(options['selectionCriteria'], options['selectionCriteria']) : [{isc:'public', type:'attachment'}];\n\n    this.value = options['value'] || this.setEmptyValue();\n    this.recordsService = this.getFromInjector(RecordsService);\n  }\n\n  setValue(value:any, emitEvent:boolean = true) {\n    this.formModel.setValue(value, {emitEvent: emitEvent, emitModelToViewChange:true });\n    this.formModel.markAsTouched();\n    this.formModel.markAsDirty();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n\n  addLocation() {\n    this.value.push(this.newLocation);\n    this.setValue(this.value);\n    this.newLocation = {type:\"url\", location:\"\",notes:\"\"};\n  }\n\n  appendLocation(newLoc:any) {\n    this.value.push(newLoc);\n    this.setValue(this.value, true);\n  }\n\n  clearPendingAtt(value) {\n    _.each(value, (val:any) => {\n      if (val.type == 'attachment') {\n       _.unset(val, 'pending');\n      }\n    });\n  }\n\n  public populateDataLocation(oid, config: any) {\n      console.log(oid);\n      this.recordsService.getRecordMeta(oid).then(record => {\n        this.value = record.dataLocations;\n      });\n }\n\n  removeLocation(loc: any) {\n    _.remove(this.value, (val:any) => {\n      return val.type == loc.type && val.name == loc.name && val.location == loc.location;\n    });\n    this.setValue(this.value);\n  }\n\n  public selectAllPublic() {\n    this.applySelectionCriteria(true);\n    this.checkIfLocationsSelected();\n  }\n\n  public applySelectionCriteria(checked) {\n    _.each(this.value, dL => {\n      _.each(this.selectionCriteria, sC => {\n        const isSelected = _.filter(sC, (val, key) => dL[key] && dL[key] === val);\n        if(isSelected.length === Object.keys(sC).length) {\n          dL.selected = checked;\n        }\n      });\n    });\n  };\n\n  public canBeSelected(dL) {\n    let canBeSelected = false;\n    _.each(this.selectionCriteria, sC => {\n      const isSelected = _.filter(sC, (val, key) => dL[key] && dL[key] === val);\n      if(isSelected.length === Object.keys(sC).length) {\n        canBeSelected = true;\n      }\n    });\n\n    return canBeSelected && this.editMode ? null : '';\n  }\n\n  public checkIfLocationsSelected() {\n    const locationSelected = _.find(this.value, (dataLocation:any) => {\n      return dataLocation.selected\n    });\n    if(locationSelected) {\n      this.noLocationSelected = false;\n    } else {\n      this.noLocationSelected = true;\n    }\n  }\n}\n/**\n* Component to display information from related objects within ReDBox\n*\n*\n*\n*\n*/\n@Component({\n  selector: 'publish-data-location-selector',\n  templateUrl: './field-publishdatalocationselector.html'\n})\nexport class PublishDataLocationSelectorComponent extends SimpleComponent {\n  field: PublishDataLocationSelectorField;\n  editingNotes: any = {notes: '', index:-1};\n\n  public ngOnInit() {\n    this.field.checkIfLocationsSelected();\n  }\n\n  public selectAllLocations(checked){\n    if(this.field.iscEnabled) {\n      this.field.applySelectionCriteria(checked);\n    } else {\n      _.each(this.field.value, (dataLocation:any) => {\n        dataLocation.selected = checked;\n      });\n    }\n    this.field.checkIfLocationsSelected();\n  }\n\n  public getDatalocations() {\n    return this.field.value;\n  }\n\n  public getAbsUrl(location:string) {\n    return `${this.field.recordsService.getBrandingAndPortalUrl}/record/${location}`\n  }\n\n  public editNotes(dataLocation, i) {\n    this.editingNotes = {notes: dataLocation.notes, index:i};\n    jQuery(`#${this.field.name}_editnotes`).modal('show');\n  }\n\n  public hideEditNotes() {\n    jQuery(`#${this.field.name}_editnotes`).modal('hide');\n  }\n\n  public saveNotes() {\n    jQuery(`#${this.field.name}_editnotes`).modal('hide');\n    this.field.value[this.editingNotes.index].notes = this.editingNotes.notes;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-publishdatalocationselector.component.ts","module.exports = \"<div class='padding-bottom-10' *ngIf=\\\"field.visible\\\">\\n  <span class=\\\"label-font\\\">\\n    {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help\\\" (click)=\\\"toggleHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n  </span><br/>\\n  <div>\\n    <div class=\\\"table-responsive\\\">\\n    <table class=\\\"table table-bordered table-striped table-hover\\\">\\n      <thead>\\n        <tr>\\n          <th width=\\\"5%\\\"><input type=\\\"checkbox\\\" (change)=\\\"selectAllLocations($event.target.checked)\\\" *ngIf=\\\"field.editMode\\\" [attr.aria-label]=\\\"'select-all-items' | translate\\\"/><span [hidden]=\\\"true\\\">Select</span></th>\\n          <th width=\\\"15%\\\">{{ field.typeHeader }}</th>\\n          <th width=\\\"40%\\\">{{ field.locationHeader }}</th>\\n          <th *ngIf=\\\"field.notesEnabled\\\" width=\\\"20%\\\">{{ field.notesHeader }}</th>\\n          <th *ngIf=\\\"field.iscEnabled\\\" width=\\\"20%\\\">{{ field.iscHeader }}</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let dataLocation of getDatalocations(); let i = index;\\\">\\n          <td>\\n            <input (change)=\\\"field.checkIfLocationsSelected($event)\\\" type=\\\"checkbox\\\" [(ngModel)]=\\\"dataLocation.selected\\\" [attr.disabled]=\\\"field.canBeSelected(dataLocation)\\\"  [attr.aria-label]=\\\"'select-item' | translate\\\"/>\\n          </td>\\n          <td>{{ field.dataTypeLookup[dataLocation.type] }}</td>\\n          <td>\\n            <ng-container *ngIf=\\\"dataLocation && dataLocation.type != 'attachment'\\\">\\n            {{ dataLocation.location }}\\n            </ng-container>\\n            <ng-container *ngIf=\\\"dataLocation.type == 'attachment'\\\">\\n              <ng-container *ngIf=\\\"dataLocation.pending\\\">\\n                {{ dataLocation.name }}\\n              </ng-container>\\n              <a *ngIf=\\\"!dataLocation.pending\\\" href=\\\"{{ getAbsUrl(dataLocation.location) }}\\\" target=\\\"_blank\\\">\\n                {{ dataLocation.name }}\\n              </a>\\n            </ng-container>\\n          </td>\\n          <td *ngIf=\\\"field.notesEnabled\\\">\\n            {{ dataLocation.notes }}\\n            <button *ngIf=\\\"field.editMode\\\" type='button' class=\\\"btn btn-primary pull-right\\\" (click)=\\\"editNotes(dataLocation, i)\\\">{{ field.editNotesButtonText }}</button>\\n          </td>\\n          <td *ngIf=\\\"field.iscEnabled\\\">\\n            {{ dataLocation.isc }}\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n  <div *ngIf=\\\"field.noLocationSelected\\\">\\n    <h5 class=\\\"font-weight-bold\\\">{{ field.noLocationSelectedText }}</h5>\\n    <p>{{ field.noLocationSelectedHelp }}</p>\\n  </div>\\n  <!-- <div><button class=\\\"btn btn-info\\\">Export</button></div> -->\\n</div>\\n</div>\\n<!--- Edit notes modal -->\\n<div *ngIf=\\\"field.editMode\\\" class=\\\"modal fade\\\" id=\\\"{{ field.name }}_editnotes\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" >\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\n        <span class=\\\"modal-title\\\" [innerHtml]=\\\"field.editNotesTitle\\\"></span>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <input type='text' [ngClass]=\\\"field.editNotesCssClasses\\\" [(ngModel)]=\\\"editingNotes.notes\\\" [attr.aria-label]=\\\"field.notesHeader\\\"/>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button (click)=\\\"hideEditNotes()\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" [innerHtml]=\\\"field.cancelEditNotesButtonText\\\"></button>\\n        <button (click)=\\\"saveNotes()\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" [innerHtml]=\\\"field.applyEditNotesButtonText\\\"></button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-publishdatalocationselector.html\n// module id = ./redbox-portal/angular/shared/form/field-publishdatalocationselector.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/zip';\nimport { fromPromise } from 'rxjs/observable/fromPromise';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n\n\n/**\n * Record Permissions Model\n *\n *\n * @author <a target='_' href='https://github.com/andrewbrazzati'>Andrew Brazzatti</a>\n *\n */\nexport class RecordPermissionsField extends FieldBase<any> {\n\n  showHeader: boolean;\n  validators: any;\n  enabledValidators: boolean;\n  hasInit: boolean;\n  recordsService: RecordsService;\n\n  permissions: any = {edit:[],view:[],editRoles:[],viewRoles:[],editPending:[],viewPending:[]}\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n\n    this.value = options['value'] || this.setEmptyValue();\n    this.recordsService = this.getFromInjector(RecordsService);\n\n  }\n\n/**\n* Loading the metadata for each related object in the array\n*/\n  asyncLoadData() {\n    let oid = this.fieldMap._rootComp.oid;\n    let getRecordMetaObs = [];\n    var that = this;\n\n    if(oid == null || oid == \"\") {\n      return Observable.of(null);\n     } else {\n      return fromPromise(this.recordsService.getPermissions(oid)).flatMap(permissions => {\n        that.permissions = permissions;\n       return Observable.of(permissions);\n      });\n      \n    }\n    \n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n\n    this.formModel = new FormControl(this.value || []);\n\n    if (this.value) {\n      this.setValue(this.value);\n    }\n\n    return this.formModel;\n  }\n\n  setValue(value: any) {\n    this.formModel.patchValue(value, { emitEvent: false });\n    this.formModel.markAsTouched();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n}\n\ndeclare var aotMode\n// Setting the template url to a constant rather than directly in the component as the latter breaks document generation\nlet rbRelatedObjectDataTemplate = './field-recordpermissions.html';\nif (typeof aotMode == 'undefined') {\n  rbRelatedObjectDataTemplate = '../angular/shared/form/field-recordpermissions.html';\n}\n\n/**\n* Component to display information from related objects within ReDBox\n*\n*\n*\n*\n*/\n@Component({\n  selector: 'rb-recordpermissions',\n  templateUrl: './field-recordpermissions.html'\n})\nexport class RecordPermissionsComponent extends SimpleComponent {\n  field: RecordPermissionsField;\n\n  constructor(private sanitizer: DomSanitizer) {\n    super();\n  }\n\n  sanitizeUrl(url:string){\n    return this.sanitizer.bypassSecurityTrustUrl(url);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-recordpermissions.component.ts","module.exports = \"\\n<div *ngIf=\\\"field.editMode\\\" class='padding-bottom-10'>\\n  \\n  <div class=\\\"row\\\">\\n    <h4 [innerHtml]=\\\"'form-record-permissions-usereditheading' | translate\\\"></h4>\\n    <table class=\\\"table\\\">\\n      <thead>\\n          <tr>\\n             <th [innerHtml]=\\\"'form-record-permissions-usernametableheading' | translate\\\"></th><th [innerHtml]=\\\"'form-record-permissions-nametableheading' | translate\\\"></th><th [innerHtml]=\\\"'form-record-permissions-emailtableheading' | translate\\\"></th>\\n          </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let permission of field.permissions.edit\\\">\\n          <td>{{permission.username}}</td><td>{{permission.name}}</td><td>{{permission.email}}</td>\\n        </tr>\\n        \\n      </tbody>\\n    </table>\\n\\n    <h4 [innerHtml]=\\\"'form-record-permissions-userviewheading' | translate\\\"></h4>\\n    <table class=\\\"table\\\">\\n      <thead>\\n          <tr>\\n            <th [innerHtml]=\\\"'form-record-permissions-usernametableheading' | translate\\\"></th><th [innerHtml]=\\\"'form-record-permissions-nametableheading' | translate\\\"></th><th [innerHtml]=\\\"'form-record-permissions-emailtableheading' | translate\\\"></th>\\n          </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let permission of field.permissions.view\\\">\\n          <td>{{permission.username}}</td><td>{{permission.name}}</td><td>{{permission.email}}</td>\\n        </tr>\\n        \\n      </tbody>\\n    </table>\\n\\n    <h4 [innerHtml]=\\\"'form-record-permissions-userpendingeditheading' | translate\\\"></h4>\\n    <table class=\\\"table\\\">\\n      <thead>\\n          <tr>\\n             <th [innerHtml]=\\\"'form-record-permissions-emailtableheading' | translate\\\"></th>\\n          </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let permission of field.permissions.editPending\\\">\\n          <td>{{permission}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n\\n    <h4 [innerHtml]=\\\"'form-record-permissions-userpendingviewheading' | translate\\\"></h4>\\n    <table class=\\\"table\\\">\\n      <thead>\\n          <tr>\\n             <th [innerHtml]=\\\"'form-record-permissions-emailtableheading' | translate\\\"></th>\\n          </tr>\\n      </thead>\\n\\n        <tbody>\\n          <tr *ngFor=\\\"let permission of field.permissions.viewPending\\\">\\n            <td>{{permission}}</td>\\n          </tr>\\n        </tbody>\\n        \\n    </table>\\n\\n    <h4 [innerHtml]=\\\"'form-record-permissions-roleeditheading' | translate\\\"></h4>\\n    <table class=\\\"table\\\">\\n      <thead>\\n          <tr>\\n             <th [innerHtml]=\\\"'form-record-permissions-rolenametableheading' | translate\\\"></th>\\n          </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let permission of field.permissions.editRoles\\\">\\n          <td>{{permission}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n\\n    <h4 [innerHtml]=\\\"'form-record-permissions-roleviewheading' | translate\\\"></h4>\\n    <table class=\\\"table\\\">\\n      <thead>\\n          <tr>\\n             <th [innerHtml]=\\\"'form-record-permissions-rolenametableheading' | translate\\\"></th>\\n          </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let permission of field.permissions.viewRoles\\\">\\n          <td>{{permission}}</td>\\n        </tr>\\n        \\n      </tbody>\\n    </table>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-recordpermissions.html\n// module id = ./redbox-portal/angular/shared/form/field-recordpermissions.html\n// module chunks = main","module.exports = \"<!-- Basic Uppy styles -->\\n<link rel=\\\"stylesheet\\\" href=\\\"/node_modules/uppy/dist/uppy.min.css\\\">\\n<div>\\n  <span class=\\\"label-font\\\">\\n    {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help && field.editMode\\\" (click)=\\\"toggleHelp()\\\"\\n            [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\"\\n                                                          aria-hidden=\\\"true\\\"></span></button>\\n  </span>\\n</div>\\n<div *ngIf=\\\"this.helpShow\\\">\\n  <span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"help-block\\\" [innerHtml]=\\\"field.help\\\"></span>\\n</div>\\n<div>\\n  <div class=\\\"table-responsive\\\" *ngIf=\\\"getDatalocations() && getDatalocations().length > 0\\\">\\n    <table class=\\\"table table-bordered table-striped table-hover\\\">\\n      <thead>\\n      <tr>\\n        <th width=\\\"40%\\\">{{ field.locationHeader }}</th>\\n        <th *ngIf=\\\"field.notesEnabled\\\" width=\\\"20%\\\">{{ field.notesHeader }}</th>\\n        <th width=\\\"5%\\\" *ngIf=\\\"field.editMode\\\"><span [hidden]=\\\"true\\\">Action</span></th>\\n      </tr>\\n      </thead>\\n      <tbody>\\n      <tr *ngFor=\\\"let dataLocation of getDatalocations(); let i = index;\\\">\\n        <td>\\n          <ng-container *ngIf=\\\"dataLocation\\\">\\n            <ng-container *ngIf=\\\"dataLocation.pending\\\">\\n              {{ dataLocation.name }}\\n            </ng-container>\\n            <a *ngIf=\\\"!dataLocation.pending\\\" href=\\\"{{ getAbsUrl(dataLocation.location) }}\\\" target=\\\"_blank\\\">\\n              {{ dataLocation.name }}\\n            </a>\\n          </ng-container>\\n        </td>\\n        <td *ngIf=\\\"field.notesEnabled\\\">\\n          <input *ngIf=\\\"field.editMode\\\" type='text' [ngClass]=\\\"form-control\\\" [(ngModel)]=\\\"dataLocation.notes\\\"\\n                 [attr.aria-label]=\\\"field.notesHeader\\\" (change)=\\\"field.updateNote(opt, $event)\\\"/>\\n          <span *ngIf=\\\"!field.editMode\\\">{{ dataLocation.notes }}</span>\\n        </td>\\n        <td *ngIf=\\\"field.editMode\\\">\\n          <a class=\\\"fa fa-minus-circle btn text-20 btn-danger\\\" (click)=\\\"field.removeLocation(dataLocation)\\\"></a>\\n        </td>\\n      </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n  <div class=\\\"row padding-bottom-10\\\" *ngIf=\\\"field.editMode\\\">\\n    <div *ngIf=\\\"field.editMode\\\">\\n      <div class=\\\"col-sm-6\\\">\\n        <a [class.disabled]=\\\"isAttachmentsDisabled()\\\"\\n           class=\\\"btn btn-info UppyModalOpenerBtn\\\"\\n           [style.display]=\\\"inherit\\\" (click)=\\\"openModal()\\\">{{ field.attachmentText }}</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-related-fileupload.html\n// module id = ./redbox-portal/angular/shared/form/field-related-fileupload.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\nimport * as Uppy from 'uppy';\n\ndeclare var jQuery: any;\n/**\n * Contributor Model\n * @author <a target='_' href='https://github.com/moisbo'>Moises Sacal</a>\n *\n */\nexport class RelatedFileUploadField extends FieldBase<any> {\n\n  showHeader: boolean;\n  validators: any;\n  enabledValidators: boolean;\n  value: any[];\n  accessDeniedObjects: object[];\n  failedObjects: object[];\n  recordsService: RecordsService;\n  columns: object[];\n  newLocation: any = { location: \"\", notes: \"\" };\n  attachmentText: string;\n  attachmentTextDisabled: string;\n  dataTypes: object[] = [{\n    'label': 'Attachment',\n    'value': 'attachment'\n  }];\n  maxFileSize: number; // in bytes\n  maxNumberOfFiles: number;\n  allowedFileTypes: any[];\n  locationHeader: string;\n  notesHeader: string;\n  uppyDashboardNote: string;\n  securityClassifictionOptions: any;\n  notesEnabled: boolean;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.accessDeniedObjects = [];\n    this.locationHeader = this.getTranslated(options['locationHeader'], 'Location');\n    this.notesEnabled = !_.isUndefined(options['notesEnabled']) ? options['notesEnabled'] : true;\n    this.notesHeader = options['notesHeader'] ? this.getTranslated(options['notesHeader'], options['notesHeader']) : null;\n    this.uppyDashboardNote = this.getTranslated(options['uppyDashboardNote'], 'Maximum upload size: 1 Gb per file');\n    this.columns = options['columns'] || [];\n    this.maxFileSize = options['maxFileSize'] || null;\n    this.maxNumberOfFiles = options['maxNumberOfFiles'] || null;\n    this.allowedFileTypes = options['allowedFileTypes'] || null;\n    this.attachmentText = options['attachmentText'] || 'Add attachment(s)';\n    this.attachmentTextDisabled = options['attachmentTextDisabled'] || 'Save your record to attach files';\n    this.value = options['value'] || this.setEmptyValue();\n    this.recordsService = this.getFromInjector(RecordsService);\n  }\n\n  setValue(value: any, emitEvent: boolean = true) {\n    this.formModel.setValue(value, { emitEvent: emitEvent, emitModelToViewChange: true });\n    this.formModel.markAsTouched();\n    this.formModel.markAsDirty();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n\n  addLocation() {\n    this.value.push(this.newLocation);\n    this.setValue(this.value);\n    this.newLocation = { location: \"\", notes: \"\" };\n  }\n\n  appendLocation(newLoc: any) {\n    this.value.push(newLoc);\n    this.setValue(this.value, true);\n  }\n\n  clearPendingAtt(value) {\n    _.each(value, (val: any) => {\n      _.unset(val, 'pending');\n    });\n  }\n\n  removeLocation(loc: any) {\n    _.remove(this.value, (val: any) => {\n      return val.name == loc.name && val.location == loc.location;\n    });\n    this.setValue(this.value);\n  }\n\n  updateNote(opt:any, event:any) {\n    this.fieldMap._rootComp.needsSave = true;\n  }\n\n\n}\n/**\n * Related File Upload Component\n */\n@Component({\n  selector: 'related-fileupload-selector',\n  templateUrl: './field-related-fileupload.html'\n})\nexport class RelatedFileUploadComponent extends SimpleComponent {\n  field: RelatedFileUploadField;\n  uppy: any = null;\n  oid: any = null;\n  editingNotes: any = {notes: '', index:-1};\n\n  public ngOnInit() {\n    let oid = this.field.fieldMap._rootComp.oid;\n    if (this.field.editMode) {\n      if (_.isNull(oid) || _.isUndefined(oid) || _.isEmpty(oid)) {\n        // wait for the OID to be set when record is created\n        if (!this.field.fieldMap._rootComp.getSubscription('recordCreated')) {\n          console.log(`Subscribing to record creation..... ${this.field.name}`);\n          this.field.fieldMap._rootComp.subscribe('recordCreated', this.field.name, this.eventRecordCreate.bind(this));\n          this.initUppy(oid);\n        }\n      }\n      this.initUppy(oid);\n    }\n  }\n\n  public ngAfterViewInit() {\n    if (this.field.editMode) {\n      jQuery(`.uppy-Dashboard-input`).attr('aria-label', this.field.label);\n    }\n  }\n\n  public getDatalocations() {\n    return this.field.value;\n  }\n\n  public eventRecordCreate(createdInfo) {\n    console.log(`Created record triggered: `);\n    console.log(createdInfo);\n    this.field.fieldMap[this.field.name].instance.initUppy(createdInfo.oid);\n  }\n\n  public tempClearPending() {\n    // temporarily clearing pending values\n    const fieldVal = _.cloneDeep(this.field.fieldMap._rootComp.form.value[this.field.name]);\n    this.field.clearPendingAtt(fieldVal);\n    this.field.fieldMap._rootComp.form.controls[this.field.name].setValue(fieldVal, { emitEvent: true });\n  }\n\n  public applyPendingChanges(savedInfo) {\n    if (savedInfo.success) {\n      // this.field.value = this.field.fieldMap._rootComp.form.value[this.field.name];\n      const finalVal = this.field.fieldMap._rootComp.form.controls[this.field.name].value;\n      this.field.fieldMap[this.field.name].field.value = finalVal;\n    } else {\n      // reverse the value\n      console.log(`Resetting....`);\n      this.field.fieldMap._rootComp.form.controls[this.field.name].setValue(this.field.fieldMap[this.field.name].field.value);\n    }\n  }\n\n\n  public initUppy(oid: string) {\n    this.field.fieldMap[this.field.name].instance.oid = oid;\n    if (this.uppy) {\n      console.log(`Uppy already created... setting oid to: ${oid}`);\n      this.field.fieldMap[this.field.name].instance.uppy.getPlugin('Tus').opts.endpoint = `${this.field.recordsService.getBrandingAndPortalUrl}/record/${oid}/attach`;\n      return;\n    }\n    const appConfig = this.field.recordsService.getConfig();\n    const uppyConfig = {\n      debug: true,\n      autoProceed: false,\n      restrictions: {\n        maxFileSize: this.field.maxFileSize,\n        maxNumberOfFiles: this.field.maxNumberOfFiles,\n        allowedFileTypes: this.field.allowedFileTypes\n      }\n    };\n    const uppyDashboardNote = this.field.uppyDashboardNote;\n    console.debug(`Using Uppy config:`);\n    console.debug(JSON.stringify(uppyConfig));\n\n    const tusConfig = {\n      endpoint: `${this.field.recordsService.getBrandingAndPortalUrl}/record/${oid}/attach`,\n      headers: {\n        'X-CSRF-Token': appConfig.csrfToken\n      }\n    };\n    console.debug(`Using TUS config:::`);\n    console.debug(JSON.stringify(tusConfig));\n    this.uppy = Uppy.Core(uppyConfig);\n    this.uppy.use(Uppy.Dashboard, {\n      // trigger: '.UppyModalOpenerBtn',\n      inline: false,\n      hideProgressAfterFinish: true,\n      note: uppyDashboardNote,\n      metaFields: [\n        { id: 'notes', name: 'Notes', placeholder: 'Notes about this file.' }\n      ]\n    })\n      .use(Uppy.Tus, tusConfig)\n      .run();\n    console.log(this.uppy);\n    let fieldVal: any = null;\n    // attach event handers...\n    this.uppy.on('upload-success', (file, resp, uploadURL) => {\n      console.debug(\"File info:\");\n      console.debug(file);\n      console.debug(\"Response:\");\n      console.debug(resp);\n      console.debug(`Upload URL:${uploadURL}`);\n      // add to form control on each upload...\n      const urlParts = uploadURL.split('/');\n      const fileId = urlParts[urlParts.length - 1];\n      const choppedUrl = urlParts.slice(6, urlParts.length).join('/');\n      const newLoc = {\n        type: \"attachment\",\n        pending: true,\n        location: choppedUrl,\n        notes: file.meta.notes,\n        mimeType: file.type,\n        name: file.meta.name,\n        fileId: fileId,\n        uploadUrl: uploadURL\n      };\n      console.log(`Adding new location:`);\n      console.log(newLoc);\n      this.field.appendLocation(newLoc);\n    });\n    // clearing all pending attachments...\n    this.field.fieldMap._rootComp.subscribe('onBeforeSave', this.field.name, (savedInfo: any) => {\n      console.log(`Before saving record triggered.. `);\n      this.field.fieldMap[this.field.name].instance.tempClearPending();\n    });\n\n    // attach event handling for saving the record\n    this.field.fieldMap._rootComp.subscribe('recordSaved', this.field.name, (savedInfo: any) => {\n      console.log(`Saved record triggered.. `);\n      this.field.fieldMap[this.field.name].instance.applyPendingChanges(savedInfo);\n    });\n  }\n\n  public isAttachmentsDisabled() {\n    if (_.isEmpty(this.oid)) {\n      this.field.attachmentText = this.field.attachmentTextDisabled;\n      return true;\n    }\n    return false;\n  }\n\n  public getAbsUrl(location: string) {\n    return `${this.field.recordsService.getBrandingAndPortalUrl}/record/${location}`\n  }\n\n  public openModal() {\n    this.uppy && this.uppy.getPlugin('Dashboard') && this.uppy.getPlugin('Dashboard').openModal();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-relatedfileupload.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { RecordsService } from './records.service';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/zip';\nimport { fromPromise } from 'rxjs/observable/fromPromise';\n\ndeclare var jQuery: any;\n\n\n/**\n * Contributor Model\n *\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class RelatedObjectDataField extends FieldBase<any> {\n\n  showHeader: boolean;\n  validators: any;\n  enabledValidators: boolean;\n  relatedObjects: object[];\n  accessDeniedObjects: object[];\n  failedObjects: object[];\n  hasInit: boolean;\n  recordsService: RecordsService;\n  columns: object[];\n  isEditable: boolean = false;\n  isEditing: boolean = false;\n  currentItemForm: FormGroup;\n  formBuilder: FormBuilder;\n  formGroup = {};\n  archiveCurrentItem = {};\n  currentItemEditing;\n  arhiveConfirmMessage: string;\n  confirmArchiveTitle: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.relatedObjects = [];\n    this.accessDeniedObjects = [];\n    this.failedObjects = [];\n    this.columns = options['columns'] || [];\n    this.isEditable = options['isEditable'] || false;\n    this.arhiveConfirmMessage = options['arhiveConfirmMessage'] || 'Confirm archiving your workspace from the plan';\n    this.confirmArchiveTitle = options['confirmArchiveTitle'] || 'Confirm Archive';\n\n    var relatedObjects = this.relatedObjects;\n    this.value = options['value'] || this.setEmptyValue();\n    this.recordsService = this.getFromInjector(RecordsService);\n    this.formBuilder = this.getFromInjector(FormBuilder);\n    this.currentItemForm = this.formBuilder.group({});\n    this.setEmptyArchive();\n  }\n\n  /**\n   * Loading the metadata for each related object in the array\n   */\n  asyncLoadData() {\n    let getRecordMetaObs = [];\n    var that = this;\n    _.forEach(this.value, (item: any) => {\n      getRecordMetaObs.push(fromPromise(this.recordsService.getRecordMeta(item.id)).flatMap(meta => {\n        if (!meta) {\n          that.failedObjects.push(meta);\n        } else if (meta['status'] == \"Access Denied\") {\n          that.accessDeniedObjects.push(meta);\n        } else if (meta['title']) {\n          that.relatedObjects.push(meta);\n        } else {\n          that.failedObjects.push(meta);\n        }\n        return Observable.of(null);\n      }));\n    });\n    if ( getRecordMetaObs.length > 0 ) {\n      return Observable.zip(...getRecordMetaObs);\n    } else {\n      return Observable.of(null);\n    }\n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n\n    this.formModel = new FormControl(this.value || []);\n\n    if (this.value) {\n      this.setValue(this.value);\n    }\n\n    return this.formModel;\n  }\n\n  setValue(value: any) {\n    this.formModel.patchValue(value, { emitEvent: false });\n    this.formModel.markAsTouched();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n\n  lockItem() {\n    this.currentItemEditing = -1;\n  }\n\n  isUnLocked(itemIndex) {\n    return this.currentItemEditing == itemIndex;\n  }\n\n  editRelatedObject(item, itemIndex) {\n    this.currentItemEditing = itemIndex;\n    this.currentItemForm.reset();\n    for (let name in item) {\n      this.formGroup[name] = new FormControl(item[name]);\n    }\n    this.currentItemForm = this.formBuilder.group(this.formGroup);\n  }\n\n  archiveItem(item, itemIndex) {\n    jQuery('#relatedObjectConfirmArchiveModal').modal({backdrop: 'static', keyboard: false, show: true});\n    this.archiveCurrentItem = {\n      item: item,\n      itemIndex: itemIndex,\n      title: item['title'] || 'workspace'\n    }\n  }\n\n  confirmArchive(confirmArchiveRecord) {\n    if (confirmArchiveRecord) {\n      this.archiveCurrentItem['item']['archive'] = true;\n      this.saveItem(this.archiveCurrentItem['item']);\n    }\n    this.archiveCurrentItem = {};\n    jQuery('#relatedObjectConfirmArchiveModal').modal('hide');\n  }\n\n  setEmptyArchive() {\n    this.archiveCurrentItem = {\n      item: {},\n      itemIndex: undefined,\n      title: ''\n    }\n  }\n\n  saveItem(value) {\n    const object = this.value[this.currentItemEditing];\n    this.recordsService.update(object['id'], value, 'draft')\n      .subscribe(res => {\n        if (res.success) {\n          this.relatedObjects[this.currentItemEditing] = value;\n          this.lockItem();\n          this.setEmptyArchive();\n        } else {\n          console.log(res.success);\n        }\n      });\n\n  }\n}\n\ndeclare var aotMode\n// Setting the template url to a constant rather than directly in the component as the latter breaks document generation\nlet rbRelatedObjectDataTemplate = './field-relatedobjectdata.html';\nif (typeof aotMode == 'undefined') {\n  rbRelatedObjectDataTemplate = '../angular/shared/form/field-relatedobjectdata.html';\n}\n\n/**\n * Component to display information from related objects within ReDBox\n *\n *\n *\n *\n */\n@Component({\n  selector: 'rb-relatedobjectdata',\n  templateUrl: './field-relatedobjectdata.html'\n})\nexport class RelatedObjectDataComponent extends SimpleComponent {\n  field: RelatedObjectDataField;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-relatedobjectdata.component.ts","module.exports = \"<div class='padding-bottom-10'>\\n  <div class=\\\"row\\\">\\n    <form [formGroup]=\\\"field.currentItemForm\\\"\\n          (ngSubmit)=\\\"field.saveItem(field.currentItemForm['value'])\\\"\\n    >\\n      <div class=\\\"table-responsive\\\">\\n      <table class=\\\"table\\\">\\n        <thead>\\n        <tr>\\n          <ng-container *ngFor=\\\"let header of field.columns\\\">\\n            <th class=\\\"{{header.cssClasses}}\\\" *ngIf='header.show != false'>{{ header.label }}</th>\\n          </ng-container>\\n          <th class=\\\"col-md-2\\\">&nbsp;</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr *ngFor=\\\"let item of field.relatedObjects; let i = index\\\" [attr.data-index]=\\\"i\\\">\\n          <ng-container *ngIf=\\\"!item['archive']\\\">\\n            <ng-container *ngFor=\\\"let column of field.columns\\\">\\n              <td\\n                *ngIf=\\\"column.show != false && (!field.isUnLocked(i) || !column.isEditable) \\\">\\n                <span *ngIf='column.link === \\\"relative\\\"; then relative'></span>\\n                <span *ngIf='column.link === \\\"absolute\\\"; then absolute; else noProcessing'></span>\\n                <ng-template #multivalue></ng-template>\\n                <ng-template #relative><a\\n                  href=\\\"/{{ branding }}/{{ portal }}/{{ column.link.pattern}}\\\">{{ column.link.pattern | stringTemplate:item }}</a>\\n                </ng-template>\\n                <ng-template #absolute><a target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"\\n                                          href=\\\"{{item[column.property]}}\\\">{{item[column.property]}}</a></ng-template>\\n                <ng-template #noProcessing>{{ item[column.property] }}</ng-template>\\n              </td>\\n              <td *ngIf=\\\"column.show != false && field.isUnLocked(i) && column.isEditable\\\">\\n                <div class=\\\"form-group\\\">\\n                  <input class=\\\"form-control\\\" type=\\\"text\\\" [value]=\\\"item[column.property]\\\"\\n                         formControlName=\\\"{{ column.property }}\\\">\\n                </div>\\n              </td>\\n            </ng-container>\\n            <td>\\n              <button type=\\\"button\\\" *ngIf=\\\"field.editMode && field.isEditable && field.isUnLocked(i)\\\"\\n                      class=\\\"btn btn-block\\\" (click)=\\\"field.lockItem()\\\">\\n                <i aria-hidden=\\\"true\\\" class=\\\"fa fa-pencil-square-o\\\"></i>\\n              </button>\\n              <button type=\\\"button\\\" *ngIf=\\\"field.editMode &&   field.isEditable && !field.isUnLocked(i)\\\"\\n                      class=\\\"btn btn-block\\\" (click)=\\\"field.editRelatedObject(item, i)\\\">\\n                <i aria-hidden=\\\"true\\\" class=\\\"fa fa-pencil\\\"></i>\\n              </button>\\n              <button type=\\\"submit\\\" *ngIf=\\\"field.editMode && field.isEditable && field.isUnLocked(i)\\\"\\n                      class=\\\"btn btn-block btn-success\\\">\\n                <i aria-hidden=\\\"true\\\" class=\\\"fa fa-save\\\"></i>\\n              </button>\\n              <button type=\\\"button\\\"\\n                      *ngIf=\\\"field.editMode && field.isEditable && field.isUnLocked(i) && !item['archive']\\\"\\n                      class=\\\"btn btn-block btn-danger\\\" (click)=\\\"field.archiveItem(item, i)\\\">\\n                <i aria-hidden=\\\"true\\\" class=\\\"fa fa-archive\\\"></i>\\n              </button>\\n            </td>\\n          </ng-container>\\n        </tr>\\n        </tbody>\\n      </table>\\n      </div>\\n    </form>\\n    <p *ngIf=\\\"field.failedObjects.length > 0\\\">There were {{ field.failedObjects.length }} records that failed to\\n      load</p>\\n    <p *ngIf=\\\"field.accessDeniedObjects.length > 0\\\">There were {{ field.accessDeniedObjects.length }} records that you\\n      do not have access to</p>\\n  </div>\\n</div>\\n<div id=\\\"relatedObjectConfirmArchiveModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\n  <div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n        <h4 class=\\\"modal-title\\\">{{field.confirmArchiveTitle}}</h4>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <p>\\n          <code>{{ field.archiveCurrentItem['title'] }}</code>\\n          {{field.arhiveConfirmMessage}}\\n        </p>\\n        <p>\\n          <button class=\\\"btn btn-block btn-danger\\\"\\n                  (click)=\\\"field.confirmArchive(true)\\\">{{field.confirmArchiveTitle}}\\n          </button>\\n        </p>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-relatedobjectdata.html\n// module id = ./redbox-portal/angular/shared/form/field-relatedobjectdata.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Input, Component, OnInit, Inject, Injector, EventEmitter} from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { DashboardService } from '../dashboard-service';\nimport { PlanTable, Plan } from '../dashboard-models';\n\n\n\n/**\n * Contributor Model\n *\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n *\n */\nexport class RelatedObjectSelectorField extends FieldBase<any> {\n\n  showHeader: boolean;\n  validators: any;\n  enabledValidators: boolean;\n  hasInit: boolean;\n  dashboardService: DashboardService;\n  plans: PlanTable;\n  searchFilterName: any;\n  filteredPlans: Plan[];\n  recordType:string;\n  columnTitle:string;\n\n  relatedObjectSelected:EventEmitter<string> = new EventEmitter<string>();\n  resetSelectorEvent: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.clName = 'RelatedObjectDataField';\n\n    this.columnTitle = options['columnTitle'] || \"Record title\";\n    this.value = options['value'] || this.setEmptyValue();\n    this.recordType = options['recordType'];\n    this.dashboardService = this.getFromInjector(DashboardService);\n    var that = this;\n    this.dashboardService.getAllRecordsCanEdit(this.recordType,'').then((draftPlans: PlanTable) => {\n      this.plans = draftPlans;\n    });\n  }\n\n  recordSelected(record: any, config: any) {\n    this.setValue({oid: record.oid, title:record.title});\n    if(this.fieldMap) {\n      this.fieldMap._rootComp.setRelatedRecordId(record.oid);\n    }\n  }\n\n  recordSelectedEmit(record, event) {\n    this.setValue({oid: record.oid, title:record.title});\n    if(this.fieldMap) {\n      this.fieldMap._rootComp.setRelatedRecordId(record.oid);\n    }\n    this.relatedObjectSelected.emit(record.oid);\n  }\n\n  resetSelector() {\n    this.setEmptyValue();\n    if(this.fieldMap) {\n      this.fieldMap._rootComp.setRelatedRecordId(null);\n    }\n    this.resetSelectorEvent.emit();\n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n\n      this.formModel = new FormControl(this.value || []);\n\n      if (this.value) {\n        this.setValue(this.value);\n        if(this.fieldMap) {\n          this.fieldMap._rootComp.setRelatedRecordId(this.value.oid);\n        }\n      }\n\n    return this.formModel;\n  }\n\n  setValue(value:any) {\n    this.value=value;\n    this.formModel.patchValue(value, {emitEvent: false });\n    this.formModel.markAsTouched();\n  }\n\n  setEmptyValue() {\n    this.value = {};\n    return this.value;\n  }\n\n  onFilterChange() {\n    this.filteredPlans = _.filter(this.plans.items, (plan: any) => {\n      plan.selected = false;\n      const title = _.isArray(plan.title) ? plan.title[0] : plan.title;\n      return _.toLower(title).includes(_.toLower(this.searchFilterName));\n    });\n  }\n\n  resetFilter() {\n    this.searchFilterName = null;\n    this.onFilterChange();\n  }\n\n}\n\n/**\n* Component to display information from related objects within ReDBox\n*\n*\n*\n*/\n@Component({\n  selector: 'rb-RelatedObjectSelector',\n  templateUrl: './field-relatedobjectselector.html'\n})\nexport class RelatedObjectSelectorComponent extends SimpleComponent {\n  @Input() field: RelatedObjectSelectorField;\n\n  hasFilteredResults() {\n    return this.field.searchFilterName && !_.isEmpty(_.trim(this.field.searchFilterName)) && this.field.filteredPlans && this.field.filteredPlans.length > 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-relatedobjectselector.component.ts","module.exports = \"<div *ngIf=\\\"field.value.oid && !field.editMode\\\" class=\\\"key-value-pair\\\">\\n   <span *ngIf=\\\"field.label\\\" class=\\\"key\\\">{{field.label}}</span>\\n   <span class=\\\"value\\\">{{ field.value.title }}</span>\\n</div>\\n<div class=\\\"panel panel-primary\\\" *ngIf=\\\"field.editMode\\\">\\n  <div class=\\\"panel-body\\\">\\n    <span class=\\\"label-font\\\">\\n      {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n      <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help\\\" (click)=\\\"toggleHelp()\\\" [attr.aria-label]=\\\"'help' | translate \\\"><span class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n    </span><br/>\\n    <span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"help-block\\\" *ngIf=\\\"this.helpShow\\\" [innerHtml]=\\\"field.help\\\"></span>\\n    <div *ngIf=\\\"field.value.oid\\\">\\n       {{ field.value.title }} <button type=\\\"button\\\" class=\\\"btn btn-info\\\" (click)=\\\"field.resetSelector()\\\">{{ 'change-text' | translate }}</button>\\n    </div>\\n    <div *ngIf=\\\"!field.value.oid\\\">\\n      <div class=\\\"input-group\\\">\\n        <span class=\\\"input-group-addon\\\" id=\\\"name-addon\\\">{{ 'search-by-name' | translate }}</span>\\n        <input [attr.aria-label]=\\\"field.label\\\" type=\\\"text\\\" (keyup)=\\\"field.onFilterChange()\\\" [(ngModel)]=\\\"field.searchFilterName\\\" class=\\\"form-control\\\" placeholder=\\\"Name\\\" aria-describedby=\\\"name-addon\\\">\\n        <span  (click)=\\\"field.resetFilter()\\\" class=\\\"input-group-btn\\\"><button class=\\\"btn btn-primary\\\" type='button'>{{ 'transfer-ownership-reset' | translate }}</button></span>\\n      </div>\\n      <div><br/></div>\\n      <div class=\\\"table-responsive\\\" *ngIf=\\\"hasFilteredResults()\\\">\\n        <table class=\\\"table table-bordered table-striped table-hover\\\">\\n          <thead>\\n            <tr>\\n              <th>{{ field.columnTitle }}</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr *ngFor=\\\"let plan of field.filteredPlans\\\" (click)=\\\"field.recordSelectedEmit(plan,$event)\\\">\\n              <td>{{ plan.title }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/field-relatedobjectselector.html\n// module id = ./redbox-portal/angular/shared/form/field-relatedobjectselector.html\n// module chunks = main","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Input, Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { VocabField } from './field-vocab.component';\nimport { Container } from './field-simple';\nimport { FormControl, FormArray, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { ChangeDetectorRef } from '@angular/core';\nimport { ContributorField } from './field-contributor.component';\n/**\n * Repeatable Field Container\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\nexport class RepeatableContainer extends Container {\n  addButtonText: string;\n  removeButtonText: string;\n  skipClone: string[];\n  forceClone: any[];\n  addButtonTextClass: any;\n  removeButtonTextClass: any;\n  addButtonClass: any;\n  removeButtonClass: any;\n  moveUpButtonClass: any;\n  moveDownButtonClass: any;\n  delegateErrorHandling: boolean;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.hasGroup = true;\n    this.addButtonText = options['addButtonText'] || '';\n    this.removeButtonText = options['removeButtonText'] || null;\n    this.skipClone = options['skipClone'] || [];\n    this.forceClone = options['forceClone'] || [];\n    this.addButtonTextClass = options['addButtonTextClass'] || 'btn btn-success pull-right';\n    this.addButtonClass = options['addButtonClass'] || 'fa fa-plus-circle btn text-20 pull-right btn-success';\n    this.removeButtonTextClass = options['removeButtonTextClass'] || 'btn btn-danger pull-right';\n    this.removeButtonClass = options['removeButtonClass'] || 'fa fa-minus-circle btn text-20 pull-right btn-danger';\n    this.moveUpButtonClass = options['addButtonClass'] || 'fa fa-chevron-circle-up btn text-20 pull-left btn-primary';\n    this.moveDownButtonClass = options['addButtonClass'] || 'fa fa-chevron-circle-down btn text-20 pull-left btn-primary';\n    this.delegateErrorHandling = !_.isUndefined(options['delegateErrorHandling']) ? options['delegateErrorHandling'] : true;\n  }\n\n  getInitArrayEntry() {\n    if (this.fields[0].isGroup) {\n      const grp = {};\n      const fm = {};\n      const fg = this.fields[0].getGroup(grp, fm);\n      return [fg];\n    }\n    return [this.fields[0].createFormModel()];\n  }\n\n  getGroup(group: any, fieldMap: any) {\n    this.fieldMap = fieldMap;\n    fieldMap[this.name] = {field:this};\n    if (!this.value || this.value.length == 0) {\n      this.formModel = this.required ? new FormArray(this.getInitArrayEntry(), Validators.required) : new FormArray(this.getInitArrayEntry());\n    } else {\n      let fieldCtr = 0;\n      const baseField = this.fields[0];\n      const elems = [];\n      this.fields = _.map(this.value, (valueElem:any) => {\n        let fieldClone = null;\n        if (fieldCtr == 0) {\n          fieldClone = baseField;\n          fieldClone.value = _.isArray(valueElem) ? valueElem[fieldCtr] : valueElem;\n        } else {\n          fieldClone = this.createNewElem(baseField, _.isArray(valueElem) ? valueElem[fieldCtr] : valueElem);\n          fieldClone.value = _.isArray(valueElem) ? valueElem[fieldCtr] : valueElem;\n        }\n        fieldCtr++;\n        elems.push(fieldClone.createFormModel());\n        return fieldClone;\n      });\n      this.formModel = this.required ? new FormArray(elems, Validators.required) : new FormArray(elems);\n      _.each(this.fields, f => {\n        f.setupEventHandlers();\n      });\n    }\n    fieldMap[this.name].control = this.formModel;\n    if (this.groupName) {\n      if (group[this.groupName]) {\n        group[this.groupName].addControl(this.name, this.formModel);\n      } else {\n        const fg = {};\n        fg[this.name] = this.formModel;\n        group[this.groupName] = fg;\n      }\n    } else {\n      group[this.name] = this.formModel;\n    }\n  }\n\n  createNewElem(baseFieldInst: any, value:any = null) {\n    const newOpts = _.cloneDeep(baseFieldInst.options);\n    newOpts.value = value;\n    const newInst = new baseFieldInst.constructor(newOpts, this.injector);\n    _.forEach(this.skipClone, (f: any)=> {\n      newInst[f] = null;\n    });\n\n    _.forEach(this.forceClone, (f: any) => {\n      if (_.isString(f)) {\n        newInst[f] = _.cloneDeepWith(baseFieldInst[f], this.getCloneCustomizer(\n          {\n            skipClone: ['fields', 'fieldMap', 'formModel', 'injector', 'onValueUpdate', 'onValueLoaded', 'translationService', 'utilityService', 'componentReactors'],\n            copy: ['fieldMap', 'injector', 'translationService', 'utilityService']\n          }\n        ));\n      } else {\n        newInst[f.field] = _.cloneDeepWith(baseFieldInst[f.field], this.getCloneCustomizer(f));\n      }\n    });\n\n    if (_.isFunction(newInst.postInit)) {\n      newInst.postInit(value);\n    }\n    return newInst;\n  }\n\n  getCloneCustomizer(cloneOpts:any) {\n    const that = this;\n    return function(value: any, key: any) {\n      if (_.includes(cloneOpts.skipClone, key) ) {\n        if (_.includes(cloneOpts.copy, key)) {\n          return that[key];\n        }\n        return false;\n      }\n    };\n  }\n\n  addElem(val:any = null) {\n    const newElem = this.createNewElem(this.fields[0], val);\n    if (val == null && _.isFunction(newElem.setEmptyValue)) {\n      newElem.setEmptyValue();\n    }\n    this.fields.push(newElem);\n    const newFormModel = newElem.createFormModel();\n    this.formModel.push(newFormModel);\n    return newElem;\n  }\n\n  removeElem(index: number) {\n    _.remove(this.fields, (val:any, idx: number) => { return idx == index });\n    this.formModel.removeAt(index);\n  }\n\n  swap(fromIdx, toIdx) {\n    let temp = this.fields[toIdx];\n    this.fields[toIdx] = this.fields[fromIdx];\n    this.fields[fromIdx] = temp;\n    temp = this.formModel.at(toIdx);\n    this.formModel.setControl(toIdx, this.formModel.at(fromIdx));\n    this.formModel.setControl(fromIdx, temp);\n  }\n\n  setValueAtElem(index, value:any) {\n    this.fields[index].setValue(value, true);\n  }\n\n  public triggerValidation() {\n    _.forEach(this.fields, (f:any) => {\n      f.triggerValidation();\n    });\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any) {\n    console.log(`Repeatable container field reacting: ${eventName}`);\n    console.log(eventData);\n    // delete first...\n    for (let toDelIdx = 1; toDelIdx < this.fields.length; toDelIdx++ ) {\n      this.removeElem(toDelIdx);\n    }\n    _.each(eventData, (entry, idx) => {\n      if (idx >= this.formModel.controls.length) {\n        this.addElem(entry);\n      } else {\n        this.setValueAtElem(idx, entry);\n      }\n    });\n  }\n\n  public removeAllElems() {\n    _.each(this.fields, (f, idx) => {\n      this.removeElem(idx);\n    });\n  }\n\n  public reset(data=null, eventConfig=null) {\n    this.fields[0].setValue(null);\n    if (this.fields.length > 1) {\n      for (var i=1; i<this.fields.length; i++) {\n        this.removeElem(i);\n      }\n    }\n    return data;\n  }\n}\n\nexport class EmbeddableComponent extends SimpleComponent {\n  @Input() canRemove: boolean = false;\n  @Input() removeBtnText: string = null;\n  @Input() removeBtnClass: string = 'btn fa fa-minus-circle btn text-20 pull-left btn btn-danger';\n  @Input() index: number;\n  @Output() onRemoveBtnClick: EventEmitter<any> = new EventEmitter<any>();\n\n  onRemove(event: any) {\n    this.onRemoveBtnClick.emit([event, this.index]);\n  }\n\n  public getGroupClass(fldName:string=null): string {\n    let baseClass = 'form-group';\n    if (this.isEmbedded) {\n      baseClass = '';\n    }\n    return `${baseClass} ${this.hasRequiredError() ? 'has-error' : '' } ${this.field.groupClasses}`;\n  }\n}\n\nexport class RepeatableComponent extends SimpleComponent {\n  field: RepeatableContainer;\n\n  addElem(event: any) {\n    this.field.addElem();\n  }\n\n  removeElem(event: any, i: number) {\n    this.field.removeElem(i);\n  }\n\n  hasRequiredError() {\n    let hasError = false;\n    _.each(this.field.formModel.controls, (c) => {\n      if (c.hasError('required')) {\n        hasError = true;\n        return false;\n      }\n    });\n    return hasError;\n  }\n}\n\nexport class RepeatableVocab extends RepeatableContainer {\n  fields: VocabField[];\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.clName = 'RepeatableVocab';\n  }\n\n  setValueAtElem(index, value:any) {\n    console.log(`Repeatable vocab setting value at: ${index}`);\n    console.log(value);\n    let selected = {};\n    selected['originalObject'] = value;\n    this.fields[index].component.onSelect(selected, false, true);\n  }\n}\n\n@Component({\n  selector: 'repeatable-vocab',\n  template: `\n  <div *ngIf=\"field.editMode\">\n    <div class=\"row\">\n      <div class=\"col-xs-12\">\n      <label [attr.for]=\"field.name\">{{field.label}}\n        <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n      </label>\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n      </div>\n    </div>\n    <div *ngFor=\"let fieldElem of field.fields; let i = index;\" class=\"row\">\n      <span class=\"col-xs-12 no-horizontal-padding\">\n        <rb-vocab [name]=\"field.name\" [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\" [isEmbedded]=\"true\" [removeBtnText]=\"field.removeButtonText\" [removeBtnClass]=\"field.removeButtonClass\" [canRemove]=\"field.fields.length > 1\" (onRemoveBtnClick)=\"removeElem($event[0], $event[1])\" [index]=\"i\"></rb-vocab>\n      </span>\n    </div>\n    <div class=\"row\">\n      <span class=\"col-xs-11\">&nbsp;\n      </span>\n      <span class=\"col-xs-1\">\n        <button *ngIf=\"field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonTextClass\" >{{field.addButtonText}}</button>\n        <button *ngIf=\"!field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonClass\" [attr.aria-label]=\"'add-button-label' | translate\"></button>\n      </span>\n    </div>\n  </div>\n  <li *ngIf=\"!field.editMode\" class=\"key-value-pair\">\n    <span *ngIf=\"field.label\" class=\"key\">{{field.label}}</span>\n    <span class=\"value\">\n      <ul class=\"key-value-list\">\n        <rb-vocab *ngFor=\"let fieldElem of field.fields; let i = index;\" [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\"></rb-vocab>\n      </ul>\n    </span>\n  </li>\n  `,\n})\nexport class RepeatableVocabComponent extends RepeatableComponent {\n  field: RepeatableVocab;\n  static clName = 'RepeatableVocabComponent';\n\n}\n\nexport class RepeatableContributor extends RepeatableContainer {\n  fields: ContributorField[];\n  canSort: boolean;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.canSort = _.isUndefined(options['canSort']) ? false : options['canSort'];\n  }\n\n  setValueAtElem(index, value:any) {\n    this.fields[index].component.onSelect(value, false, true);\n  }\n\n  addElem(val:any = null) {\n    this.fields[0].setMissingFields(val);\n    return super.addElem(val);\n  }\n}\n\n@Component({\n  selector: 'repeatable-contributor',\n  template: `\n  <div *ngIf=\"field.editMode\">\n    <div class=\"row\" *ngIf=\"field.fields[0].label\">\n      <div class=\"col-xs-12\">\n        <span class=\"label-font\">\n          {{field.fields[0].label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n          <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.fields[0].help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n        </span>\n      </div>\n    </div>\n    <div class=\"row\"  *ngIf=\"this.helpShow\">\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"col-xs-12 help-block\" [innerHtml]=\"field.fields[0].help\"></span>\n    </div>\n    <div *ngFor=\"let fieldElem of field.fields; let i = index;\" class=\"row\">\n      <span class=\"col-xs-10\">\n        <rb-contributor [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\" [isEmbedded]=\"true\"></rb-contributor>\n      </span>\n      <span class=\"col-xs-2\">\n        <button type='button' *ngIf=\"field.fields.length > 1 && field.canSort\"  (click)=\"moveUp($event, i)\" [ngClass]=\"field.moveUpButtonClass\" [ngStyle]=\"{'margin-top': fieldElem.marginTop}\" [attr.aria-label]=\"'move-up-button' | translate\"></button>\n        <button type='button' *ngIf=\"field.fields.length > 1 && field.canSort\"  (click)=\"moveDown($event, i)\" [ngClass]=\"field.moveDownButtonClass\" [ngStyle]=\"{'margin-top': fieldElem.marginTop}\" [attr.aria-label]=\"'move-down-button' | translate\"></button>\n        <button type='button' *ngIf=\"field.fields.length > 1 && field.removeButtonText\" (click)=\"removeElem($event, i)\"  [ngClass]=\"field.removeButtonTextClass\" [ngStyle]=\"{'margin-top': fieldElem.marginTop}\" >{{field.removeButtonText}}</button>\n        <button type='button' *ngIf=\"field.fields.length > 1 && !field.removeButtonText\" (click)=\"removeElem($event, i)\" [ngClass]=\"field.removeButtonClass\" [ngStyle]=\"{'margin-top': fieldElem.marginTop}\" [attr.aria-label]=\"'remove-button-label' | translate\" ></button>\n      </span>\n    </div>\n    <div class=\"row\">\n      <span class=\"col-xs-12\">\n        <button *ngIf=\"field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonTextClass\" >{{field.addButtonText}}</button>\n        <button *ngIf=\"!field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonClass\" [attr.aria-label]=\"'add-button-label' | translate\" ></button>\n      </span>\n    </div>\n  </div>\n  <ng-container  *ngIf=\"!field.editMode\">\n    <div class=\"view-contributor\">\n      <div *ngIf=\"field.fields[0].label\" class=\"row\">\n        <div class=\"col-xs-12 key-value-pair\"><span class=\"key\">{{field.fields[0].label}}</span></div>\n      </div>\n      <div class=\"row view-contributor\">\n        <div *ngIf=\"field.fields[0].showTitle\" class=\"col-xs-1 label-font\">{{field.fields[0].titleColHdr}}</div>\n        <div class=\"col-xs-3 label-font\">{{field.fields[0].nameColHdr}}</div>\n        <div [attr.class]=\"field.showRole? 'label-font col-xs-3':'label-font col-xs-4'\" class=\"\">{{field.fields[0].emailColHdr}}</div>\n        <div class=\"label-font\" [attr.class]=\"field.showRole? 'label-font col-xs-3':'hidden'\" >{{field.fields[0].roleColHdr}}</div>\n        <div class=\"col-xs-2 label-font\">{{field.fields[0].orcidColHdr}}</div>\n      </div>\n      <div class=\"row view-contributor\" *ngFor=\"let fieldElem of field.fields; let i = index;\">\n        <div *ngIf=\"fieldElem.showTitle\" class=\"col-xs-1\">{{fieldElem.value.honorific}}</div>\n        <div class=\"col-xs-3\">{{fieldElem.value.text_full_name}}</div>\n        <div [attr.class]=\"field.showRole? 'col-xs-3':'col-xs-4'\">{{fieldElem.value.email}}</div>\n        <div [attr.class]=\"field.showRole? 'col-xs-3':'hidden'\">{{fieldElem.value.role}}</div>\n        <div class=\"col-xs-2\">{{fieldElem.value.orcid}}</div>\n      </div>\n    </div>\n  </ng-container>\n  `,\n})\nexport class RepeatableContributorComponent extends RepeatableComponent implements OnInit {\n  field: RepeatableContributor;\n\n  ngOnInit() {\n    this.field.fields[0]['showHeader'] = false;\n    this.field.fields[0].marginTop = this.field.fields[0].baseMarginTop;\n    this.field.fields[0].componentReactors.push(this);\n  }\n\n  addElem(event: any) {\n    const newElem:any = this.field.addElem();\n    newElem.marginTop = '0px';\n    if (!_.isUndefined(newElem.vocabField)) {\n      newElem.vocabField.initialValue = null;\n    }\n    newElem.setupEventHandlers();\n    newElem.showHeader = false;\n    newElem.componentReactors.push(this);\n  }\n\n  removeElem(event: any, i: number) {\n    this.field.removeElem(i);\n    if (i == 0) {\n      this.field.fields[0].marginTop = this.field.fields[0].baseMarginTop;\n    }\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any, elem:any) {\n    if (this.field.fields.length > 0) {\n      elem.marginTop = '0px';\n      elem.vocabField.initialValue = eventData;\n      elem.setupEventHandlers();\n      elem.componentReactors.push(this);\n    }\n  }\n\n  public moveUp(event: any, i:number) {\n    const newIdx = i - 1;\n    if (newIdx >= 0) {\n      this.field.swap(i, newIdx);\n      if (newIdx == 0) {\n        this.field.fields[i].marginTop = '';\n        this.field.fields[newIdx].marginTop = this.field.fields[newIdx].baseMarginTop;\n      }\n    }\n  }\n\n  public moveDown(event: any, i:number) {\n    const newIdx = i + 1;\n    if (newIdx < this.field.fields.length) {\n      this.field.swap(i, newIdx);\n      if (i == 0) {\n        this.field.fields[i].marginTop = this.field.fields[i].baseMarginTop;\n        this.field.fields[newIdx].marginTop = '';\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-repeatable.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Input, Component, ViewChild, ViewContainerRef, OnInit, Injector, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from '@angular/core';\nimport { FieldBase } from './field-base';\nimport { SelectionField, HtmlRaw, Container, DateTime, AnchorOrButton, SaveButton, CancelButton, TabOrAccordionContainer,ParameterRetrieverField, TabNavButton, Spacer, Toggle } from './field-simple';\nimport { RecordMetadataRetrieverField } from './record-meta.component';\nimport { FormGroup, FormControl, FormArray } from '@angular/forms';\nimport * as _ from \"lodash\";\ndeclare var jQuery: any;\ndeclare var window: any;\n/**\n * A component base class\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n */\nexport class SimpleComponent {\n  /**\n   * Field model\n   */\n  @Input() public field: FieldBase<any>;\n  /**\n   * The form group\n   */\n  @Input() public form: FormGroup;\n  /**\n   * The field mapping\n   */\n  @Input() public fieldMap: any;\n  /**\n   * The index of this field\n   */\n  @Input() public index: any;\n  /**\n   * The name of this field\n   */\n  @Input() public name: any;\n\n  @Input() isEmbedded: boolean = false;\n  /**\n   * The NG2 root injector\n   */\n  public injector: Injector;\n  /**\n   * Toggles help display\n   */\n  helpShow: boolean;\n\n  /**\n   * Optional parentId of this component\n   */\n  parentId: string;\n\n  /**\n   * Loaded flag\n   */\n  loaded: boolean;\n\n  /**\n   * Return the NG2 FormControl or subclass thereof\n   * @param  {string = null} name\n   * @return {FormControl}\n   */\n  public getFormControl(name: string = null, ctrlIndex: number = null):FormControl {\n    let fc = null;\n    if (_.isEmpty(name)) {\n      name = this.name;\n    }\n    if (_.isEmpty(name)) {\n      name = this.field.name;\n    }\n    if (this.fieldMap && this.field) {\n      // console.log(name);\n      fc = this.field.getControl(name, this.fieldMap);\n    }\n    if (!_.isNull(ctrlIndex) && !_.isUndefined(ctrlIndex)) {\n      if (!_.isNull(fc.controls) && !_.isUndefined(fc.controls)) {\n        fc = fc.controls[ctrlIndex];\n      }\n    } else\n    if (this.index != null) {\n      fc = fc.controls[this.index];\n    }\n    if (name != this.field.name && !_.isEmpty(this.field.name) && !_.isUndefined(fc.controls)) {\n      fc = fc.controls[this.field.name];\n    }\n    return fc;\n  }\n  /**\n   * Returns the CSS class\n   * @param  {string=null} fldName\n   * @return {string}\n   */\n  public getGroupClass(fldName:string=null): string {\n    return `${ this.field.groupClasses } form-group ${this.hasRequiredError() ? 'has-error' : '' }`;\n  }\n  /**\n   * If this field has a 'required' error.\n   * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n   * @return {[type]}\n   */\n  public hasRequiredError():boolean {\n    return (this.field.formModel ? this.field.formModel.touched && this.field.formModel.hasError('required') : false);\n  }\n  /**\n   * Convenience method to toggle help mode.\n   * @return {[type]}\n   */\n  public toggleHelp() {\n    this.helpShow = !this.helpShow;\n  }\n  /**\n   * Returns label\n   * @return {string}\n   */\n  getRequiredLabelStr():string {\n    return this.field.required ? '<span class=\"text-danger\">(*)</span>' : '';\n  }\n  /**\n   * Returns the NG2 root injector\n   * @param  {any} token\n   * @return {any}\n   */\n  getFromInjector(token:any): any {\n    return this.injector.get(token);\n  }\n}\n\nexport class SelectionComponent extends SimpleComponent {\n  field: SelectionField;\n\n  getLabel(val: any): string {\n    if (_.isEmpty(val)) {\n      return '';\n    }\n    const opt = _.find(this.field.selectOptions, (opt)=> {\n      return opt.value == val;\n    });\n    if (opt) {\n      return opt.label;\n    } else {\n      return '';\n    }\n  }\n\n\n}\n\n@Component({\n  selector: 'dropdownfield',\n  template: `\n  <div [formGroup]='form' *ngIf=\"field.editMode && field.visible\" [ngClass]=\"getGroupClass()\">\n     <label [attr.for]=\"field.name\">\n       {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n      <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n     </label><br/>\n     <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n     <select [compareWith]=\"compare\" [formControl]=\"getFormControl()\"  [id]=\"field.name\" [ngClass]=\"field.cssClasses\">\n        <ng-template [ngIf]=\"!field.storeValueAndLabel\">\n          <option *ngFor=\"let opt of field.selectOptions\" [value]=\"opt.value\">{{opt.label}}</option>\n        </ng-template>\n        <ng-template [ngIf]=\"field.storeValueAndLabel\">\n          <option *ngFor=\"let opt of field.selectOptions\" [ngValue]=\"opt\">{{opt.label}}</option>\n        </ng-template>\n     </select>\n     <div class=\"text-danger\" *ngIf=\"getFormControl().hasError('required') && getFormControl().touched && !field.validationMessages?.required\">{{field.label}} is required</div>\n     <div class=\"text-danger\" *ngIf=\"getFormControl().hasError('required') && getFormControl().touched && field.validationMessages?.required\">{{field.validationMessages.required}}</div>\n  </div>\n  <div *ngIf=\"!field.editMode && field.visible\" class=\"key-value-pair\">\n    <span class=\"key\" *ngIf=\"field.label\">{{field.label}}</span>\n    <ng-template [ngIf]=\"!field.storeValueAndLabel\">\n    <span *ngIf=\"!field.valueIsLink\" target=\"_blank\" class=\"value\">{{getLabel(field.value)}}</span>\n    <a *ngIf=\"field.valueIsLink\" href=\"{{field.value}}\" class=\"value\">{{getLabel(field.value)}}</a>\n    </ng-template>\n    <ng-template [ngIf]=\"field.storeValueAndLabel && field.value.value != ''\">\n    <span class=\"value\">{{getLabel(field.value.value)}}</span>\n    </ng-template>\n  </div>\n  `,\n})\nexport class DropdownFieldComponent extends SelectionComponent {\n  static clName = 'DropdownFieldComponent';\n  compare = this.compareFn.bind(this);\n\n  compareFn(a,b) {\n    if(this.field.storeValueAndLabel) {\n      if(b == null || b == \"\") {\n        return a.value == b;\n      }\n      return a.value == b.value;\n    }\n    return a == b;\n  }\n}\n\n@Component({\n  selector: 'selectionfield',\n  template: `\n  <div [formGroup]='form' *ngIf=\"field.editMode && field.visible\" class=\"form-group\">\n     <span class=\"label-font\">\n      {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n      <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n     </span><br/>\n     <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n     <fieldset>\n      <legend [hidden]=\"true\"><span></span></legend>\n        <span *ngFor=\"let opt of field.selectOptions\">\n          <!-- radio type hard-coded otherwise accessor directive will not work! -->\n          <input *ngIf=\"isRadio()\" type=\"radio\" name=\"{{field.name}}\" [id]=\"field.name + '_' + opt.value\" [formControl]=\"getFormControl()\" [value]=\"opt.value\" [attr.disabled]=\"field.readOnly ? '' : null \" (change)=\"onChange(opt, $event)\" [attr.checked]=\"getControlFromOption(opt)\">\n          <input *ngIf=\"!isRadio()\" type=\"{{field.controlType}}\" name=\"{{field.name}}\" [id]=\"field.name + '_' + opt.value\" [value]=\"opt.value\" (change)=\"onChange(opt, $event)\" [attr.selected]=\"getCheckedFromOption(opt)\" [checked]=\"getCheckedFromOption(opt)\" [attr.disabled]=\"field.readOnly ? '' : null \">\n          <label for=\"{{field.name + '_' + opt.value}}\" class=\"radio-label\"  [innerHtml]=\"opt.label\"></label>\n          <br/>\n        </span>\n     </fieldset>\n     <div class=\"text-danger\" *ngIf=\"hasRequiredError() && !field.validationMessages?.required\">{{field.label}} is required</div>\n     <div class=\"text-danger\" *ngIf=\"hasRequiredError() && field.validationMessages?.required\">{{field.validationMessages.required}}</div>\n  </div>\n  <div *ngIf=\"!field.editMode && field.visible\" class=\"key-value-pair\">\n    <ng-container *ngIf=\"isRadio()\">\n      <span *ngIf=\"field.label\" [innerHtml]=\"field.label\" class=\"key\"></span>\n      <span class=\"value\" [innerHtml]=\"getLabel(field.value)\"></span>\n    </ng-container>\n    <ng-container *ngIf=\"!isRadio()\">\n      <span *ngIf=\"field.label\" [innerHtml]=\"field.label\" class=\"key\"></span>\n      <span class=\"value\" *ngIf=\"!isValArray()\" [innerHtml]=\"getLabel(field.value)\"></span>\n      <ng-container *ngIf=\"isValArray()\">\n        <div class=\"value\" *ngFor=\"let val of field.value\" [innerHtml]=\"getLabel(val)\">\n        </div>\n      </ng-container>\n    </ng-container>\n\n  </div>\n  <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"selectionComponent\" aria-hidden=\"true\" id=\"{{ 'modal_' + field.name }}\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">{{field.confirmChangesLabel}}</h4>\n          <p>{{field.confirmChangesParagraphLabel}}</p>\n          <p *ngFor=\"let f of defer.fields\">\n            <strong>{{f.label}}</strong><br/>\n            {{f.valueLabel}}\n          </p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" (click)=\"confirmChange(true)\">Yes</button>\n          <button type=\"button\" class=\"btn btn-primary\" (click)=\"confirmChange(false)\">No</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  `,\n})\nexport class SelectionFieldComponent extends SelectionComponent {\n  static clName = 'SelectionFieldComponent';\n  defer: any = {};\n  defered: boolean = false;\n  confirmChanges: boolean = true;\n\n  isValArray() {\n    return _.isArray(this.field.value) || this.field.controlType == 'checkbox';\n  }\n\n  isRadio() {\n    return this.field.controlType == 'radio';\n  }\n\n  getControlFromOption(opt: any) {\n    const fc = this.getFormControl();\n    let control = _.find(fc['controls'], (ctrl) => {\n      return opt.value == ctrl.value;\n    });\n    return control;\n  }\n\n  getCheckedFromOption(opt: any) {\n    let control = this.getControlFromOption(opt);\n    const checked = !_.isUndefined(control);\n    return checked;\n  }\n\n  modifies(opt, event, defered) {\n    this.confirmChanges = true;\n    const fieldName = this.field['name'];\n    let fields = this.fieldMap;\n    this.defer['fields'] = new Array();\n    _.each(opt['modifies'], e => {\n      const contval = this.fieldMap[e].control.value;\n      //this.fieldMap[e].control.getRawValue();\n      if(!_.isEmpty(contval) || contval === true) {\n        jQuery(`#modal_${fieldName}`).modal({backdrop: 'static', keyboard: false, show: true});\n        this.defer['opt'] = opt;\n        this.defer['event'] = event;\n        this.defer['fields'].push(this.field.getFieldDisplay(this.fieldMap[e]));\n        this.confirmChanges = false;\n      }\n    });\n    if(this.confirmChanges) {\n      this.defer = {};\n      this.onChange(opt, event, true);\n    }\n  }\n\n  confirmChange(doConfirm) {\n    const fieldName = this.field['name'];\n    jQuery(`#modal_${fieldName}`).modal('hide');\n    this.confirmChanges = doConfirm;\n    const defer = this.defer;\n    if(this.isRadio()) {\n      // modifies is not available for radio\n      defer.event.target.checked = doConfirm;\n      if(!doConfirm) {\n        const revert = this.defer['opt']['revert']\n        this.field.setValue(revert);\n        defer.opt = _.find(this.field.options.options, {value: revert});\n      }\n    } else {\n      defer.event.target.checked = !doConfirm;\n    }\n    this.defer = {};\n    this.onChange(defer.opt, defer.event, true);\n  }\n\n  onChange(opt:any, event:any, defered) {\n    defered = defered || !_.isUndefined(defered);\n    let formcontrol:any = this.getFormControl();\n    if (event.target.checked) {\n      if(_.isObject(formcontrol.push)) {\n        formcontrol.push(new FormControl(opt.value));\n      } else if(this.isRadio()) {\n        // modifies defers the changes on radio\n        if(opt['modifies'] && !defered) {\n          this.modifies(opt, event, defered);\n        } else {\n          defered = true;\n        }\n      }\n    } else {\n      if(opt['modifies'] && !defered) {\n        this.modifies(opt, event, defered);\n      }\n      if(!defered) {\n        let idx = null;\n        _.forEach(formcontrol.controls, (ctrl, i) => {\n          if (ctrl.value == opt.value) {\n            idx = i;\n            return false;\n          }\n        });\n        formcontrol.removeAt(idx);\n      }\n    }\n    if(this.field.publish && this.confirmChanges) {\n      if(this.field.publish.onItemSelect) {\n        this.field.onItemSelect.emit({value: opt['publishTag'], checked: event.target.checked, defered: defered});\n      }\n      if(this.field.publish.onValueUpdate) {\n        this.field.onValueUpdate.emit({value: opt['publishTag'], checked: event.target.checked, defered: defered});\n      }\n    }\n  }\n}\n\n\n/****************************************************************************\nContainer components\n*****************************************************************************/\n@Component({\n  selector: 'tabcontainer',\n  template: `\n  <div *ngIf=\"field.editMode\" class=\"row\" style=\"min-height:300px;\">\n    <div [ngClass]=\"field.cssClasses\">\n      <div [ngClass]=\"field.tabNavContainerClass\">\n        <ul [ngClass]=\"field.tabNavClass\">\n          <li *ngFor=\"let tab of field.fields\" [ngClass]=\"{'active': tab.active}\"><a href=\"#{{tab.id}}\" data-toggle=\"tab\" role=\"tab\">{{tab.label}}</a></li>\n        </ul>\n      </div>\n      <div [ngClass]=\"field.tabContentContainerClass\">\n        <div [ngClass]=\"field.tabContentClass\">\n      <!--\n      Inlined the tab definition instead of creating it's own component otherwise Bootstrap refuses to toggle the panes\n      Likely because of the extra DOM node (component selector) that it doesn't know what to do.\n      TODO: remove inlining, or perhaps consider a 3rd-party NG2 tab component\n      -->\n        <ng-container *ngFor=\"let tab of field.fields\" >\n          <div *ngIf=\"tab.visible\" [ngClass]=\"{'tab-pane': true, 'fade': true, 'active': tab.active==true, 'in': tab.active==true}\" id=\"{{tab.id}}\">\n            <dmp-field *ngFor=\"let field of tab.fields\" [field]=\"field\" [form]=\"form\" class=\"form-row\" [fieldMap]=\"fieldMap\" [parentId]=\"tab.id\"></dmp-field>\n          </div>\n        </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"!field.editMode\" [ngClass]=\"field.accContainerClass\">\n    <div class=\"panel-group\">\n      <a href=\"#\" class=\"main-expand-collapse\" (click)=\"expandCollapseAll(); false\">Expand/Collapse all</a>\n      <div *ngFor=\"let tab of field.fields\" [ngClass]=\"field.accClass\">\n        <ng-container *ngIf=\"tab.visible\">\n          <div class=\"panel-heading\">\n            <span class=\"panel-title tab-header-font\">\n              <a data-toggle=\"collapse\" href=\"#{{tab.id}}\">\n                {{ tab.expandedChar }} {{ tab.label }}\n              </a>\n            </span>\n          </div>\n          <div id=\"{{tab.id}}\" class=\"panel-collapse collapse\">\n            <div class=\"panel-body\">\n              <ul class=\"key-value-list\">\n                <dmp-field *ngFor=\"let field of tab.fields\" [field]=\"field\" [form]=\"form\" class=\"form-row\" [fieldMap]=\"fieldMap\"></dmp-field>\n              </ul>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n  </div>\n  `\n})\nexport class TabOrAccordionContainerComponent extends SimpleComponent {\n  field: TabOrAccordionContainer;\n\n  constructor(private changeRef: ChangeDetectorRef) {\n    super();\n  }\n\n  ngAfterViewInit() {\n    let that = this;\n    setTimeout(() => {\n      _.each(this.field.fields, tab => {\n        tab['expandedChar'] = '+';\n        jQuery(`#${tab.id}`).on('shown.bs.collapse', ()=> {\n          tab[\"expandedChar\"] = '-';\n          that.changeRef.detectChanges();\n          that.field.onAccordionCollapseExpand.emit({shown:true, tabId: tab.id});\n        });\n        jQuery(`#${tab.id}`).on('hidden.bs.collapse', ()=> {\n          tab[\"expandedChar\"] = '+';\n          that.changeRef.detectChanges();\n          that.field.onAccordionCollapseExpand.emit({shown:false, tabId: tab.id});\n        });\n      });\n    });\n    if(!this.field.editMode && this.field.expandAccordionsOnOpen) {\n      this.field.allExpanded = false;\n      this.expandCollapseAll();\n    }\n  }\n\n  expandCollapseAll() {\n    if(this.field.allExpanded) {\n      _.each(this.field.fields, tab => {\n          jQuery(`#${tab.id}`).collapse('hide');\n      });\n      this.field.allExpanded = false;\n    } else {\n      _.each(this.field.fields, tab => {\n          jQuery(`#${tab.id}`).collapse('show');\n      });\n      this.field.allExpanded = true;\n    }\n    return false;\n  }\n}\n\n@Component({\n  selector: 'buttonbarcontainer',\n  template: `\n    <div *ngIf=\"field.editMode\" class=\"form-row\">\n      <div class=\"pull-right col-md-10\">\n      <dmp-field *ngFor=\"let field1 of field.fields\" [field]=\"field1\" [form]=\"form\" class=\"form-row\" [fieldMap]=\"fieldMap\"></dmp-field>\n    </div>\n  `\n})\nexport class ButtonBarContainerComponent extends SimpleComponent {\n\n}\n\n// Break in case of an emergency....\n@Component({\n  selector: 'htmlraw',\n  template: `\n  <span *ngIf=\"field.visible\" [innerHtml]=\"field.value\" [ngClass]=\"field.cssClasses\"></span>\n  `,\n})\nexport class HtmlRawComponent extends SimpleComponent {\n  field: HtmlRaw;\n\n}\n// For creating text blocks with help sections?\n@Component({\n  selector: 'text-block',\n  template: `\n  <div *ngIf=\"field.visible\" [ngSwitch]=\"field.type\">\n    <span *ngSwitchCase=\"'h1'\" [ngClass]=\"field.cssClasses\">{{field.value == null? '' : field.value}}</span>\n    <span *ngSwitchCase=\"'h2'\" [ngClass]=\"field.cssClasses\">{{field.value == null? '' : field.value}}</span>\n    <span *ngSwitchCase=\"'h3'\" [ngClass]=\"field.cssClasses\">{{field.value == null? '' : field.value}}</span>\n    <span *ngSwitchCase=\"'h4'\" [ngClass]=\"field.cssClasses\">{{field.value == null? '' : field.value}}</span>\n    <span *ngSwitchCase=\"'h5'\" [ngClass]=\"field.cssClasses\">{{field.value == null? '' : field.value}}</span>\n    <span *ngSwitchCase=\"'h6'\" [ngClass]=\"field.cssClasses\">{{field.value == null? '' : field.value}}</span>\n    <hr *ngSwitchCase=\"'hr'\" [ngClass]=\"field.cssClasses\">\n    <span *ngSwitchCase=\"'span'\" [ngClass]=\"field.cssClasses\">{{field.value == null? '' : field.value}}</span>\n    <p *ngSwitchDefault [ngClass]=\"field.cssClasses\" [innerHtml]=\"field.value == null? '' : field.value\"></p>\n    <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.editMode && field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n  </div>\n  <div class=\"row\" *ngIf=\"field.editMode && this.helpShow\">\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"col-xs-12 help-block\" [innerHtml]=\"field.help\"></span>\n  </div>\n  `,\n})\nexport class TextBlockComponent extends SimpleComponent {\n  field: Container;\n  static clName = 'TextBlockComponent';\n}\n\n\n/**\n* #### Save Button Component.\n*\n* Calls the form framework's save function to create or update the record.\n*\n* #### Usage\n* ```\n*     {\n*          class: \"SaveButton\",\n*          definition: {\n*            label: 'Save & Close',\n*            closeOnSave: true,\n*            redirectLocation: '/@branding/@portal/dashboard'\n*          }\n*        }\n* ```\n*\n*| Property Name       | Description                                                    | Required | Default |\n*|---------------------|----------------------------------------------------------------|----------|---------|\n*| label               | The text to display on the button                              | Yes      |         |\n*| closeOnSave         | Flag to leave the page on successful save                      | No       | false   |\n*| redirectLocation    | The location to redirect to if closeOnSave flag is set to true | No       |         |\n*/\n@Component({\n  selector: 'save-button',\n  template: `\n    <button type=\"button\" (click)=\"onClick($event)\" class=\"btn\" [ngClass]=\"field.cssClasses\" [disabled]=\"(!fieldMap._rootComp.needsSave || fieldMap._rootComp.isSaving()) && !field.isSubmissionButton\">{{field.label}}</button>\n    <div *ngIf=\"field.confirmationMessage\" class=\"modal fade\" id=\"{{ field.name }}_confirmation\" tabindex=\"-1\" role=\"dialog\" >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n            <h4 class=\"modal-title\" id=\"{{ field.name }}_confirmation_label\" [innerHtml]=\"field.confirmationTitle\"></h4>\n          </div>\n          <div class=\"modal-body\" [innerHtml]=\"field.confirmationMessage\"></div>\n          <div class=\"modal-footer\">\n            <button (click)=\"hideConfirmDlg()\" type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" [innerHtml]=\"field.cancelButtonMessage\"></button>\n            <button (click)=\"doAction()\" type=\"button\" class=\"btn btn-primary\" [innerHtml]=\"field.confirmButtonMessage\"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class SaveButtonComponent extends SimpleComponent {\n  public field: SaveButton;\n\n  public onClick(event: any) {\n    if (this.field.confirmationMessage) {\n      this.showConfirmDlg();\n      return;\n    }\n    this.doAction();\n  }\n\n  showConfirmDlg() {\n    jQuery(`#${this.field.name}_confirmation`).modal('show');\n  }\n\n  hideConfirmDlg() {\n    jQuery(`#${this.field.name}_confirmation`).modal('hide');\n  }\n\n  public doAction() {\n    var successObs = null;\n    if (this.field.isDelete) {\n      successObs = this.fieldMap._rootComp.delete();\n    } else {\n      successObs = this.field.targetStep ?\n      this.fieldMap._rootComp.onSubmit(this.field.targetStep, false, this.field.additionalData)\n      : this.fieldMap._rootComp.onSubmit(null, false, this.field.additionalData);\n    }\n    successObs.subscribe( status =>  {\n      if (status) {\n        if (this.field.closeOnSave == true) {\n          window.location.href= this.field.redirectLocation;\n        }\n      }\n      if (this.field.confirmationMessage) {\n        this.hideConfirmDlg();\n      }\n    });\n\n  }\n}\n\n/**\n* # Cancel Button Component\n*\n* #### Button designed to\n*  @param  {CancelButton} cancelButton\n*   @return {FormControl}\n*/\n@Component({\n  selector: 'cancel-button',\n  template: `\n    <button type=\"button\" class=\"btn btn-warning\" [disabled]=\"fieldMap._rootComp.isSaving()\" (click)=\"cancel()\">{{field.label}}</button>\n    <div *ngIf=\"field.confirmationMessage\" class=\"modal fade\" id=\"{{ field.name }}_confirmation\" tabindex=\"-1\" role=\"dialog\" >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n            <h4 class=\"modal-title\" id=\"{{ field.name }}_confirmation_label\" [innerHtml]=\"field.confirmationTitle\"></h4>\n          </div>\n          <div class=\"modal-body\" [innerHtml]=\"field.confirmationMessage\"></div>\n          <div class=\"modal-footer\">\n            <button (click)=\"hideConfirmDlg()\" type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" [innerHtml]=\"field.cancelButtonMessage\"></button>\n            <button (click)=\"doAction()\" type=\"button\" class=\"btn btn-primary\" [innerHtml]=\"field.confirmButtonMessage\"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class CancelButtonComponent extends SimpleComponent {\n  public field: CancelButton;\n\n  showConfirmDlg() {\n    jQuery(`#${this.field.name}_confirmation`).modal('show');\n  }\n\n  hideConfirmDlg() {\n    jQuery(`#${this.field.name}_confirmation`).modal('hide');\n  }\n\n  public cancel() {\n    if(this.field.confirmationMessage != null && this.fieldMap._rootComp.needsSave) {\n      this.showConfirmDlg();\n    }else {\n      this.doAction();\n    }\n  }\n\n  public doAction() {\n    this.fieldMap._rootComp.onCancel();\n  }\n}\n\n\n@Component({\n  selector: 'anchor-button',\n  template: `\n  <button *ngIf=\"field.controlType=='button'\" type=\"{{field.type}}\" [ngClass]=\"field.cssClasses\" (click)=\"onClick($event)\" [disabled]=\"isDisabled()\">{{field.label}}</button>\n  <a *ngIf=\"field.controlType=='anchor'\" href='{{field.value}}' [ngClass]=\"field.cssClasses\" ><span *ngIf=\"field.showPencil\" class=\"glyphicon glyphicon-pencil\">&nbsp;</span>{{field.label}}</a>\n  <a *ngIf=\"field.controlType=='htmlAnchor'\" href='{{field.value}}' [ngClass]=\"field.cssClasses\" [innerHtml]=\"field.anchorHtml\"></a>\n  `,\n})\nexport class AnchorOrButtonComponent extends SimpleComponent {\n  public field: AnchorOrButton;\n\n  public onClick(event: any) {\n    this.fieldMap._rootComp[this.field.onClick_RootFn]();\n  }\n\n  public isDisabled() {\n    if (this.field.isDisabledFn) {\n      return this.fieldMap._rootComp[this.field.isDisabledFn]();\n    }\n    return false;\n  }\n}\n\n@Component({\n  selector: 'tab-nav-button',\n  template: `\n    <span *ngIf=\"field.endDisplayMode == 'disabled'\">\n    <button type='button'[ngClass]='field.cssClasses' [disabled]=\"!field.getTabId(-1)\" (click)=\"stepToTab(-1)\" >{{field.prevLabel}}</button>\n    <button type='button'[ngClass]='field.cssClasses' [disabled]=\"!field.getTabId(1)\" (click)=\"stepToTab(1)\" >{{field.nextLabel}}</button>\n    </span>\n    <span *ngIf=\"field.endDisplayMode == 'hidden'\">\n    <button type='button'[ngClass]='field.cssClasses' [style.display]=\"!field.getTabId(-1)?'none':'inherit'\" (click)=\"stepToTab(-1)\" >{{field.prevLabel}}</button>\n    <button type='button'[ngClass]='field.cssClasses' [style.display]=\"!field.getTabId(1)?'none':'inherit'\" (click)=\"stepToTab(1)\" >{{field.nextLabel}}</button>\n    </span>\n  `,\n})\nexport class TabNavButtonComponent extends SimpleComponent {\n  public field: TabNavButton;\n\n  constructor(private changeRef: ChangeDetectorRef) {\n    super();\n  }\n\n  ngOnInit() {\n    this.field.getTabs();\n    jQuery('a[data-toggle=\"tab\"]').on('shown.bs.tab', (e) => {\n      const tabId = e.target.href.split('#')[1];\n      this.field.currentTab = tabId;\n      this.changeRef.detectChanges();\n    })\n  }\n\n  ngAfterViewInit() {\n    const focusTabId = this.getUrlParameter('focusTabId');\n    if (!_.isEmpty(focusTabId)) {\n      this.fieldMap._rootComp.gotoTab(focusTabId);\n    }\n  }\n\n  public stepToTab(step: number) {\n    const tabId = this.field.getTabId(step);\n    if (tabId) {\n      this.fieldMap._rootComp.gotoTab(tabId);\n    } else {\n      console.log(`Invalid tab: ${tabId}`);\n    }\n  }\n\n  getUrlParameter(param:string) {\n    var pageURL = decodeURIComponent(window.location.search.substring(1)),\n        urlVariables = pageURL.split('&'),\n        parameterName,\n        i;\n\n    for (i = 0; i < urlVariables.length; i++) {\n        parameterName = urlVariables[i].split('=');\n\n        if (parameterName[0] === param) {\n            return parameterName[1] === undefined ? null : parameterName[1];\n        }\n    }\n  }\n}\n\n@Component({\n  selector: 'link-value',\n  template: `\n  <li *ngIf=\"isVisible()\" class=\"key-value-pair padding-bottom-10\">\n    <span class=\"key\" *ngIf=\"field.label\">{{field.label}}</span>\n    <span class=\"value\"><a href='{{field.value}}' target=\"field.target\">{{field.value}}</a></span>\n  </li>\n  `,\n})\nexport class LinkValueComponent extends SimpleComponent {\n  isVisible() {\n    return !_.isEmpty(this.field.value);\n  }\n}\n\n@Component({\n  selector: 'hidden-field',\n  template: `\n  <div [formGroup]='form'>\n    <input type=\"hidden\" name=\"{{field.name}}\" [formControl]=\"getFormControl()\" />\n  </div>\n  `,\n})\nexport class HiddenValueComponent extends SimpleComponent {\n\n  handleChange(value: any, source: string) {\n    console.log(`Hidden Value change: ${source}`);\n    console.log(value);\n    let targetVal = null;\n    if (_.isArray(value)) {\n      targetVal = [];\n      _.forEach(value, (v:any)=> {\n        let tVal = '';\n        _.forEach(this.field.onChange.control.subFields, (subField:string) => {\n          tVal = `${_.isEmpty(tVal) ? tVal : `${tVal}${this.field.onChange.control.delim}`}${v[subField]}`;\n        });\n        targetVal.push(tVal);\n      });\n    }\n    this.getFormControl().setValue(targetVal, this.field.onChange.updateConf);\n    console.log(`Form now has value:`);\n    console.log(this.form.value);\n  }\n\n\n}\n\n/**\nWrapped: https://github.com/nkalinov/ng2-datetime\nBased on: https://bootstrap-datepicker.readthedocs.io/en/stable/\n*/\n@Component({\n  selector: 'date-time',\n  template: `\n  <div *ngIf=\"field.editMode\" [formGroup]='form' class=\"form-group\">\n    <span class=\"label-font\">\n      {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n      <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n    </span><br/>\n    <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n    <datetime #dateTime [formControl]=\"getFormControl()\" [timepicker]=\"field.timePickerOpts\" [datepicker]=\"field.datePickerOpts\" [hasClearButton]=\"field.hasClearButton\"></datetime>\n    <div *ngIf=\"field.required\" [style.visibility]=\"getFormControl() && getFormControl().hasError('required') && getFormControl().touched ? 'inherit':'hidden'\">\n      <div class=\"text-danger\" *ngIf=\"!field.validationMessages?.required\">{{field.label}} is required</div>\n      <div class=\"text-danger\" *ngIf=\"field.validationMessages?.required\">{{field.validationMessages.required}}</div>\n    </div>\n  </div>\n  <li *ngIf=\"!field.editMode\" class=\"key-value-pair\">\n    <span class=\"key\" *ngIf=\"field.label\">{{field.label}}</span>\n    <span class=\"value\">{{field.formatValueForDisplay()}}</span>\n  </li>\n  `\n})\nexport class DateTimeComponent extends SimpleComponent {\n  /**\n   * The field model\n   */\n  public field: DateTime;\n\n  @ViewChild('dateTime') public dateTime: any;\n\n  ngAfterViewInit() {\n    if (this.field.editMode) {\n      jQuery(`#${this.dateTime.idDatePicker}`).attr('aria-label', this.field.label);\n    }\n  }\n  /**\n   * Component method that formats the value, delegates to field.\n   */\n  formatValue() {\n    return this.field.formatValue(this.getFormControl().value);\n  }\n\n}\n\n@Component({\n  selector: 'parameter-retriever',\n  template: `\n  <div>\n\n  </div>\n  `,\n})\nexport class ParameterRetrieverComponent extends SimpleComponent implements AfterViewInit {\n  field: ParameterRetrieverField;\n\n  ngAfterViewInit() {\n    const paramValue = this.getUrlParameter(this.field.parameterName);\n    if(paramValue){\n      this.field.publishParameterValue(paramValue);\n    }\n  }\n\n  getUrlParameter(param:string) {\n    var pageURL = decodeURIComponent(window.location.search.substring(1)),\n        urlVariables = pageURL.split('&'),\n        parameterName,\n        i;\n\n    for (i = 0; i < urlVariables.length; i++) {\n        parameterName = urlVariables[i].split('=');\n\n        if (parameterName[0] === param) {\n            return parameterName[1] === undefined ? true : parameterName[1];\n        }\n    }\n}\n}\n\n@Component({\n  selector: 'spacer',\n  template: `\n  <span [style.display]=\"'inline-block'\" [style.width]=\"field.width\" [style.height]=\"field.height\">&nbsp;</span>\n  `,\n})\nexport class SpacerComponent extends SimpleComponent {\n  field: Spacer;\n\n}\n\n@Component({\n  selector: 'toggle',\n  template: `\n    <div *ngIf=\"field.type == 'checkbox' && field.visible\" [formGroup]='form'>\n      <input type=\"checkbox\" [checked]=\"field.value\" name=\"{{field.name}}\" [id]=\"field.name\" [formControl]=\"getFormControl()\" [attr.disabled]=\"field.editMode ? null : ''\" (change)=\"onChange(field.options, $event)\">\n      <label for=\"{{ field.name }}\" class=\"radio-label\">{{ field.label }} <button *ngIf=\"field.editMode && field.help\" type=\"button\" class=\"btn btn-default\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button></label>\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n    </div>\n    <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"toggleComponent\" aria-hidden=\"true\" id=\"{{ 'modal_' + field.name }}\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h4 class=\"modal-title\">{{ field.confirmChangesLabel }}</h4>\n            <p>{{ field.confirmChangesParagraphLabel }}</p>\n            <p *ngFor=\"let f of defer.fields\">\n              <strong>{{f.label}}</strong><br/>\n              {{f.valueLabel}}\n            </p>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"confirmChange(true)\">Yes</button>\n            <button type=\"button\" class=\"btn btn-primary\" (click)=\"confirmChange(false)\">No</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class ToggleComponent extends SimpleComponent {\n  field: Toggle;\n  defer: any = {};\n  confirmChanges: boolean = true;\n\n  onChange(opt:any, event:any, defered) {\n    defered = defered || !_.isUndefined(defered);\n    console.log(`ToggleComponent, onChanged Checked: ${event.target.checked}`);\n    if(opt['modifies'] && !defered) {\n      const fieldName = this.field['name'];\n      let fields = this.fieldMap;\n      this.defer['fields'] = new Array();\n      opt['modifies'].some(e => {\n        const contval = this.fieldMap[e].control.value;\n        //this.fieldMap[e].control.getRawValue();\n        if(!_.isEmpty(contval) || contval === true) {\n          jQuery(`#modal_${fieldName}`).modal({backdrop: 'static', keyboard: false, show: true});\n          this.defer['opt'] = opt;\n          this.defer['event'] = event;\n          this.defer['fields'].push(this.field.getFieldDisplay(this.fieldMap[e]));\n          this.confirmChanges = false;\n        }\n      });\n    }\n    if(this.field.publish && this.confirmChanges) {\n      setTimeout(() => {\n        this.field.onItemSelect.emit({value: opt['publishTag'], checked: event.target.checked});\n      });\n    }\n  }\n\n  confirmChange(doConfirm) {\n    const fieldName = this.field['name'];\n    jQuery(`#modal_${fieldName}`).modal('hide');\n    this.confirmChanges = doConfirm;\n    const defer = this.defer;\n    this.defer = {};\n    defer.event.target.checked = !doConfirm;\n    this.onChange(defer.opt, defer.event, true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-simple.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Output, EventEmitter } from '@angular/core';\nimport { FieldBase } from './field-base';\nimport { FormControl, FormGroup, FormArray, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport * as moment from 'moment';\n\nexport class NotInFormField extends FieldBase<any> {\n  constructor(options: any, injector: any) {\n    super(options, injector);\n  }\n\n  public createFormModel(valueElem:any = null): any {\n  }\n\n  public getGroup(group: any, fieldMap: any) : any {\n    this.fieldMap = fieldMap;\n    _.set(fieldMap, `${this.getFullFieldName()}.field`, this);\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any) {\n\n  }\n}\n\nexport class SelectionField extends FieldBase<any>  {\n  selectOptions: any[] = [];\n  storeValueAndLabel:boolean = false;\n  @Output() onItemSelect: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n\n\n    // this.options = options['options'] || [];\n    if(options.selectFor && options.defaultSelect) {\n      const newOptions = _.defaultTo(\n        _.find(options['options'], f => f.key === options.selectFor),\n        _.find(options['options'], f => f.key === options.defaultSelect)\n      );\n      options['options'] = newOptions.value;\n    }\n    this.selectOptions = _.map(options['options'] || [], (option)=> {\n      option['label'] = this.getTranslated(option['label'], option['label']);\n      option['value'] = this.getTranslated(option['value'], option['value']);\n      return option;\n    });\n\n    if (options['storeValueAndLabel']) {\n      this.storeValueAndLabel = true;\n      if(options['value'] == undefined) {\n        let emptyOptions = _.find(this.selectOptions, selectOption => {\n          return selectOption.value == \"\";\n        });\n        if(emptyOptions != null) {\n          this.value = emptyOptions;\n        }\n      }\n    }\n  }\n\n\n  createFormModel() {\n    if (this.controlType == 'checkbox') {\n      const fgDef = [];\n\n      _.map(this.selectOptions, (opt)=>{\n        const hasValue = _.find(this.value, (val) => {\n          return val == opt.value;\n        });\n        if (hasValue) {\n          fgDef.push(new FormControl(opt.value));\n        }\n      });\n      // const fg = new FormArray(fgDef);\n      // return fg;\n      return new FormArray(fgDef);\n    } else {\n      // const model = super.createFormModel();\n      // console.log(`Created form model:`);\n      // console.log(model);\n      // return model;\n      return super.createFormModel();\n    }\n  }\n\n  nextOption() {\n    if (this.controlType == 'radio') {\n      let nextIdx = 0;\n      const opt = _.find(this.selectOptions, (opt, idx)=> {\n        const match = opt.value == this.value;\n        if (match) {\n          nextIdx = ++idx;\n        }\n        return match;\n      });\n      if (nextIdx >= this.selectOptions.length) {\n        nextIdx = 0;\n      }\n      const value = this.selectOptions[nextIdx].value;\n      this.setValue(value);\n    }\n    return this.value;\n  }\n}\n\nexport class Container extends FieldBase<any> {\n  content: string;\n  fields: FieldBase<any>[];\n  active: boolean;\n  type: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.controlType = 'div';\n    this.content = options['content'] || '';\n    this.active = options['active'] || false;\n    this.type = options['type'] || '';\n    this.isGroup = true;\n    this.hasControl = _.isUndefined(this.groupName);\n    if (_.isEmpty(this.cssClasses) && _.startsWith(this.type, 'h')) {\n      this.cssClasses = [`${this.type}-header`];\n    }\n\n  }\n\n  public getGroup(group: any, fieldMap: any) : any {\n    this.fieldMap = fieldMap;\n    _.set(fieldMap, `${this.getFullFieldName()}.field`, this);\n    group[this.name] =  this.required ? new FormGroup({}, Validators.required) : new FormGroup({});\n    _.each(this.fields, (field) => {\n      field.getGroup(group, fieldMap);\n    });\n    return group[this.name];\n  }\n\n  public createFormModel(valueElem:any=null): any {\n    const grp = {};\n    _.each(this.fields, (field) => {\n      let fldVal = null;\n      if (this.value) {\n        fldVal = _.get(this.value, field.name);\n      }\n      field.value = fldVal;\n      grp[field.name] = field.createFormModel(fldVal);\n    });\n    this.formModel = this.required ? new FormGroup(grp, Validators.required) : new FormGroup(grp);\n    return this.formModel;\n  }\n\n  public setValue(value:any, emitEvent:boolean=true) {\n    this.value = value;\n    _.forOwn(value, (val, key) => {\n      const fld = _.find(this.fields, (fldItem) => {\n        return fldItem.name == key;\n      });\n      fld.setValue(val, emitEvent);\n    });\n    // this.formModel.setValue(value, { onlySelf: true, emitEvent: emitEvent });\n  }\n\n}\n\nexport class TabOrAccordionContainer extends Container {\n\n  @Output() onTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onAccordionCollapseExpand: EventEmitter<any> = new EventEmitter<any>();\n\n  tabNavContainerClass: any;\n  tabNavClass: any;\n  tabContentContainerClass: any;\n  tabContentClass: any;\n  accContainerClass: any;\n  accClass: any;\n  expandAccordionsOnOpen:boolean = false;\n  allExpanded:boolean = false;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    // defaults to nav-pills, nav-stacked, nav size col-md-2, tab content col-md-10\n    this.tabNavContainerClass = options['tabNavContainerClass'] || 'col-md-2';\n    this.tabNavClass = options['tabNavClass'] || 'nav nav-pills nav-stacked';\n    this.tabContentContainerClass = options['tabContentContainerClass'] || 'col-md-10';\n    this.tabContentClass = options['tabContentClass'] || 'tab-content';\n    this.accContainerClass = options['accContainerClass'] || 'col-md-12';\n    this.accClass = options['accClass'] || 'panel panel-default';\n    this.expandAccordionsOnOpen = options['expandAccordionsOnOpen'] || false;\n  }\n}\n\nexport class ButtonBarContainer extends Container {\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n  }\n}\n\n\nexport class DateTime extends FieldBase<any> {\n  datePickerOpts: any;\n  timePickerOpts: any;\n  hasClearButton: boolean;\n  valueFormat: string;\n  displayFormat: string;\n  adjustStartRange: boolean;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.datePickerOpts = options['datePickerOpts'] || false;\n    this.timePickerOpts = options['timePickerOpts'] || false;\n    this.hasClearButton = options['hasClearButton'] || false;\n    this.valueFormat = options['valueFormat'] || 'YYYY-MM-DD';\n    this.displayFormat = options['displayFormat'] || 'YYYY-MM-DD';\n    this.controlType = 'datetime';\n    this.value = this.value ? this.parseToDate(this.value) : this.value;\n    this.adjustStartRange = !_.isUndefined(options['adjustStartRange']) ? options['adjustStartRange'] : false;\n  }\n\n  setValue(value:any) {\n    this.value = value;\n    this.formModel.patchValue(value, {emitEvent: true, emitModelToViewChange:true });\n    this.formModel.markAsTouched();\n  }\n\n  formatValue(value: any) {\n    // assume local date\n    console.log(`Formatting value: ${value}`)\n    return value ? moment(value).local().format(this.valueFormat) : value;\n  }\n\n  parseToDate(value: any) {\n    return moment(value, this.valueFormat).local().toDate();\n  }\n\n  formatValueForDisplay() {\n    const locale = window.navigator.language; // commented out, no support for below IE 11: window.navigator.userLanguage || window.navigator.language;\n    return this.value ? moment(this.value).locale(locale).format(this.displayFormat) : '';\n  }\n\n  public reactEvent(eventName: string, eventData: any, origData: any) {\n    if (this.adjustStartRange) {\n      const thisDate = moment(eventData);\n      const prevStartDate = moment(this.formModel.value);\n      if (!prevStartDate.isValid() || thisDate.isAfter(prevStartDate)) {\n        this.formModel.setValue(eventData);\n      }\n      const newOpts = _.cloneDeep(this.datePickerOpts);\n      newOpts.startDate = eventData;\n      this.datePickerOpts = newOpts;\n    } else {\n      const value = this.parseToDate(eventData);\n      this.setValue(value);\n    }\n  }\n}\n\n\n\nexport class SaveButton extends NotInFormField {\n  label: string;\n  redirectLocation: string;\n  closeOnSave: boolean;\n  buttonClass: string;\n  targetStep: string;\n  additionalData: any;\n  confirmationMessage: string;\n  confirmationTitle: string;\n  cancelButtonMessage: string;\n  confirmButtonMessage: string;\n  isDelete: boolean;\n  isSubmissionButton: boolean\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.label = this.getTranslated(options['label'], 'Save');\n    this.closeOnSave = options['closeOnSave'] || false;\n    this.redirectLocation = options['redirectLocation'] || false;\n    this.cssClasses = options['cssClasses'] || \"btn-primary\";\n    this.targetStep = options['targetStep'] || null;\n    this.additionalData = options['additionalData'] || null;\n    this.confirmationMessage = options['confirmationMessage'] ? this.getTranslated(options['confirmationMessage'], null) : null;\n    this.confirmationTitle = options['confirmationTitle'] ? this.getTranslated(options['confirmationTitle'], null) : null;\n    this.cancelButtonMessage = options['cancelButtonMessage'] ? this.getTranslated(options['cancelButtonMessage'], null ) : null;\n    this.confirmButtonMessage = options['confirmButtonMessage'] ? this.getTranslated(options['confirmButtonMessage'], null) : null;\n    this.isDelete = options['isDelete'];\n    this.isSubmissionButton = options['isSubmissionButton'] || false; // defaults to it is, unless specifically set, for backwards compat\n  }\n}\n\nexport class CancelButton extends FieldBase<string> {\n  label: string;\n  confirmationMessage: string;\n  confirmationTitle: string;\n  cancelButtonMessage: string;\n  confirmButtonMessage: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.label = this.getTranslated(options['label'], 'Cancel');\n    this.confirmationMessage = options['confirmationMessage'] ? this.getTranslated(options['confirmationMessage'], null) : null;\n    this.confirmationTitle = options['confirmationTitle'] ? this.getTranslated(options['confirmationTitle'], null) : null;\n    this.cancelButtonMessage = options['cancelButtonMessage'] ? this.getTranslated(options['cancelButtonMessage'], null) : null;\n    this.confirmButtonMessage = options['confirmButtonMessage'] ? this.getTranslated(options['confirmButtonMessage'], null) : null;\n  }\n}\n\nexport class TabNavButton extends FieldBase<string> {\n  prevLabel: string;\n  nextLabel: string;\n  currentTab: string;\n  tabs: string[] = [];\n  targetTabContainerId: string;\n  endDisplayMode: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.prevLabel = this.getTranslated(options.prevLabel, 'Previous');\n    this.nextLabel = this.getTranslated(options.nextLabel, 'Next');\n    this.targetTabContainerId = options.targetTabContainerId;\n    this.endDisplayMode = options.endDisplayMode == 'hidden' ? 'hidden': 'disabled';\n  }\n\n  public getTabs() {\n    const targetContainerTab = this.getTargetTab(this.fieldMap._rootComp.formDef.fields);\n    if (targetContainerTab) {\n      _.each(targetContainerTab.definition.fields, (tab) => {\n        this.tabs.push(tab.definition.id);\n      });\n      this.currentTab = this.tabs[0];\n    } else {\n      console.log(`Target Container Tab not found: ${this.targetTabContainerId}`);\n    }\n  }\n\n  protected getTargetTab(fields: any[]) {\n    const targetTab = _.find(fields, (f:any) => {\n      if (f.definition && f.definition.id == this.targetTabContainerId) {\n        return true;\n      }\n      if (f.definition && f.definition.fields) {\n        return this.getTargetTab(f.definition.fields);\n      }\n    });\n    return targetTab;\n  }\n\n  public getCurrentTabIdx() {\n    return _.findIndex(this.tabs, (curTab: any) => { return curTab == this.currentTab });\n  }\n\n  public getTabId(step:number) {\n    const curTabIdx = this.getCurrentTabIdx();\n    const tabIdx = curTabIdx + step;\n    if (tabIdx >= 0 && tabIdx < this.tabs.length) {\n      return this.tabs[tabIdx];\n    }\n    return null;\n  }\n\n}\n\nexport class AnchorOrButton extends FieldBase<string> {\n  onClick_RootFn: any;\n  type: string;\n  isDisabledFn: any;\n  showPencil: boolean;\n  anchorHtml: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.onClick_RootFn = options['onClick_RootFn'] || null;\n    this.isDisabledFn = options['isDisabledFn'] || null;\n    this.type = options['type'] || 'button';\n    this.controlType = options['controlType'] || 'button';\n    this.hasControl = false;\n    this.showPencil = options['showPencil'] || false;\n    this.anchorHtml = options['anchorHtml'] || '';\n  }\n}\n\nexport class HiddenValue extends FieldBase<string> {\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.controlType = 'hidden';\n  }\n}\n\nexport class LinkValue extends FieldBase<string> {\n  target: string;\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.controlType = 'link';\n    this.target = options.target || '_blank';\n  }\n}\n\n\nexport class ParameterRetrieverField extends FieldBase<string> {\n  parameterName: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.parameterName = options.parameterName || '';\n  }\n\n  public publishParameterValue(value: string) {\n    this.onValueUpdate.emit(value);\n  }\n\n}\n\nexport class Spacer extends NotInFormField {\n  width: string;\n  height: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.width = options.width;\n    this.height = options.height;\n  }\n}\n\nexport class Toggle extends FieldBase<boolean> {\n  type: string;\n  @Output() onItemSelect: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.type = options['type'] || 'checkbox';\n    this.value = this.setToggle();\n  }\n\n  setToggle() {\n    if(_.isUndefined(this.options['value'])) {\n      if(this.options.valueCheck && this.options['checkedWhen'] && this.editMode) {\n        return this.options.valueCheck === this.options['checkedWhen'];\n      } else {\n        return false;\n      }\n    } {\n      return this.options['value'];\n    }\n  }\n}\n\nexport class HtmlRaw extends NotInFormField {\n\n  public getGroup(group: any, fieldMap: any) : any {\n    super.getGroup(group, fieldMap);\n    this.value = this.replaceValWithConfig(this.value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-simple.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Input, Component, ViewChild, ViewContainerRef, OnInit } from '@angular/core';\nimport * as _ from \"lodash\";\nimport { FieldBase } from './field-base';\nimport { EmbeddableComponent, RepeatableComponent } from './field-repeatable.component';\n\ndeclare var jQuery: any;\n\n/**\n * Text Field Model\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n\n */\nexport class TextField extends FieldBase<string> {\n  type: string;\n  maxLength: number;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.type = options['type'] || '';\n    this.controlType = 'textbox';\n    this.cssClasses = _.isEmpty(this.cssClasses) ? 'form-control' : this.cssClasses;\n    // default value from: https://www.w3schools.com/tags/att_input_maxlength.asp\n    this.maxLength = _.isUndefined(options['maxLength']) ? 524288 : options['maxLength'] ;\n  }\n\n  postInit(value:any) {\n    if (_.isEmpty(value)) {\n      this.value = this.defaultValue ? this.defaultValue : '';\n    } else {\n      this.value = value;\n    }\n  }\n}\n\nexport class MarkdownTextArea extends FieldBase<string> {\n  rows: number;\n  cols: number;\n\n  lines: string[];\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.rows = options['rows'] || 5;\n    this.cols = options['cols'] || null;\n    this.controlType = 'textarea';\n    if (_.isUndefined(this.value)) {\n      this.value = \"\";\n    }\n    this.cssClasses = _.isEmpty(this.cssClasses) ? 'form-control' : this.cssClasses;\n  }\n\n  formatValueForDisplay() {\n    this.lines = this.value ? this.value.split(\"\\n\") : [];\n  }\n}\n\nexport class TextArea extends FieldBase<string> {\n  rows: number;\n  cols: number;\n\n  lines: string[];\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.rows = options['rows'] || 5;\n    this.cols = options['cols'] || null;\n    this.controlType = 'textarea';\n    this.cssClasses = _.isEmpty(this.cssClasses) ? 'form-control' : this.cssClasses;\n  }\n\n  formatValueForDisplay() {\n    this.lines = this.value ? this.value.split(\"\\n\") : [];\n  }\n}\n\n@Component({\n  selector: 'textfield',\n  template: `\n  <div *ngIf=\"field.editMode && field.visible\" [ngClass]=\"getGroupClass()\">\n    <div *ngIf=\"!isEmbedded\" >\n      <label [attr.for]=\"field.name\">\n        {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n        <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n      </label>\n        <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n      <input [formGroup]='form' [formControl]=\"getFormControl()\"  [id]=\"field.name\" [type]=\"field.type\" [readonly]=\"field.readOnly\" [ngClass]=\"field.cssClasses\" [attr.aria-label]=\"''\" [attr.maxlength]=\"field.maxLength\" >\n    </div>\n    <div *ngIf=\"isEmbedded\" class=\"input-group padding-bottom-15\">\n      <input [formControl]=\"getFormControl(name, index)\"  [id]=\"field.name\" [type]=\"field.type\" [readonly]=\"field.readOnly\" [ngClass]=\"field.cssClasses\" [attr.aria-labelledby]=\"name\" [attr.maxlength]=\"field.maxLength\">\n      <span class=\"input-group-btn\">\n        <button type='button' *ngIf=\"removeBtnText\" [disabled]=\"!canRemove\" (click)=\"onRemove($event)\" [ngClass]=\"removeBtnClass\" >{{removeBtnText}}</button>\n        <button [disabled]=\"!canRemove\" type='button' [ngClass]=\"removeBtnClass\" (click)=\"onRemove($event)\" [attr.aria-label]=\"'remove-button-label' | translate\"></button>\n      </span>\n    </div>\n    <div *ngIf=\"field.required && (field.label || (field.validationMessages && field.validationMessages.required))\" [style.visibility]=\"getFormControl() && getFormControl().hasError('required') && getFormControl().touched ? 'inherit':'hidden'\">\n      <div class=\"text-danger\" *ngIf=\"!field.validationMessages?.required\">{{field.label}} is required</div>\n      <div class=\"text-danger\" *ngIf=\"field.validationMessages?.required\">{{field.validationMessages.required}}</div>\n    </div>\n  </div>\n  <div *ngIf=\"!field.editMode && field.visible\" class=\"key-value-pair\">\n    <span class=\"key\" *ngIf=\"field.label\">{{field.label}}</span>\n    <span class=\"value\">{{field.value}}</span>\n  </div>\n  `,\n})\nexport class TextFieldComponent extends EmbeddableComponent {\n\n}\n\n@Component({\n  selector: 'repeatable-textfield',\n  template: `\n  <div *ngIf=\"field.editMode\">\n    <div class=\"row\">\n      <div class=\"col-xs-12\">\n      <span class=\"label-font\" [id]=\"field.name\">\n        {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n        <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n      </span>\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n      </div>\n    </div>\n    <div *ngFor=\"let fieldElem of field.fields; let i = index;\" class=\"row\">\n      <span class=\"col-xs-12\">\n        <textfield [name]=\"field.name\" [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\" [isEmbedded]=\"true\" [removeBtnText]=\"field.removeButtonText\" [removeBtnClass]=\"field.removeButtonClass\" [canRemove]=\"field.fields.length > 1\" (onRemoveBtnClick)=\"removeElem($event[0], $event[1])\" [index]=\"i\"></textfield>\n      </span>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-xs-12\" *ngIf=\"field.required && !field.delegateErrorHandling && (field.label || (field.validationMessages && field.validationMessages.required))\" [style.visibility]=\"getFormControl() && hasRequiredError() && getFormControl().touched ? 'inherit':'hidden'\">\n        <div class=\"text-danger\" *ngIf=\"!field.validationMessages?.required\">{{field.label}} is required</div>\n        <div class=\"text-danger\" *ngIf=\"field.validationMessages?.required\">{{field.validationMessages.required}}</div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <span class=\"col-xs-12\">\n        <button *ngIf=\"field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonTextClass\" >{{field.addButtonText}}</button>\n        <button *ngIf=\"!field.addButtonText\" type='button' (click)=\"addElem($event)\" [ngClass]=\"field.addButtonClass\" [attr.aria-label]=\"'add-button-label' | translate\"></button>\n      </span>\n    </div>\n  </div>\n  <li *ngIf=\"!field.editMode\" class=\"key-value-pair\">\n    <span *ngIf=\"field.label\" class=\"key\">{{field.label}}</span>\n    <span class=\"value\">\n      <ul class=\"key-value-list\">\n        <textfield *ngFor=\"let fieldElem of field.fields; let i = index;\"  [field]=\"fieldElem\" [form]=\"form\" [fieldMap]=\"fieldMap\"></textfield>\n      </ul>\n    </span>\n  </li>\n  `,\n})\nexport class RepeatableTextfieldComponent extends RepeatableComponent {\n  static clName = 'RepeatableTextfieldComponent';\n\n\n  ngOnInit() {\n  }\n\n  addElem(event: any) {\n    const newElem = this.field.addElem();\n  }\n\n  removeElem(event: any, i: number) {\n    this.field.removeElem(i);\n  }\n}\n\n/**\n * Component\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n */\n@Component({\n  selector: 'text-area',\n  template: `\n  <div *ngIf=\"field.editMode && field.visible\" [formGroup]='form' [ngClass]=\"getGroupClass()\">\n    <label [attr.for]=\"field.name\">\n      {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n      <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n    </label>\n    <!-- Normal version -->\n    <ng-container *ngIf=\"!field.isEmbedded\">\n      <ng-container *ngIf=\"this.helpShow\">\n        <br/>\n        <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" [innerHtml]=\"field.help\"></span>\n      </ng-container>\n      <textarea [formControl]=\"getFormControl()\"  [attr.rows]=\"field.rows\" [attr.cols]=\"field.cols\" [id]=\"field.name\" [ngClass]=\"field.cssClasses\" >{{field.value}}</textarea>\n    </ng-container>\n    <!-- Embedded version -->\n    <div *ngIf=\"isEmbedded\" class=\"input-group padding-bottom-15\">\n      <textarea [formControl]=\"getFormControl(name, index)\"  [attr.rows]=\"field.rows\" [attr.cols]=\"field.cols\" [id]=\"field.name\" [ngClass]=\"field.cssClasses\">{{field.value}}</textarea>\n    </div>\n    <!-- Validation messages -->\n    <div *ngIf=\"field.required\" [style.visibility]=\"getFormControl() && getFormControl().hasError('required') && getFormControl().touched ? 'inherit':'hidden'\">\n      <div class=\"text-danger\" *ngIf=\"getFormControl().hasError('required') && getFormControl().touched && !field.validationMessages?.required\">{{field.label}} is required</div>\n      <div class=\"text-danger\" *ngIf=\"getFormControl().hasError('required') && getFormControl().touched && field.validationMessages?.required\">{{field.validationMessages.required}}</div>\n    </div>\n  </div>\n  <li *ngIf=\"!field.editMode && field.visible\" class=\"key-value-pair\">\n    <span class=\"key\" *ngIf=\"field.label\">{{field.label}}</span>\n    <span *ngFor=\"let line of field.lines\">\n      {{line}}\n      <br/>\n    </span>\n\n  </li>\n  `\n})\nexport class TextAreaComponent extends EmbeddableComponent implements OnInit {\n  field: TextArea;\n\n  ngOnInit() {\n    if (!this.field.editMode) {\n      this.field.formatValueForDisplay();\n    }\n  }\n}\n\n@Component({\n  selector: 'markdown-text-area',\n  template: `\n  <div *ngIf=\"field.editMode\" [formGroup]='form' class=\"form-group\">\n    <label [attr.for]=\"field.name\">\n      {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n      <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n    </label><br/>\n    <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n    <textarea [formControl]=\"getFormControl()\"  [attr.rows]=\"field.rows\" [attr.cols]=\"field.cols\" [id]=\"field.name\" [ngClass]=\"field.cssClasses\" [(ngModel)]=\"field.value\"></textarea>\n    <div *ngIf=\"field.value\" style='font-weight:bold'>Preview</div>\n    <markdown *ngIf=\"field.value\" [data]=\"field.value\"></markdown>\n    <div class=\"text-danger\" *ngIf=\"getFormControl().hasError('required') && getFormControl().touched && !field.validationMessages?.required\">{{field.label}} is required</div>\n    <div class=\"text-danger\" *ngIf=\"getFormControl().hasError('required') && getFormControl().touched && field.validationMessages?.required\">{{field.validationMessages.required}}</div>\n  </div>\n  <li *ngIf=\"!field.editMode\" class=\"key-value-pair\">\n    <span class=\"key\" *ngIf=\"field.label\">{{field.label}}</span>\n    <markdown *ngIf=\"field.value\" [data]=\"field.value\"></markdown>\n    <br/>\n  </li>\n  `\n})\nexport class MarkdownTextAreaComponent extends EmbeddableComponent implements OnInit {\n  field: MarkdownTextArea;\n\n  ngOnInit() {\n    if (!this.field.editMode) {\n      this.field.formatValueForDisplay();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-textfield.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Input, Component, Injectable, Inject, OnInit, Output, EventEmitter, ElementRef, ViewChild } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as _ from \"lodash\";\nimport { Observable } from 'rxjs';\nimport { Subject } from \"rxjs/Subject\";\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/map'\nimport { Http } from '@angular/http';\nimport { BaseService } from '../base-service';\nimport { CompleterService, CompleterData, CompleterItem } from 'ng2-completer';\nimport { ConfigService } from '../config-service';\nimport * as luceneEscapeQuery from \"lucene-escape-query\";\n/**\n * Vocabulary Field\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\nexport class VocabField extends FieldBase<any> {\n  public searchStr: any;\n  public vocabId: string;\n  public sourceData: any;\n  public completerService: CompleterService;\n  public dataService: CompleterData;\n  public initialValue: any;\n  public titleFieldName: string;\n  public titleFieldArr: string[];\n  public titleFieldDelim: any;\n  public titleCompleterDescription: string;\n  public searchFields: string;\n  public fieldNames: any[];\n  public sourceType: string;\n  public lookupService: any;\n  public placeHolder: string;\n  public disableEditAfterSelect: boolean;\n  public stringLabelToField: string;\n  public component: any;\n  public restrictToSelection: boolean;\n  public storeLabelOnly: boolean;\n  public provider: string;\n  public resultArrayProperty: string;\n  public unflattenFlag: boolean;\n  public dontEmitEventOnLoad: boolean;\n  public isEmbedded: boolean;\n  public groupClass: string;\n  public inputClass: string;\n\n  @Output() onItemSelect: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.clName = 'VocabField';\n    this.hasLookup = true;\n    this.vocabId = options['vocabId'] || '';\n    this.controlType = 'textbox';\n    this.titleFieldName = options['titleFieldName'] || 'title';\n    this.titleFieldArr = options['titleFieldArr'] || [];\n    this.searchFields = options['searchFields'] || '';\n    this.titleFieldDelim = options['titleFieldDelim'] || ' - ';\n    this.titleCompleterDescription = options['titleCompleterDescription'] || '';\n    this.fieldNames = options['fieldNames'] || [];\n    this.sourceType = options['sourceType'] || 'vocab';\n    this.placeHolder = options['placeHolder'] || 'Select a valid value';\n    this.disableEditAfterSelect = options['disableEditAfterSelect'] == undefined ? true : options['disableEditAfterSelect'];\n    this.stringLabelToField = options['stringLabelToField'] ? options['stringLabelToField'] : 'dc_title';\n    this.restrictToSelection = _.isUndefined(options['restrictToSelection']) ? false : options['restrictToSelection'];\n    this.storeLabelOnly = options['storeLabelOnly'] ? options['storeLabelOnly'] : false;\n    this.provider = options['provider'] ? options['provider'] : '';\n    this.resultArrayProperty = options['resultArrayProperty'] ? options['resultArrayProperty'] : '';\n    this.unflattenFlag = _.isUndefined(options['unflattenFlag']) ? false : options['unflattenFlag'];\n    this.dontEmitEventOnLoad = _.isUndefined(options['dontEmitEventOnLoad']) ? false : options['dontEmitEventOnLoad'];\n    this.groupClasses = _.isUndefined(options['groupClasses']) ? '' : options['groupClasses'];\n    this.cssClasses = _.isUndefined(options['cssClasses']) ? '' : options['cssClasses'];\n  }\n\n  createFormModel(valueElem: any = undefined, createFormGroup: boolean = false) {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n    if (createFormGroup) {\n      const flds = {};\n      _.forEach(this.fieldNames, fld => {\n        _.forOwn(fld, (srcFld, targetFld) => {\n          flds[targetFld] = new FormControl(this.value[targetFld] || '');\n        });\n      });\n      this.formModel = new FormGroup(flds);\n    } else {\n      this.formModel = new FormControl(this.value || '');\n    }\n    if (this.value) {\n      if(!_.isString(this.value)) {\n      const init = _.cloneDeep(this.value);\n      init.title = this.getTitle(this.value);\n      this.initialValue = init;\n    } else {\n      let init = {};\n      init['title'] = this.value;\n      init[this.stringLabelToField] = this.value;\n      this.initialValue = init;\n    }\n\n    }\n\n    if (this.required) {\n      this.formModel.setValidators([Validators.required]);\n    }\n    return this.formModel;\n  }\n\n  postInit(value: any) {\n    if (value) {\n      this.value = value;\n    } else {\n      this.setEmptyValue();\n    }\n    this.initLookupData();\n  }\n\n  setEmptyValue(updateTitle: boolean = false) {\n    this.value = null;\n    if (this.formModel) {\n      this.formModel.setValue(null, { emitEvent: true });\n    }\n    if (updateTitle && this.component && this.component.ngCompleter) {\n      this.component.ngCompleter.ctrInput.nativeElement.value = null;\n    }\n    return this.value;\n  }\n\n  setLookupServices(completerService: any, lookupService: any) {\n    this.completerService = completerService;\n    this.lookupService = lookupService;\n  }\n\n  initLookupData() {\n    if (this.sourceType == \"vocab\") {\n      // Hack for creating the intended title...\n      _.forEach(this.sourceData, (data: any) => {\n        data.title = this.getTitle(data);\n      });\n      this.dataService = this.completerService.local(this.sourceData, this.searchFields, 'title');\n    } else if (this.sourceType == \"collection\" || this.sourceType == \"user\") {\n      let url = this.lookupService.getCollectionRootUrl(this.vocabId);\n      if (this.sourceType == \"user\") {\n        url = this.lookupService.getUserLookupUrl();\n      }\n      console.log(`Using: ${url}`);\n      // at the moment, multiple titles arrays are not supported\n      // TODO: consider replacing with ngx-bootstrap typeahead\n      const title = this.titleFieldArr.length == 1 ? this.titleFieldArr[0] : 'title';\n      console.log(`Using title: ${title}`);\n      this.dataService = this.completerService.remote(url, this.searchFields, title);\n    } else if (this.sourceType == \"mint\") {\n      const url = this.lookupService.getMintRootUrl(this.vocabId);\n      console.log(`Using: ${url}`);\n\n      this.dataService = new MintLookupDataService(\n        url,\n        this.lookupService.http,\n        this.fieldNames,\n        this.titleFieldName,\n        this.titleFieldArr,\n        this.titleFieldDelim,\n        this.titleCompleterDescription,\n        this.searchFields,\n        this.unflattenFlag);\n    } else if (this.sourceType == \"external\") {\n      const url = this.lookupService.getExternalServiceUrl(this.provider);\n      this.dataService = new ExternalLookupDataService(\n        url,\n        this.lookupService.http,\n        this.resultArrayProperty,\n        this.titleFieldName,\n        this.titleFieldArr,\n        this.titleFieldDelim\n      );\n    }\n\n  }\n\n  public getTitle(data: any): string {\n    let title = '';\n    if (data) {\n      if(_.isString(data)) {\n        return data;\n      }\n      if (_.isString(this.titleFieldDelim)) {\n        _.forEach(this.titleFieldArr, (titleFld: string) => {\n          const titleVal = data[titleFld];\n          if (titleVal) {\n            title = `${title}${_.isEmpty(title) ? '' : this.titleFieldDelim}${titleVal}`;\n          }\n        });\n      } else {\n        // expecting a delim pair array, 'prefix', 'suffix'\n        _.forEach(this.titleFieldArr, (titleFld: string, idx) => {\n          const delimPair = this.titleFieldDelim[idx];\n          const titleVal = data[titleFld];\n          if (titleVal) {\n            title = `${title}${_.isEmpty(title) ? '' : delimPair.prefix}${titleVal}${_.isEmpty(title) ? '' : delimPair.suffix}`;\n          }\n        });\n      }\n    }\n    return title;\n  }\n\n  public getValue(data: any) {\n    const valObj = {};\n    if (!_.isUndefined(data) && !_.isEmpty(data)) {\n      if (_.isString(data)) {\n        console.log(`Data is string...`)\n        if (this.storeLabelOnly) {\n          return data;\n        } else {\n          valObj[this.stringLabelToField] = data;\n        }\n        return valObj;\n      }\n\n        _.forEach(this.fieldNames, (fldName: any) => {\n          if (data.originalObject) {\n            this.getFieldValuePair(fldName, data.originalObject, valObj)\n          } else {\n            this.getFieldValuePair(fldName, data, valObj)\n          }\n        });\n\n    }\n    return valObj;\n  }\n\n  public getFieldValuePair(fldName: any, data: any, valObj: any) {\n    if (_.isString(fldName)) {\n      valObj[fldName] = _.get(data, fldName);\n    } else {\n      // expects a value pair\n      _.forOwn(fldName, (srcFld, targetFld) => {\n        if (_.get(data, srcFld)) {\n          valObj[targetFld] = _.get(data, srcFld);\n        } else {\n          valObj[targetFld] = _.get(data, targetFld);\n        }\n      });\n    }\n  }\n\n  public setValue(value: any, emitEvent: boolean = true, updateTitle: boolean = false) {\n    this.formModel.setValue(value, { emitEvent: emitEvent });\n    if (updateTitle) {\n      this.component.ngCompleter.ctrInput.nativeElement.value = this.getTitle(value);\n    }\n  }\n\n  relationshipLookup(searchTerm, lowerTerm, searchFields) {\n    const url = this.lookupService.getMintRootUrl(this.vocabId);\n    console.log(`Using: ${url}`);\n    const mlu = new MintRelationshipLookup(url, this.lookupService.http, searchFields);\n    return mlu.search(searchTerm, lowerTerm);\n  }\n\n}\n\nclass ExternalLookupDataService extends Subject<CompleterItem[]> implements CompleterData {\n\n    constructor(private url: string,\n      private http: Http,\n      private arrayProperty: string,\n      private compositeTitleName: string,\n      private titleFieldArr: string[],\n      private titleFieldDelim: string) {\n      super();\n    }\n\n    public search(term: string): void {\n\n      this.http.post(this.url,{options:{query: term}}).map((res: any, index: number) => {\n        // Convert the result to CompleterItem[]\n        let data = res.json();\n        let itemArray = _.get(data, this.arrayProperty);\n        let matches: CompleterItem[] = [];\n        _.each(itemArray, item => {\n          matches.push(this.convertToItem(item));\n        })\n\n        this.next(matches);\n      }).subscribe();\n    }\n\n    public cancel() {\n      // Handle cancel\n    }\n\n    public convertToItem(data: any): CompleterItem | null {\n      if (!data) {\n        return null;\n      }\n      let completerItem = {};\n      completerItem[this.compositeTitleName] = this.getTitle(data);\n      completerItem['originalObject'] = data;\n      return completerItem as CompleterItem;\n    }\n\n    getTitle(data: any): string {\n      let title = '';\n      if (data) {\n        if (_.isString(this.titleFieldDelim)) {\n          _.forEach(this.titleFieldArr, (titleFld: string) => {\n            const titleVal = _.get(data, titleFld);\n            if (titleVal) {\n              title = `${title}${_.isEmpty(title) ? '' : this.titleFieldDelim}${titleVal}`;\n            }\n          });\n        } else {\n          // // expecting a delim pair array, 'prefix', 'suffix'\n          // _.forEach(this.titleFieldArr, (titleFld: string, idx) => {\n          //   const delimPair = this.titleFieldDelim[idx];\n          //   const titleVal = data[titleFld];\n          //   if (titleVal) {\n          //     title = `${title} ${titleVal}`;\n          //   }\n          // });\n        }\n      }\n      return title;\n    }\n\n}\nclass MintLookupDataService extends Subject<CompleterItem[]> implements CompleterData {\n\n  searchFields: any[];\n\n  constructor(private url: string,\n    private http: Http,\n    private fields: string[],\n    private compositeTitleName: string,\n    private titleFieldArr: string[],\n    private titleFieldDelim: any[],\n    private titleCompleterDescription: string,\n    searchFieldStr: any,\n    private unflattenFlag: boolean) {\n    super();\n    this.searchFields = searchFieldStr.split(',');\n  }\n\n  public search(term: string): void {\n    term = _.trim(luceneEscapeQuery.escape(term));\n    let searchString = '';\n    if (!_.isEmpty(term)) {\n      term = _.toLower(term);\n      _.forEach(this.searchFields, (searchFld) => {\n        searchString = `${searchString}${_.isEmpty(searchString) ? '' : ' OR '}${searchFld}:${term}*`\n      });\n    }\n    const searchUrl = `${this.url}${searchString}&unflatten=${this.unflattenFlag}`;\n    this.http.get(`${searchUrl}`).map((res: any, index: number) => {\n      // Convert the result to CompleterItem[]\n      let data = res.json();\n      let matches: CompleterItem[] = _.map(data, (mintDataItem: any) => { return this.convertToItem(mintDataItem); });\n      this.next(matches);\n    }).subscribe();\n  }\n\n  public cancel() {\n    // Handle cancel\n  }\n\n  public convertToItem(data: any): CompleterItem | null {\n    if (!data) {\n      return null;\n    }\n    const item:any = {};\n    _.forEach(this.fields, (fieldName) => {\n      if (_.isString(fieldName)) {\n        item[fieldName] = data[fieldName];\n      } else {\n        // expects a value pair\n        _.forOwn(fieldName, (srcFld, targetFld) => {\n          if (_.get(data, srcFld)) {\n            item[srcFld] = _.get(data, srcFld);\n          } else {\n            item[targetFld] = _.get(data, targetFld);\n          }\n        });\n      }\n    });\n    // build the title,\n    let completerItem = {};\n    completerItem[this.compositeTitleName] = this.getTitle(data);\n    completerItem['description'] = this.getCompleterDescription(data);\n    completerItem['originalObject'] = item;\n    return completerItem as CompleterItem;\n  }\n\n  getCompleterDescription(data: any): string {\n    let description = '';\n    const fieldDesc = this.titleCompleterDescription;\n    if(data) {\n      if (_.isString(fieldDesc)) {\n        const ele = data[fieldDesc];\n        description = _.toString(_.head(ele)) || '';\n      } else if (_.isArray(fieldDesc)){\n        // enable descriptions to be built as an array\n        _.forEach(fieldDesc, (fDesc: any) => {\n          description = `${description}${_.isEmpty(description) ? '' : this.titleFieldDelim}${data[fDesc]}`\n        });\n      }\n    }\n    return description;\n  }\n\n  getTitle(data: any): string {\n    let title = '';\n    if (data) {\n      if (_.isString(this.titleFieldDelim)) {\n        _.forEach(this.titleFieldArr, (titleFld: string) => {\n          const titleVal = data[titleFld];\n          if (titleVal) {\n            title = `${title}${_.isEmpty(title) ? '' : this.titleFieldDelim}${data[titleFld]}`;\n          }\n        });\n      } else {\n        // expecting a delim pair array, 'prefix', 'suffix'\n        _.forEach(this.titleFieldArr, (titleFld: string, idx) => {\n          const delimPair = this.titleFieldDelim[idx];\n          const titleVal = data[titleFld];\n          if (titleVal) {\n            title = `${title} ${titleVal}${delimPair.suffix}`;\n          }\n        });\n      }\n    }\n    return title;\n  }\n}\n\n@Injectable()\nexport class VocabFieldLookupService extends BaseService {\n\n  constructor(@Inject(Http) http: Http, @Inject(ConfigService) protected configService: ConfigService) {\n    super(http, configService);\n  }\n\n  getLookupData(field: VocabField) {\n    const vocabId = field.vocabId;\n    // only retrieving static data when on vocab mode\n    if (field.sourceType == \"vocab\") {\n      const url = `${this.brandingAndPortalUrl}/${this.config.vocabRootUrl}/${vocabId}`;\n      return this.http.get(url, this.options)\n        .flatMap((res: any) => {\n          const data = this.extractData(res);\n          field.sourceData = data;\n          field.postInit(field.value);\n          return Observable.of(field);\n        });\n    }\n    field.postInit(field.value);\n    return Observable.of(field);\n  }\n\n  getCollectionRootUrl(collectionId: string) {\n    return `${this.brandingAndPortalUrl}/${this.config.collectionRootUri}/${collectionId}/?search=`;\n  }\n\n  getUserLookupUrl(searchSource: string = '') {\n    return `${this.brandingAndPortalUrl}/${this.config.userRootUri}/?source=${searchSource}&name=`;\n  }\n\n  findLookupData(field: VocabField, search: string) {\n\n  }\n\n  getMintRootUrl(source: string) {\n    return `${this.brandingAndPortalUrl}/${this.config.mintRootUri}/${source}/?search=`;\n  }\n\n  getExternalServiceUrl(provider: string) {\n    return `${this.brandingAndPortalUrl}/external/vocab/${provider}`;\n  }\n}\n\n@Component({\n  selector: 'rb-vocab',\n  template: `\n  <div *ngIf=\"field.editMode && !isEmbedded\" [formGroup]='form' [ngClass]=\"getGroupClass()\">\n    <label [attr.for]=\"field.name\" *ngIf=\"field.label\">\n      {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n      <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n    </label>\n    <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\">{{field.help}}</span>\n    <ng2-completer #ngCompleter  (keyup)=\"onKeyup($event)\" [inputId]=\"field.name\" [(ngModel)]=\"field.searchStr\" [ngModelOptions]=\"{standalone: true}\" [disableInput]=\"disableInput\" [placeholder]=\"field.placeHolder\" [clearUnselected]=\"getClearUnselected()\" (selected)=\"onSelect($event)\" [datasource]=\"field.dataService\" [minSearchLength]=\"0\" [inputClass]=\"'form-control ' + field.cssClasses\" [initialValue]=\"field.initialValue\"></ng2-completer>\n    <div class=\"text-danger\" *ngIf=\"hasRequiredError()\">{{field.validationMessages.required}}</div>\n  </div>\n  <div *ngIf=\"field.editMode && isEmbedded\" [formGroup]='form' [ngClass]=\"getGroupClass()\">\n    <div class=\"row\">\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\">{{field.help}}</span>\n      <div class=\"col-xs-11 padding-remove\">\n        <ng2-completer #ngCompleter  (keyup)=\"onKeyup($event)\" [inputId]=\"name\" [(ngModel)]=\"field.searchStr\" [ngModelOptions]=\"{standalone: true}\" [disableInput]=\"disableInput\" [placeholder]=\"field.placeHolder\" [clearUnselected]=\"getClearUnselected()\" (selected)=\"onSelect($event)\" [datasource]=\"field.dataService\" [minSearchLength]=\"0\" [inputClass]=\"'form-control '\" [initialValue]=\"field.initialValue\"></ng2-completer>\n      </div>\n      <div class=\"col-xs-1 padding-remove\">\n        <button type='button' *ngIf=\"removeBtnText\" [disabled]=\"!canRemove\" (click)=\"onRemove($event)\" [ngClass]=\"removeBtnClass\" >{{removeBtnText}}</button>\n        <button [disabled]=\"!canRemove\" type='button' [ngClass]=\"removeBtnClass\" (click)=\"onRemove($event)\" [attr.aria-label]=\"'remove-button-label' | translate\"></button>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-xs-12 text-danger\" *ngIf=\"hasRequiredError()\">{{field.validationMessages.required}}</div>\n    </div>\n  </div>\n\n  <li *ngIf=\"!field.editMode\" class=\"key-value-pair\">\n    <span *ngIf=\"field.label\" class=\"key\">{{field.label}}</span>\n    <span class=\"value\">{{getTitle()}}</span>\n  </li>\n  `,\n})\nexport class VocabFieldComponent extends SimpleComponent {\n  @Input() field: VocabField;\n  @Input() isEmbedded: boolean = false;\n  @Input() canRemove: boolean = false;\n  @Input() removeBtnText: string = null;\n  @Input() removeBtnClass: string = 'fa fa-minus-circle btn text-20 pull-right btn-danger';\n  @Input() index: number;\n  @Input() disableEditAfterSelect: boolean = true;\n  @Output() onRemoveBtnClick: EventEmitter<any> = new EventEmitter<any>();\n  disableInput: boolean;\n  @ViewChild('ngCompleter') public ngCompleter: ElementRef;\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit() {\n    this.field.component = this;\n    if (_.isEmpty(this.field.value) || _.isNull(this.field.value) || _.isUndefined(this.field.value)) {\n      this.loaded = true;\n    }\n\n  }\n\n  public getGroupClass(fldName: string = null): string {\n    if(this.isEmbedded) {\n      return `col-xs-12 form-group ${this.hasRequiredError() ? 'has-error' : ''}`;\n    } else {\n      if(!_.isEmpty(this.field.groupClasses)) {\n        return this.field.groupClasses\n      }\n      return '' ;\n    }\n  }\n\n  onSelect(selected: any, emitEvent: boolean = true, updateTitle: boolean = false) {\n    console.log(`On select:`);\n    console.log(selected);\n    let disableEditAfterSelect = this.disableEditAfterSelect && this.field.disableEditAfterSelect;\n    if (selected) {\n      if (this.loaded) {\n        this.field.onItemSelect.emit(selected['originalObject']);\n      } else {\n        if (this.field.dontEmitEventOnLoad) {\n          emitEvent = false;\n        }\n        // set the flag after initial call\n        this.loaded = true;\n      }\n      if(this.field.storeLabelOnly){\n        this.field.setValue(this.field.getValue(selected.title), emitEvent, updateTitle);\n      } else {\n        this.field.setValue(this.field.getValue(selected['originalObject']), emitEvent, updateTitle);\n      }\n      if (disableEditAfterSelect)\n        this.disableInput = true;\n    } else {\n      if (disableEditAfterSelect) {\n        // means user can't edit, so no worries!\n        this.field.setValue(null, emitEvent, updateTitle);\n      } else {\n        // set whatever value on the searchStr, let the fields decide how to parse the string...\n        this.field.setValue(this.field.getValue(this.field.searchStr), emitEvent, updateTitle);\n      }\n    }\n  }\n\n  onKeyup(value: any) {\n    let disableEditAfterSelect = this.disableEditAfterSelect && this.field.disableEditAfterSelect;\n    if (!disableEditAfterSelect && !this.field.restrictToSelection) {\n      this.field.formModel.setValue(this.field.getValue(this.field.searchStr));\n    }\n\n  }\n\n  onRemove(event: any) {\n    this.onRemoveBtnClick.emit([event, this.index]);\n  }\n\n  getTitle() {\n    return this.field && _.isFunction(this.field.getTitle) ? this.field.getTitle(this.field.value) : '';\n  }\n\n  getClearUnselected() {\n    if (this.field.restrictToSelection) {\n      return true;\n    } else {\n      return this.disableEditAfterSelect && this.field.disableEditAfterSelect;\n    }\n  }\n}\n\nexport class MintRelationshipLookup {\n\n  searchFieldStr: string;\n  http: Http;\n\n  constructor(private url: string, http: Http, searchFieldStr: string) {\n      this.http = http;\n      this.searchFieldStr = searchFieldStr;\n  }\n\n  search(term, lower) {\n    term = _.trim(luceneEscapeQuery.escape(term));\n    let searchString = '';\n    if (!_.isEmpty(term)) {\n      if(lower) term = _.toLower(term);\n      if(_.isEmpty(this.searchFieldStr)) {\n        searchString = term;\n      } else {\n        _.forEach(this.searchFieldStr.split(','), (searchFld) => {\n          searchString = `${searchString}${_.isEmpty(searchString) ? '' : ' OR '}${searchFld}:${term}`\n        });\n      }\n    }\n    const searchUrl = `${this.url}${searchString}`;\n    return this.http.get(`${searchUrl}`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/field-vocab.component.ts","import { Component } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { NotInFormField } from './field-simple';\nimport * as _ from \"lodash\";\ndeclare var jQuery: any;\n\n/**\n * Handles low-level event handling. Warning: for data changes, etc. please use the field-level subscribe-publish model.\n *\n * Currently it allows lose coupling which events enable it. If you don't specify a custom 'subscribe' configuration, it will begin listening when the form loads.\n *\n * Specify an 'eventName' to handle, any of the following: https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers-on-elements,-document-objects,-and-window-objects:event-beforeunload\n *\n * Has basic support for 'onbeforeload' event. Anything more complex than this will need to be wired via publish-subscribe pattern, for example when calling utility methods, service methods, form methods, etc.\n *\n * @author <a target='_' href='https://github.com/shilob'>Shilo Banihit</a>\n * @param  options\n * @param  injector\n */\nexport class EventHandler extends NotInFormField {\n  eventName: string;\n  listening: boolean;\n  handler: string;\n  eventSource: string;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.eventName = options['eventName'];\n    this.eventSource = _.isUndefined(options['eventSource']) ? 'window' : options['eventSource'];\n  }\n\n  public getGroup(group: any, fieldMap: any) : any {\n    const retval = super.getGroup(group, fieldMap);\n    // by now, we've got the fieldMap and can begin to listen to the form events if 'subscribe' is unspecified\n    if (_.isEmpty(this.options.subscribe)) {\n      this.getEventEmitter('onFormLoaded', 'form').subscribe((oid) => {\n        this.start();\n      });\n    }\n    return retval;\n  }\n\n  public start() {\n    if (!this.listening) {\n      this.listening = true;\n      // sink our hooks into the event we're after...\n      const that = this;\n      const defHandler = (event) => {\n        if (that.eventName == 'beforeunload' && that.eventSource == 'window') {\n          that.fieldMap._rootComp.handleBeforeUnload(event);\n        }\n      };\n      if (this.eventSource == 'window') {\n        window.addEventListener(this.eventName, defHandler);\n      } else {\n        jQuery(this.eventSource).on(this.eventName, defHandler);\n      }\n    }\n  }\n}\n\n@Component({\n  selector: 'event-handler',\n  template: `\n  <!-- Event Handler placeholder. Nothing really to see here, move on. -->\n  `,\n})\nexport class EventHandlerComponent extends SimpleComponent {\n  field: EventHandler;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/html-event.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { Component } from '@angular/core';\nimport { FieldBase } from './field-base';\nimport { RecordsService } from './records.service';\nimport { SimpleComponent } from './field-simple.component';\n\nexport class RecordMetadataRetrieverField extends FieldBase<string> {\n  parameterName: string;\n  recordsService: RecordsService;\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.recordsService = this.getFromInjector(RecordsService);\n    this.parameterName = options.parameterName || '';\n  }\n\n  public publishMetadata(oid: any, config: any) {\n    this.recordsService.getRecordMeta(oid).then(data => {\n      data.oid = oid;\n      this.onValueUpdate.emit(data);\n      this.onValueLoaded.emit(data);\n    });\n  }\n\n}\n\n@Component({\n  selector: 'record-metadata-retriever',\n  template: `\n  `,\n})\nexport class RecordMetadataRetrieverComponent extends SimpleComponent {\n  field: RecordMetadataRetrieverField;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/record-meta.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Injectable, Inject, ApplicationRef }       from '@angular/core';\nimport { FieldBase }     from './field-base';\nimport { BaseService } from '../base-service';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/toPromise';\nimport { FieldControlMetaService } from './field-control-meta.service';\nimport { Observable } from 'rxjs/Observable';\nimport * as _ from \"lodash\";\nimport { ConfigService } from '../config-service';\ndeclare var io: any;\n/**\n * Plan Client-side services\n *\n *\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n */\n@Injectable()\nexport class RecordsService extends BaseService {\n\n  constructor (\n    @Inject(Http) http: Http,\n    @Inject(FieldControlMetaService) protected fcmetaService: FieldControlMetaService,\n    @Inject(ConfigService) protected configService: ConfigService,\n    protected app: ApplicationRef\n  ) {\n    super(http, configService);\n  }\n\n  getForm(oid: string = null, recordType: string = null, editable: boolean = true, formName: string = null) {\n    if (_.isEmpty(oid)) {\n      oid = null;\n    }\n    return this.getFormFieldsMeta(recordType, editable, oid, formName).then((form:any) => {\n      return this.fcmetaService.getLookupData(form.fieldsMeta).flatMap((fields:any) => {\n        form.fieldsMata = fields;\n        return Observable.of(form);\n      });\n    });\n  }\n\n  addRenderCompleteElement(fieldsMeta){\n    var renderCompleteElement = {\n      \"class\" : \"Container\",\n      \"compClass\" : \"TextBlockComponent\",\n      \"definition\" : {\n        \"value\" : \"\",\n        \"type\" : \"span\",\n        \"cssClasses\" : \"form-render-complete\"\n      }\n    };\n\n    fieldsMeta.push(renderCompleteElement);\n\n  }\n\n  getFormFields(recordType:string, oid: string=null, editable:boolean, formName: string = null) {\n    const ts = new Date().getTime();\n    console.log(\"Oid is: \" + oid);\n    const url = oid ? `${this.brandingAndPortalUrl}/record/form/auto/${oid}?edit=${editable}&ts=${ts}&formName=${formName}` : `${this.brandingAndPortalUrl}/record/form/${recordType}?edit=${editable}&ts=${ts}`;\n    console.log(\"URL is: \" + url);\n    return this.http.get(url, this.options)\n      .toPromise()\n      .then((res:any) => this.extractData(res));\n  }\n\n  getFormFieldsMeta(recordType:string, editable:boolean, oid:string=null, formName: string = null) {\n    return this.getFormFields(recordType, oid, editable, formName).then((form:any) => {\n      if (form && form.fields) {\n        if(!editable){\n          // Add an empty element to the end of the form so a screenshot tool can detect the rendered form reliably\n          this.addRenderCompleteElement(form.fields);\n        }\n        form.fieldsMeta = this.fcmetaService.getFieldsMeta(form.fields);\n      } else {\n        console.error(\"Error loading form:\" + recordType);\n        throw form;\n      }\n      return form;\n    });\n  }\n\n  create(record: any, recordType: string, targetStep: string = '') {\n    return this.http.post(`${this.brandingAndPortalUrl}/recordmeta/${recordType}${ this.getTargetStepParam(targetStep, '?') }`, record, this.getOptionsClient())\n      .map((res:any) => this.extractData(res) as RecordActionResult);\n  }\n\n  update(oid: string, record: any, targetStep: string = '') {\n    return this.http.put(`${this.brandingAndPortalUrl}/recordmeta/${oid}${ this.getTargetStepParam(targetStep, '?') }`, record, this.getOptionsClient())\n      .map((res:any) => this.extractData(res));\n  }\n\n  protected getTargetStepParam(targetStep, delim) {\n    return _.isEmpty(targetStep) ? '' : `${delim}targetStep=${targetStep}`;\n  }\n\n  stepTo(oid: string, record: any, targetStep: string) {\n    return this.http.post(`${this.brandingAndPortalUrl}/record/workflow/step/${targetStep}/${oid}`, record, this.getOptionsClient())\n      .map((res:any) => this.extractData(res) as RecordActionResult);\n  }\n\n  getDashboardUrl(recType:string='rdmp') {\n    return `${this.brandingAndPortalUrl}/dashboard/${recType}`;\n  }\n\n  getAttachments(oid: string) {\n    return this.http.get(`${this.brandingAndPortalUrl}/record/${oid}/attachments`, this.getOptionsClient()).toPromise()\n      .then((res:any) => this.extractData(res));\n  }\n\n  modifyEditors(records, username, email) {\n    return this.http.post(`${this.brandingAndPortalUrl}/record/editors/modify`, {records:records, username:username, email:email}, this.getOptionsClient())\n      .toPromise()\n      .then((res:any) => this.extractData(res) as RecordActionResult);\n  }\n\n  updateResponsibilities(records, role, updateData) {\n    return this.http.post(`${this.brandingAndPortalUrl}/record/responsibility/update`, {records:records, role:role, updateData:updateData}, this.getOptionsClient())\n      .toPromise()\n      .then((res:any) => this.extractData(res) as RecordActionResult);\n  }\n\n  getTransferResponsibility(recordType) {\n    return this.http.get(`${this.brandingAndPortalUrl}/transferconfig/${recordType}`, this.getOptionsClient())\n      .toPromise()\n      .then((res:any) => this.extractData(res) as Object);\n  }\n\n  search(params: RecordSearchParams) {\n    let refinedSearchStr = '';\n    params.filterActiveRefinersWithNoData();\n    if (_.size(params.activeRefiners) > 0) {\n      let exactSearchNames = '';\n      let exactSearchValues = '';\n      let facetSearchNames = '';\n      let facetSearchValues = '';\n      _.forEach(params.activeRefiners, (refiner: RecordSearchRefiner)=> {\n        switch (refiner.type) {\n          case \"exact\":\n            exactSearchNames = `${_.isEmpty(exactSearchNames) ? `&exactNames=` : `${exactSearchNames},`}${refiner.name}`;\n            exactSearchValues = `${exactSearchValues}&exact_${refiner.name}=${refiner.value}`;\n            break;\n          case \"facet\":\n            facetSearchNames = `${_.isEmpty(facetSearchNames) ? `&facetNames=` : `${facetSearchNames},`}${refiner.name}`;\n            if (!_.isEmpty(refiner.activeValue)) {\n              facetSearchValues = `${facetSearchValues}&facet_${refiner.name}=${refiner.activeValue}`;\n            }\n            break;\n        }\n      });\n      refinedSearchStr = `${exactSearchNames}${exactSearchValues}${facetSearchNames}${facetSearchValues}`;\n    }\n    return this.http.get(`${this.brandingAndPortalUrl}/record/search/${params.recordType}/?searchStr=${params.basicSearch}&rows=${params.rows}&page=${params.currentPage}${refinedSearchStr}`, this.getOptionsClient())\n      .toPromise()\n      .then((res:any) => this.extractData(res) as RecordActionResult);\n  }\n\n  getType(name: string) {\n    return this.http.get(`${this.brandingAndPortalUrl}/record/type/${name}`, this.getOptionsClient())\n      .toPromise()\n      .then((res:any) => this.extractData(res));\n  }\n\n  getAllTypes() {\n    return this.http.get(`${this.brandingAndPortalUrl}/record/type/`, this.getOptionsClient())\n      .toPromise()\n      .then((res:any) => this.extractData(res));\n  }\n\n  async getAllTypesOfPackageType(packageType: string) {\n    const allTypes = await this.getAllTypes();\n    return _.filter(allTypes, (recType:any) => { return recType.packageType == packageType });\n  }\n\n  getWorkflowSteps(name: string) {\n    return this.http.get(`${this.brandingAndPortalUrl}/record/wfSteps/${name}`, this.getOptionsClient())\n      .toPromise()\n      .then((res:any) => this.extractData(res));\n  }\n\n  getRecordMeta(oid:string=null) {\n    return this.http.get(`${this.brandingAndPortalUrl}/record/metadata/`+oid, this.options)\n      .toPromise()\n      .then((res: any) => this.extractData(res));\n  }\n\n  getPermissions(oid:string=null) {\n    return this.http.get(`${this.brandingAndPortalUrl}/record/${oid}/permissions`, this.options)\n      .toPromise()\n      .then((res: any) => this.extractData(res));\n  }\n\n\n  executeAction(action:string, params:any) {\n    return this.http.post(`${this.brandingAndPortalUrl}/action/${action}`, params, this.options)\n      .toPromise()\n      .then((res: any) => this.extractData(res));\n  }\n\n  getAsyncProgress(fq:string) {\n    return this.http.get(`${this.brandingAndPortalUrl}/asynch?fq=${fq}`, this.options)\n      .toPromise()\n      .then((res: any) => this.extractData(res));\n  }\n\n  subscribeToAsyncProgress(oid: string = null, connectCb) {\n    io.socket.get(`${this.brandingAndPortalUrl}/asynch/subscribe/${oid}`, connectCb);\n  }\n\n  delete(oid: string) {\n    return this.http.delete(`${this.brandingAndPortalUrl}/record/delete/${oid}`, this.getOptionsClient())\n      .map((res:any) => this.extractData(res));\n  }\n}\n\nexport class RecordActionResult {\n  success:boolean;\n  oid: string;\n  message: string;\n}\n\nexport class RecordSearchRefiner {\n  name: string;\n  title: string;\n  type: string;\n  value: any;\n  alwaysActive: boolean;\n  typeLabel: string;\n  activeValue: any;\n\n  constructor(opts: any = {}) {\n    this.name = opts.name;\n    this.title = opts.title;\n    this.type = opts.type;\n    this.value = opts.value;\n    this.typeLabel = opts.typeLabel;\n    this.alwaysActive = opts.alwaysActive;\n  }\n\n  setCurrentValue(value: any) {\n    if (this.type == \"facet\") {\n      this.activeValue = value;\n    } else {\n      this.value = value;\n    }\n  }\n}\n\nexport class RecordSearchParams {\n  recordType: string;\n  basicSearch: string;\n  activeRefiners: any[];\n  refinerConfig: RecordSearchRefiner[];\n  rows = 10;\n  currentPage = 1;\n\n  constructor(recType: string) {\n    this.recordType = recType;\n    this.activeRefiners = [];\n    this.clear();\n  }\n\n  clear() {\n    this.basicSearch = null;\n    this.currentPage = 1;\n    _.remove(this.activeRefiners, refiner => {\n      refiner.value = null;\n      refiner.activeValue = null;\n      return !refiner.alwaysActive;\n    });\n  }\n\n  getRefinerConfig(name: string) {\n    return _.find(this.refinerConfig, (config) => {\n      return config.name == name;\n    });\n  }\n\n  setRefinerConfig(config: RecordSearchRefiner[]) {\n    this.refinerConfig = config;\n    // parse through and activate those set as active...\n    _.forEach(this.refinerConfig, (refinerConfig) => {\n      if (refinerConfig.alwaysActive) {\n        this.addActiveRefiner(refinerConfig);\n      }\n    });\n  }\n\n  getHttpQuery(searchUrl: string) {\n    let refinerValues = '';\n    _.forEach(this.activeRefiners, (refiner:RecordSearchRefiner) => {\n      if (refiner.type == \"facet\") {\n        refinerValues = `${refinerValues}&refiner|${refiner.name}=${_.isEmpty(refiner.activeValue) ? '' : refiner.activeValue}`;\n      } else {\n        refinerValues = `${refinerValues}&refiner|${refiner.name}=${_.isEmpty(refiner.value) ? '' : refiner.value}`;\n      }\n    });\n    return `${searchUrl}?q=${this.basicSearch}&type=${this.recordType}${refinerValues}&page=${this.currentPage}`;\n  }\n\n  getRefinerConfigs() {\n    return this.refinerConfig;\n  }\n\n  addActiveRefiner(refiner: RecordSearchRefiner) {\n    const existingRefiner = _.find(this.activeRefiners, (activeRefiner:RecordSearchRefiner) => {\n      return activeRefiner.name == refiner.name;\n    });\n    if (existingRefiner) {\n      existingRefiner.value = refiner.value;\n    } else {\n      this.activeRefiners.push(refiner);\n    }\n  }\n\n  parseQueryStr(queryStr:string) {\n    queryStr = decodeURI(queryStr);\n    let refinerValues = {};\n    _.forEach(queryStr.split('&'), (q)=> {\n      const qObj = q.split('=');\n      if (_.startsWith(qObj[0], \"q\")) {\n        this.basicSearch = _.replace(qObj[1], /\\+/gi, ' ');\n      }\n      if (_.startsWith(qObj[0], \"refiner|\")) {\n        const refinerName = qObj[0].split('|')[1];\n        refinerValues[refinerName] = qObj[1];\n      }\n      if (_.startsWith(qObj[0], \"page\")) {\n        this.currentPage = _.toNumber(qObj[1]);\n      }\n    });\n    _.forOwn(refinerValues, (value, name) => {\n      const config = this.getRefinerConfig(name);\n      config.setCurrentValue(value);\n      this.addActiveRefiner(config);\n    });\n  }\n\n  filterActiveRefinersWithNoData() {\n    const removed = _.remove(this.activeRefiners, (refiner: RecordSearchRefiner) => {\n      const value = refiner.type == 'exact' ? refiner.value : refiner.activeValue;\n      return  !refiner.alwaysActive && (_.isEmpty(value) || _.isUndefined(value));\n    });\n  }\n\n  hasActiveRefiners() {\n    let hasActive = false;\n    _.forEach(this.activeRefiners, (refiner: RecordSearchRefiner) => {\n      if (!hasActive && (!_.isEmpty(refiner.value))) {\n        hasActive = true;\n      }\n    });\n    return hasActive;\n  }\n\n  setFacetValues(facets: any) {\n    _.forEach(facets, (facet: any) => {\n      const refiner = _.find(this.activeRefiners, (refinerConfig: RecordSearchRefiner) => {\n        return refinerConfig.name == facet.name;\n      });\n      if (refiner) {\n        refiner.value = facet.values;\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/records.service.ts","import { Component, Input, ViewEncapsulation } from '@angular/core';\nimport { TreeNode } from 'angular-tree-component';\n\n@Component({\n  selector: 'rb-tree-node-checkbox',\n  encapsulation: ViewEncapsulation.None,\n  styles: [],\n  template: `\n    <ng-container *mobxAutorun=\"{dontDetach: true}\">\n      <input\n        class=\"tree-node-checkbox\"\n        type=\"checkbox\"\n        [attr.aria-label]=\"ariaLabel\" \n        (click)=\"node.mouseAction('checkboxClick', $event)\"\n        [checked]=\"node.isSelected\"\n        [indeterminate]=\"node.isPartiallySelected\"/>\n    </ng-container>\n  `\n})\nexport class TreeNodeCheckboxComponent {\n  @Input() node: TreeNode;\n  @Input() ariaLabel: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/tree-node-checkbox.component.ts","import { Component } from '@angular/core';\nimport { AnchorOrButtonComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { AnchorOrButton } from './field-simple';\n\nexport class WorkflowStepButton extends AnchorOrButton {\n  targetStep: string;\n\n  constructor(options: any, injector:any) {\n    super(options, injector);\n    this.targetStep = options['targetStep'] || null;\n  }\n}\n\n// For workflow buttons\n@Component({\n  selector: 'workflowstep-button',\n  template: `\n  <button type=\"{{field.type}}\" [ngClass]=\"field.cssClasses\" (click)=\"gotoTargetStep($event)\" [disabled]=\"isDisabled()\">{{field.label}}</button>\n  `,\n})\nexport class WorkflowStepButtonComponent extends AnchorOrButtonComponent {\n  field: WorkflowStepButton;\n\n  gotoTargetStep(event:any) {\n    return this.fieldMap._rootComp.stepTo(this.field.targetStep);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/workflow-button.component.ts","import {\n  Component,\n  Input,\n  Inject,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  ApplicationRef,\n  ElementRef\n} from '@angular/core';\nimport {FieldBase} from './field-base';\nimport {FormControl, FormGroup, FormArray, FormBuilder, Validators} from '@angular/forms';\nimport {SimpleComponent} from './field-simple.component';\nimport * as _ from \"lodash\";\nimport { WorkspaceTypeService } from '../workspace-service';\nimport {CompleterService, CompleterData} from 'ng2-completer';\n\ndeclare var jQuery: any;\ndeclare var $: any;\n\n/**\n * Base component for a Workspace field.\n *\n * Author: <a href='https://github.com/moisbo' target='_blank'>moisbo</a>\n *\n */\n@Component({\n  selector: 'ws-field',\n  template: '<span [attr.disabled]=\"isDisabled()\" #field></span>'\n})\nexport class WorkspaceFieldComponent {\n  /**\n   * The model for this field.\n   */\n  @Input() field: FieldBase<any>;\n\n  /**\n   * Form group\n   */\n  @Input() form: FormGroup;\n  /**\n   * The value of this field.\n   */\n  @Input() value: any;\n  /**\n   * Field map\n   */\n  @Input() fieldMap: any;\n  /**\n   * The DOM node for this field.\n   */\n  @ViewChild('field', {read: ViewContainerRef}) fieldAnchor: ViewContainerRef;\n\n  /**\n   * The parentId of this field\n   */\n  @Input() parentId: string;\n\n  disabledExpression: string;\n\n  @ViewChild('field') fieldElement;\n\n\n\n\n  /**\n  * Elements that were already disabled before we ran isDisabled (so they can be restored disabled)\n  */\n  private disabledElements: any;\n\n  /**\n   * For DI'ing...\n   */\n  constructor(@Inject(ComponentFactoryResolver) private componentFactoryResolver: ComponentFactoryResolver, protected app: ApplicationRef){\n    this.disabledElements = [];\n  }\n  /**\n   * If the form is valid.\n   */\n  get isValid() {\n    if (this.form && this.form.controls) {\n      return this.form.controls[this.field.name].valid;\n    }\n    return false;\n  }\n\n  /**\n   *\n   */\n  public isDisabled() {\n\n    var disabledExpression = this.field.options['disabledExpression'];\n    if(disabledExpression != null) {\n\n      var imports = this.fieldAnchor;\n      var variables= {};\n      variables['imports'] = this.fieldMap._rootComp;\n      var compiled = _.template(disabledExpression, variables);\n      var parentElement = jQuery(this.fieldElement.nativeElement.parentElement);\n      if(compiled() == \"true\") {\n        //take note of which elements where already disabled as we dont want to enable them if whole component becomes enabled again\n        this.disabledElements = parentElement.find('*:disabled');\n        parentElement.find('input').prop( \"disabled\", true );\n        return 'disabled';\n      } else {\n        if(jQuery(this.fieldElement.nativeElement).prop('disabled') == 'disabled') {\n          //previously disabled so lets re-enable\n          parentElement.find('input').prop( \"disabled\", false );\n          _.each(this.disabledElements, disabledElement => disabledElement.prop(\"disabled\",true));\n        }\n        return null;\n      }\n\n    }\n    return null;\n  }\n\n  /**\n   * Change handler, instantiates the field component.\n   */\n  ngOnChanges() {\n    if (!this.field || !this.componentFactoryResolver) {\n      return;\n    }\n    this.fieldAnchor.clear();\n\n    let compFactory = this.componentFactoryResolver.resolveComponentFactory(this.field.compClass);\n    let fieldCompRef:ComponentRef<SimpleComponent> = <ComponentRef<SimpleComponent>> this.fieldAnchor.createComponent(compFactory, undefined, this.app['_injector']);\n    fieldCompRef.instance.injector = this.app['_injector'];\n    fieldCompRef.instance.field = this.field;\n    fieldCompRef.instance.form = this.form;\n    fieldCompRef.instance.fieldMap = this.fieldMap;\n    fieldCompRef.instance.parentId = this.parentId;\n    this.fieldMap[this.field.name].instance = fieldCompRef.instance;\n  }\n}\n\nexport class WorkspaceSelectorField extends FieldBase<any>  {\n  workspaceApps: any[] = [];\n  open: string;\n  saveFirst: string;\n  rdmp: string;\n  workspaceTypeService: WorkspaceTypeService;\n  workspaceApp: any;\n  appLink: string;\n  // will show up as list\n  displayAsList: boolean;\n  shouldSaveForm: boolean;\n  services: any = [];\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.workspaceTypeService = this.getFromInjector(WorkspaceTypeService);\n    this.open = this.getTranslated(options['open'], options['open']);\n    this.saveFirst = this.getTranslated(options['saveFirst'], options['saveFirst']);\n    this.rdmp = undefined;\n    this.displayAsList = _.isUndefined(options['displayAsList']) ? false : options['displayAsList'];\n    this.shouldSaveForm = _.isUndefined(options['shouldSaveForm']) ? true: options['shouldSaveForm'];\n    // this.options = options['options'] || [];\n    this.workspaceApps = _.map(options['defaultSelection'] || [], (option) => {\n      _.forOwn(option, (val, key) => {\n        option[key] = this.getTranslated(val, val);\n      });\n      return option;\n    });\n    this.appLink = this.workspaceTypeService.getBrand() + '/record/';\n    this.workspaceTypeService.getWorkspaceTypes().then(response => {\n      if(response['status']) {\n        //append / merge results from database into workspaceApps\n        _.each(response['workspaceTypes'], (wType) => {\n          _.forOwn(wType, (val, key) => {\n            // all keys will go through the translation file by default\n            wType[key] = this.getTranslated(val, val);\n          });\n          const existingWtype = _.find(this.workspaceApps, (w) => { return w['name'] == wType['name']} );\n          if (!_.isUndefined(existingWtype)) {\n            _.assign(existingWtype, wType);\n            this.workspaceApp = existingWtype;\n          } else {\n            this.workspaceApps.push(wType);\n          }\n        });\n      } else {\n        throw new Error('cannot get workspaces');\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n    this.workspaceTypeService.getAvailableWorkspaces().then(response => {\n      if (response['status']) {\n        this.services = _.concat(this.services, response['workspaces']);\n      } else {\n        throw new Error('cannot get workspaces');\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  init() {\n    this.rdmp = this.fieldMap._rootComp.oid || undefined;\n  }\n\n  registerEvents() {\n    this.fieldMap._rootComp.recordCreated.subscribe(this.setOid.bind(this));\n    this.fieldMap._rootComp.recordSaved.subscribe(this.setOid.bind(this));\n  }\n\n  setOid(o) {\n    this.rdmp = o.oid;\n  }\n\n\n  loadWorkspaceDetails(value: string) {\n    //GET me the value from the database\n    if(!value){\n      this.workspaceApp = null\n    }else {\n      this.workspaceApp = _.find(this.workspaceApps,\n        function(w) {\n          return w['name'] == value;\n        }\n      );\n    }\n  }\n\n  createFormModel() {\n    if (this.controlType == 'checkbox') {\n      const fgDef = [];\n\n      _.map(this.options, (opt:any)=>{\n        const hasValue = _.find(this.value, (val:any) => {\n          return val == opt.value;\n        });\n        if (hasValue) {\n          fgDef.push(new FormControl(opt.value));\n        }\n      });\n      // const fg = new FormArray(fgDef);\n      // return fg;\n      return new FormArray(fgDef);\n    } else {\n      // const model = super.createFormModel();\n      // console.log(`Created form model:`);\n      // console.log(model);\n      // return model;\n      return super.createFormModel();\n    }\n  }\n}\n\nexport class WorkspaceRegisterField extends FieldBase<any> {\n  workspaceApps: any[] = [];\n  open: string;\n  saveFirst: string;\n  rdmp: string;\n  workspaceTypeService: WorkspaceTypeService;\n  workspaceApp: any;\n  services: any = [];\n  appLink: string;\n  workspaceRegisterForm;\n  submitted = false;\n  workspaceType: WorkspaceType;\n  disabledType: boolean = false;\n  stepHidden = [false, true];\n  clearSelected: boolean = false;\n  searchStr: string;\n  dataService: CompleterData;\n  vstate = 0;\n  completerService: CompleterService;\n  formBuilder: FormBuilder;\n  isCreating: boolean = false;\n  createdError: string;\n  created: boolean = false;\n  workspaceCreated: any = {};\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.workspaceTypeService = this.getFromInjector(WorkspaceTypeService);\n    this.completerService = this.getFromInjector(CompleterService);\n    this.formBuilder = this.getFromInjector(FormBuilder);\n    this.open = this.getTranslated(options['open'], options['open']);\n    this.saveFirst = this.getTranslated(options['saveFirst'], options['saveFirst']);\n    this.rdmp = undefined;\n    this.workspaceApps = _.map(options['workspaceApps'] || [], (option) => {\n      option['label'] = this.getTranslated(option['label'], option['label']);\n      return option;\n    });\n    this.workspaceRegisterForm = this.formBuilder.group({\n      name: new FormControl('', Validators.required),\n      location: new FormControl('', Validators.required),\n      details: new FormControl('', Validators.required),\n      workspaceType: new FormControl('', Validators.required),\n    });\n    this.dataService = this.completerService.local(this.workspaceApps, 'label,description,keywords', 'label').imageField(\"image\").descriptionField(\"description\");\n  }\n\n  init() {\n    this.rdmp = this.fieldMap._rootComp.oid || undefined;\n  }\n\n  registerEvents() {\n    this.fieldMap._rootComp.recordCreated.subscribe(this.setOid.bind(this));\n    this.fieldMap._rootComp.recordSaved.subscribe(this.setOid.bind(this));\n  }\n\n  setOid(o) {\n    this.rdmp = o.oid;\n  }\n\n  saveAndOpenWorkspace() {\n    this.fieldMap._rootComp.onSubmit().subscribe(response => {\n      this.disabledType = false;\n      this.vstate = 0;\n      this.stepHidden = [false, true];\n      this.workspaceRegisterForm.reset();\n      this.clearSelected = true;\n      this.submitted = false;\n      this.isCreating = false;\n      this.createdError = undefined;\n      this.created = false;\n      this.workspaceCreated = {};\n      jQuery('#workspaceRegisterModal').modal({backdrop: 'static', keyboard: false, show: true});\n    });\n  }\n\n  onSelect(event) {\n    this.disabledType = true;\n    this.workspaceType = event['originalObject'];\n    this.stepHidden = [true, false];\n  }\n\n  clearWorkspaceSelected() {\n    this.clearSelected = true;\n    this.disabledType = false;\n    this.stepHidden = [false, true];\n  }\n\n  get f() {\n    return this.workspaceRegisterForm.controls;\n  }\n\n  async registerWorkspace(value) {\n    console.log(`registerWorkspace ${value}`);\n    this.createdError = '';\n    this.workspaceRegisterForm.patchValue({workspaceType: this.workspaceType.value});\n    this.submitted = true;\n    // stop here if form is invalid\n    if (!this.workspaceRegisterForm.invalid) {\n      this.isCreating = true;\n      const workspaceType = this.workspaceType.value;\n      const res = await this.workspaceTypeService.createWorkspace(this.rdmp, value, workspaceType);\n      if (!res.status) {\n        this.createdError = res.message;\n      } else {\n        this.workspaceCreated = res.workspace;\n        this.created = true;\n      }\n      this.isCreating = false;\n    }\n  }\n\n  close() {\n    jQuery('#workspaceRegisterModal').modal('hide');\n    if(this.created) {\n      // cop-out till we can send updates to the rdmp without reloading\n      window.location.href = `${this.appConfig.baseUrl}/${this.appConfig.branding}/${this.appConfig.portal}/record/edit/${this.rdmp}?focusTabId=workspaces`;\n    }\n  }\n}\n\nclass WorkspaceType {\n  label: string = '';\n  description: string = '';\n  image: string = '';\n  value: string = '';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/workspace-field.component.ts","module.exports = \":host {\\n  padding: 5em 0;\\n}\\n\\n:host /deep/ .match {\\n  color: darkred;\\n}\\n\\n.completer-limit /deep/ .completer-dropdown {\\n  overflow-y: auto;\\n  max-height: 20rem;\\n}\\n\\n:host >>> .completer-image-holder {\\n  width: 200px;\\n}\\n\\n:host >>> .completer-image {\\n  width: 300px;\\n}\\n\\n:host >>> .completer-row {\\n}\\n\\n.completer-dropdown-holder {\\n  position: absolute;\\n  background: white;\\n  border: solid #000;\\n  border-width: 1px 1px;\\n  width: 20em;\\n}\\n\\n.completer-item-text .completer-item-text-image {\\n\\n}\\n\\n.completer-title {\\n\\n}\\n\\n.ng-invalid.ng-touched , .ng-invalid.ng-dirty{\\n  border-bottom: 3px solid red;\\n}\\n\\n/*\\n/deep/ .completer-input {\\n  display: block;\\n  width: 75%;\\n  height: 34px;\\n  padding: 6px 12px;\\n  font-size: 14px;\\n  line-height: 1.42857143;\\n  color: #555;\\n  background-color: #fff;\\n  background-image: none;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n  -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;\\n  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n} */\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/workspace-register.component.css\n// module id = ./redbox-portal/angular/shared/form/workspace-register.component.css\n// module chunks = main","module.exports = \"<div [formGroup]='form' *ngIf=\\\"field.editMode\\\" [ngClass]=\\\"getGroupClass()\\\">\\n  <label [attr.for]=\\\"field.name\\\">\\n    {{field.label}} <span [innerHTML]=\\\"getRequiredLabelStr()\\\"></span>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" *ngIf=\\\"field.help\\\" (click)=\\\"toggleHelp()\\\"\\n            [attr.aria-label]=\\\"'help' | translate \\\"><span\\n      class=\\\"glyphicon glyphicon-question-sign\\\" aria-hidden=\\\"true\\\"></span></button>\\n  </label>\\n  <a *ngIf=\\\"field.rdmp\\\" (click)=\\\"field.saveAndOpenWorkspace()\\\" class=\\\"btn btn-block btn-primary\\\">\\n    {{ field.open }}\\n  </a>\\n  <a *ngIf=\\\"!field.rdmp\\\" [attr.disabled]=\\\"field.rdmp ? null : ''\\\" class=\\\"btn btn-block btn-secondary\\\">\\n    {{ field.saveFirst }}\\n  </a>\\n  <br/>\\n  <div class=\\\"modal\\\" id=\\\"workspaceRegisterModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\"\\n       aria-labelledby=\\\"workspaceRegisterModalTitle\\\">\\n    <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h3 class=\\\"modal-title\\\">Register Workspace</h3>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <p>To register a workspace select a type from the list and include details.</p>\\n          <p><span id=\\\"{{ 'helpBlock_' + field.name }}\\\" class=\\\"help-block\\\" *ngIf=\\\"this.helpShow\\\"\\n                   [innerHtml]=\\\"field.help\\\"></span></p>\\n          <form [formGroup]=\\\"field.workspaceRegisterForm\\\"\\n                (ngSubmit)=\\\"field.registerWorkspace(field.workspaceRegisterForm.value)\\\">\\n            <div class=\\\"form-group\\\" [hidden]=\\\"field.stepHidden[0]\\\">\\n              <label for=\\\"workspaceRegisterType\\\">Workspace</label>\\n              <div *ngIf=\\\"!field.disabledType\\\">\\n                <ng2-completer #ngCompleter [(ngModel)]=\\\"field.searchStr\\\" [required]=true [autoMatch]=false\\n                               [datasource]=\\\"field.dataService\\\" [minSearchLength]=\\\"0\\\"\\n                               [ngModelOptions]=\\\"{standalone: true}\\\"\\n                               [inputClass]=\\\"'form-control'\\\" (selected)=\\\"field.onSelect($event)\\\"\\n                               [inputId]=\\\"'workspaceRegisterType'\\\"\\n                               [textNoResults]=\\\"'Workspace not listed'\\\"\\n                               [openOnClick]=true [clearSelected]=\\\"field.clearSelected\\\">\\n                </ng2-completer>\\n                <small id=\\\"workspaceRegisterTypeHelp\\\" class=\\\"form-text text-muted\\\">The type of your\\n                  workspace</small>\\n              </div>\\n            </div>\\n            <div class=\\\"container-fluid\\\" [hidden]=\\\"field.stepHidden[1]\\\">\\n              <div class=\\\"row\\\">\\n                <div class=\\\"col-md-5\\\">\\n                  <div *ngIf=\\\"field.disabledType\\\">\\n                    <div class=\\\"card service col-lg-4 col-md-5 col-sm-6 col-xs-12\\\"\\n                         style=\\\"display: flex; flex-direction: column;width: 30rem;\\\">\\n                      <div class=\\\"panel panel-default\\\">\\n                        <div class=\\\"panel-heading\\\">\\n                          <h5 class=\\\"panel-title card-title\\\" style=\\\"margin-top: 1px\\\">\\n                            <span>{{ field.workspaceType.label }}</span>\\n                          </h5>\\n                        </div>\\n                        <div class=\\\"panel-body workspaces-panel-body\\\">\\n                          <img class=\\\"card-img-top\\\" style=\\\"max-height:100px;\\\"\\n                               src=\\\"{{ field.workspaceType.image }}\\\"\\n                               alt=\\\"{{ field.workspaceType.label }}\\\">\\n                          <div class=\\\"card-body\\\" style=\\\"margin-bottom: auto;\\\">\\n                            <h5 class=\\\"card-title\\\"\\n                                style=\\\"margin-top: 2px\\\">{{ field.workspaceType.label }}</h5>\\n                            <p class=\\\"card-text\\\">{{ field.workspaceType.description }}</p>\\n                          </div>\\n                        </div>\\n                        <div class=\\\"card-footer\\\" style=\\\"margin-top: auto;\\\">\\n                          <a class=\\\"btn btn-block btn-secondary\\\"\\n                             (click)=\\\"field.clearWorkspaceSelected()\\\"\\n                             [hidden]=\\\"field.isCreating\\\"\\n                             *ngIf=\\\"!field.created\\\">Change Workspace</a>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\\\"col-md-7\\\">\\n                  <div class=\\\"form-group\\\">\\n                    <label for=\\\"name\\\">Name</label>\\n                    <input type=\\\"text\\\" id=\\\"name\\\"\\n                           aria-describedby=\\\"nameHelp\\\" required=\\\"\\\"\\n                           formControlName=\\\"name\\\" placeholder=\\\"Type a name\\\"\\n                           [ngClass]=\\\"{ 'form-control': true, 'is-invalid': field.submitted && field.f.name.errors }\\\">\\n                    <div *ngIf=\\\"field.submitted && field.f.name.errors\\\" class=\\\"invalid-feedback\\\">\\n                      <div class=\\\"text-danger\\\" *ngIf=\\\"field.f.name.errors.required\\\">Name is required</div>\\n                    </div>\\n                    <small id=\\\"nameHelp\\\" class=\\\"form-text text-muted\\\">The name of your\\n                      workspace</small>\\n                  </div>\\n                  <div class=\\\"form-group\\\">\\n                    <label for=\\\"location\\\">Location</label>\\n                    <input type=\\\"text\\\" id=\\\"location\\\"\\n                           aria-describedby=\\\"locationHelp\\\" placeholder=\\\"Type a location\\\"\\n                           formControlName=\\\"location\\\" required=\\\"\\\"\\n                           [ngClass]=\\\"{ 'form-control': true, 'is-invalid': field.submitted && field.f.location.errors }\\\">\\n                    <div *ngIf=\\\"field.submitted && field.f.location.errors\\\" class=\\\"invalid-feedback\\\">\\n                      <div class=\\\"text-danger\\\" *ngIf=\\\"field.f.location.errors.required\\\">Location is required</div>\\n                    </div>\\n                    <small id=\\\"locationHelp\\\" class=\\\"form-text text-muted\\\">The location or URL of your workspace</small>\\n                  </div>\\n                  <div class=\\\"form-group\\\">\\n                    <label for=\\\"details\\\">Details</label>\\n                    <textarea rows=\\\"4\\\" cols=\\\"50\\\" id=\\\"details\\\"\\n                              aria-describedby=\\\"detailsHelp\\\" placeholder=\\\"Type details\\\"\\n                              formControlName=\\\"details\\\" required=\\\"\\\"\\n                              [ngClass]=\\\"{ 'form-control': true, 'is-invalid': field.submitted && field.f.details.errors }\\\"></textarea>\\n                    <div *ngIf=\\\"field.submitted && field.f.details.errors\\\" class=\\\"invalid-feedback\\\">\\n                      <div class=\\\"text-danger\\\" *ngIf=\\\"field.f.details.errors.required\\\">Details is required</div>\\n                    </div>\\n                    <small id=\\\"detailsHelp\\\" class=\\\"form-text text-muted\\\">\\n                      Input short details of your workspace\\n                    </small>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"form-group\\\" [hidden]=\\\"field.stepHidden[1]\\\">\\n              <div class=\\\"row row-no-gutters\\\">\\n                <small *ngIf=\\\"!field.created\\\" id=\\\"workspaceRegisterConfirmHelp\\\"\\n                       class=\\\"form-text text-muted\\\">\\n                  Click confirm to register workspace</small>\\n                <br/>\\n                <button *ngIf=\\\"!field.created\\\"\\n                        type=\\\"submit\\\" class=\\\"btn btn-block btn-primary\\\"\\n                        [disabled]=\\\"field.isCreating\\\">Confirm\\n                </button>\\n                <p class=\\\"text-danger\\\" *ngIf=\\\"field.createdError\\\">{{ field.createdError }}</p>\\n                <p class=\\\"alert alert-success\\\" *ngIf=\\\"field.created\\\">Workspace Registered Successfully</p>\\n              </div>\\n            </div>\\n          </form>\\n          <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\"\\n                    [disabled]=\\\"field.isCreating\\\"\\n                    (click)=\\\"field.close()\\\">Close\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./redbox-portal/angular/shared/form/workspace-register.component.html\n// module id = ./redbox-portal/angular/shared/form/workspace-register.component.html\n// module chunks = main","import { Component } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { WorkspaceRegisterField } from './workspace-field.component';\nimport * as _ from \"lodash\";\n\n@Component({\n  selector: 'workspace-register-parent',\n  template: ''\n})\nexport class WorkspaceRegisterComponent extends SimpleComponent {\n  static clName = 'WorkspaceRegisterComponent';\n\n  getLabel(val: any): string {\n    const opt = _.find(this.field.options, (opt) => {\n      return opt.value == val;\n    });\n    if (opt) {\n      return opt.label;\n    } else {\n      return '';\n    }\n  }\n\n}\n\n@Component({\n  selector: 'workspace-register',\n  styleUrls: ['./workspace-register.component.css'],\n  templateUrl: './workspace-register.component.html'\n})\nexport class WorkspaceRegisterFieldComponent extends WorkspaceRegisterComponent {\n  field: WorkspaceRegisterField\n  static clName = 'WorkspaceRegisterFieldComponent';\n  ngOnInit() {\n    this.field.init();\n    this.field.registerEvents();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/workspace-register.component.ts","import { Component } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { WorkspaceSelectorField } from './workspace-field.component';\n\nimport * as _ from \"lodash\";\n@Component({\n  selector: 'workspace-select-parent',\n  template: ''\n})\nexport class WorkspaceSelectComponent extends SimpleComponent {\n  static clName = 'WorkspaceSelectComponent';\n\n  getLabel(val: any): string {\n    const opt = _.find(this.field.options, (opt) => {\n      return opt.value == val;\n    });\n    if (opt) {\n      return opt.label;\n    } else {\n      return '';\n    }\n  }\n\n}\n\n@Component({\n  selector: 'workspace-select',\n  template: `\n    <div [formGroup]='form' *ngIf=\"field.editMode\" [ngClass]=\"getGroupClass()\">\n      <label [attr.for]=\"field.name\">\n        {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n        <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span\n          class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n      </label>\n      <br/>\n      <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n      <div class=\"row\">\n        <div class=\"card-deck\">\n          <div class=\"card service col-lg-4 col-md-5 col-sm-6 col-xs-12\" *ngFor=\"let s of field.services\" style=\"display: flex; flex-direction: column;width: 30rem;\">\n            <div class=\"panel panel-default\">\n              <div class=\"panel-heading\">\n                <h5 class=\"panel-title card-title\" style=\"margin-top: 1px\">\n                  <span *ngIf=\"s.displayName\">{{ s.displayName }}</span>\n                </h5>\n              </div>\n              <div class=\"panel-body workspaces-panel-body\">\n                <img style=\"max-height:100px;\" class=\"card-img-top\" src=\"{{ s.logo }}\" alt=\"{{ s.name }}\">\n                <div class=\"card-body\" style=\"margin-bottom: auto;\">\n                  <h5 class=\"card-title\" style=\"margin-top: 2px\">\n                    <span *ngIf=\"s.title\">{{ s.title }}</span>\n                  </h5>\n                  <p class=\"card-text\">{{ s.desc }}</p>\n                </div>\n              </div>\n              <div class=\"card-footer\" style=\"margin-top: auto;\">\n                <a *ngIf=\"field.rdmp\" (click)=\"saveAndOpenWorkspace(s.app)\" class=\"btn btn-block btn-primary\">\n                  {{ field.open }}\n                </a>\n                <a *ngIf=\"!field.rdmp\" [attr.disabled]=\"field.rdmp ? null : ''\" class=\"btn btn-block btn-secondary\">\n                  {{ field.saveFirst }}\n                </a>\n              </div>\n            </div>\n          </div>\n          <br />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div *ngIf=\"field.workspaceApp\" class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">{{ field.workspaceApp.name | uppercase }}</h4>\n          </div>\n          <div class=\"panel-body\">\n            <div class=\"row\">\n              <div class=\"col-md-8 col-sm-8 col-xs-8 col-lg-8\">\n                <h5>{{ field.workspaceApp.subtitle }}</h5>\n                <span *ngIf=\"field.rdmp\">\n              <p>{{ field.workspaceApp.description }}</p>\n              <button (click)=\"saveAndOpenWorkspace()\"  class=\"btn btn-primary\">{{ field.open }}</button>\n            </span>\n                <span *ngIf=\"!field.rdmp\">\n              <p class=\"text-danger\">\n                <strong>{{ field.saveFirst }}</strong>\n              </p>\n            </span>\n              </div>\n              <div class=\"col-md-4 col-sm-4 col-xs-4 col-lg-4\">\n                <img src=\"{{ field.workspaceApp.logo }}\" alt=\"{{field.workspaceApp.name}}\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class WorkspaceSelectFieldComponent extends WorkspaceSelectComponent {\n  field: WorkspaceSelectorField\n  static clName = 'WorkspaceSelectFieldComponent';\n\n  ngOnInit() {\n    this.field.init();\n    this.field.registerEvents();\n  }\n\n  saveAndOpenWorkspace(app) {\n    this.fieldMap._rootComp.onSubmit().subscribe(response => {\n      let href = '';\n      if (app && app.id) {\n        let type = '';\n        if (app.type) {\n          type = `&appType=${app.type}`;\n          href = `${this.field.appLink}${app.id}/edit?rdmp=${this.field.rdmp}${type}`;\n        } else {\n          href = `${this.field.appLink}${app.id}/edit?rdmp=${this.field.rdmp}`;\n        }\n        window.location.href = href;\n      } else {\n        console.error('No App with app id was found, please check config/workspaces.js');\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/workspace-select.component.ts","import { Component } from '@angular/core';\nimport { SimpleComponent } from './field-simple.component';\nimport { FieldBase } from './field-base';\nimport { WorkspaceSelectorField } from './workspace-field.component';\n\nimport * as _ from \"lodash\";\n@Component({\n  selector: 'workspace-selector-parent',\n  template: ''\n})\nexport class WorkspaceSelectorComponent extends SimpleComponent {\n  static clName = 'WorkspaceSelectorComponent';\n\n  getLabel(val: any): string {\n    const opt = _.find(this.field.options, (opt) => {\n      return opt.value == val;\n    });\n    if (opt) {\n      return opt.label;\n    } else {\n      return '';\n    }\n  }\n\n}\n\n@Component({\n  selector: 'workspace-selector',\n  template: `\n  <div [formGroup]='form' *ngIf=\"field.editMode\" [ngClass]=\"getGroupClass()\">\n    <label [attr.for]=\"field.name\">\n      {{field.label}} <span [innerHTML]=\"getRequiredLabelStr()\"></span>\n      <button type=\"button\" class=\"btn btn-default\" *ngIf=\"field.help\" (click)=\"toggleHelp()\" [attr.aria-label]=\"'help' | translate \"><span\n        class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></span></button>\n    </label>\n    <br/>\n    <span id=\"{{ 'helpBlock_' + field.name }}\" class=\"help-block\" *ngIf=\"this.helpShow\" [innerHtml]=\"field.help\"></span>\n    <!-- The SELECT field if not displaying as a list -->\n    <ng-container *ngIf=\"field.displayAsList == false\">\n      <select [id]=\"field.name\" [ngClass]=\"field.cssClasses\"\n              (change)=\"field.loadWorkspaceDetails($event.target.value)\">\n        <option *ngFor=\"let opt of field.workspaceApps; let i = index\"\n         [ngValue]=\"opt\" [selected]=\"i == 0\"\n         [value]=\"opt.name\">{{opt.label}}\n        </option>\n      </select>\n      <!-- divider -->\n      <br/><br/><br/>\n    </ng-container>\n    <!-- The selected workspace type when choosing from the dropdown -->\n    <ng-container *ngIf=\"field.displayAsList == false\">\n      <div class=\"row\">\n        <div *ngIf=\"field.workspaceApp\" class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">{{ field.workspaceApp.label | uppercase }}</h4>\n          </div>\n          <div class=\"panel-body\">\n            <div class=\"row\">\n              <div class=\"col-md-8 col-sm-8 col-xs-8 col-lg-8\">\n                <h5>{{ field.workspaceApp.subtitle }}</h5>\n                <span *ngIf=\"field.rdmp\">\n                  <p>{{ field.workspaceApp.description }}</p>\n                  <button type='button' (click)=\"saveAndOpenWorkspace()\"  class=\"btn btn-primary\">{{ field.open }}</button>\n                </span>\n                <span *ngIf=\"!field.rdmp\">\n                  <p class=\"text-danger\">\n                    <strong>{{ field.saveFirst }}</strong>\n                  </p>\n                </span>\n              </div>\n              <div class=\"col-md-4 col-sm-4 col-xs-4 col-lg-4\">\n                <img src=\"{{ field.workspaceApp.logo }}\" alt=\"{{field.workspaceApp.name}}\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n    <!-- When displayed as a list -->\n    <ng-container *ngIf=\"field.displayAsList == true\">\n      <div class=\"row\" *ngFor=\"let workspaceType of field.workspaceApps\">\n        <div class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">{{ workspaceType.label | uppercase }}</h4>\n          </div>\n          <div class=\"panel-body\">\n            <div class=\"row\">\n              <div class=\"col-md-8 col-sm-8 col-xs-8 col-lg-8\">\n                <h5>{{ workspaceType.subtitle }}</h5>\n                <span *ngIf=\"field.rdmp\">\n                  <p>{{ workspaceType.description }}</p>\n                  <button type='button' (click)=\"saveAndOpenWorkspace(workspaceType)\"  class=\"btn btn-primary\">{{ field.open }}</button>\n                </span>\n                <span *ngIf=\"!field.rdmp\">\n                  <p class=\"text-danger\">\n                    <strong>{{ field.saveFirst }}</strong>\n                  </p>\n                </span>\n              </div>\n              <div class=\"col-md-4 col-sm-4 col-xs-4 col-lg-4\">\n                <img src=\"{{ workspaceType.logo }}\" alt=\"{{workspaceType.name}}\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n  `,\n})\nexport class WorkspaceSelectorFieldComponent extends WorkspaceSelectorComponent {\n  field: WorkspaceSelectorField\n  static clName = 'WorkspaceSelectorFieldComponent';\n\n  ngOnInit() {\n    this.field.init();\n    this.field.registerEvents();\n  }\n\n  saveAndOpenWorkspace(workspaceType: any = undefined){\n    if (_.isUndefined(workspaceType)) {\n      workspaceType = this.field.workspaceApp;\n    }\n    if (this.field.shouldSaveForm) {\n      this.fieldMap._rootComp.onSubmit().subscribe(response => {\n        if (response == true) {\n          window.location.href = `${this.field.appLink}${workspaceType.name}/edit?rdmp=${this.field.rdmp}`;\n        }\n      });\n    } else {\n      window.location.href = `${this.field.appLink}${workspaceType.name}/edit?rdmp=${this.field.rdmp}`;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/form/workspace-selector.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\nimport { TranslationService } from './translation-service';\n\nimport * as _ from \"lodash\";\ndeclare var jQuery: any;\n/**\n * Convenience class to wrap JQuery calls ...\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\nexport class LoadableComponent  {\n  isLoading: boolean;\n  translatorReady: boolean;\n  translationService: any;\n  spinnerElem: string = `<i class=\"fa fa-spinner fa-pulse fa-1x fa-fw\"></i>`;\n\n  constructor() {\n    this.isLoading = true;\n    this.synchLoading();\n\n  }\n\n  initTranslator(translationService: TranslationService) {\n    this.translationService = translationService;\n    translationService.isReady((tService:any) => {\n      this.translatorReady = true;\n    });\n  }\n\n  translatorLoaded() {\n    this.translatorReady = true;\n    this.checkIfHasLoaded();\n  }\n\n  public checkIfHasLoaded() {\n    if (this.hasLoaded()) {\n      this.setLoading(false);\n    }\n  }\n\n  hasLoaded() {\n    return this.isLoading && (this.translationService ? this.translatorReady : true);\n  }\n\n  setLoading(loading: boolean=true) {\n    this.isLoading = loading;\n    this.synchLoading();\n  }\n\n  synchLoading() {\n    if (this.isLoading) {\n      jQuery(\"#loading\").removeClass(\"hidden\");\n    } else {\n      jQuery(\"#loading\").addClass(\"hidden\");\n    }\n  }\n\n  getTranslated(key, defValue) {\n    if (!_.isEmpty(key) && !_.isUndefined(key)) {\n      // Keys can now be any string, previously, these were required to start with the '@' character\n      if (this.translationService) {\n        return this.translationService.t(key);\n      } else {\n        return key;\n      }\n    } else {\n      return defValue;\n    }\n  }\n\n  waitForInit(serviceArr: any[], handler:any) {\n    const subs = _.map(serviceArr, (service)=> { return service.getInitSubject() });\n    const subTracker = {loaded: {}, subs: {}};\n    const subTrackerFn = (serviceIdx:any) => {\n      return (serviceInst:any) => {\n        subTracker.loaded[`${serviceIdx}`] = serviceInst;\n        if (_.keys(subTracker.loaded).length >= subs.length) {\n          subTracker.subs[`${serviceIdx}`].unsubscribe();\n          handler();\n        }\n      };\n    };\n    _.forOwn(serviceArr, (service:any, serviceIdx:any) => {\n      subTracker.subs[`${serviceIdx}`] = service.getInitSubject().subscribe(subTrackerFn(serviceIdx));\n      service.emitInit();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/loadable.component.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Injectable, Inject} from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport { BaseService } from '../shared/base-service'\nimport { SaveResult, Role, User, LoginResult } from './user-models'\nimport { ConfigService } from './config-service';\n\n/**\n * Role related service\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n */\n@Injectable()\nexport class RolesService extends BaseService {\n\n  constructor (@Inject(Http) http: Http, @Inject(ConfigService) protected configService: ConfigService) {\n    super(http, configService);\n  }\n\n  getBrandRoles() :Promise<Role[]> {\n    return this.http.get(`${this.brandingAndPortalUrl}/admin/roles/get`, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as Role[]);\n  }\n\n  updateUserRoles(userid: any, roleIds: any) {\n    return this.http.post(`${this.brandingAndPortalUrl}/admin/roles/user`, {userid: userid, roles:roleIds}, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/roles-service.ts","import {\n  NgModule\n} from '@angular/core';\nimport {\n  MarkdownModule,\n  MarkdownService\n} from 'angular2-markdown';\nimport {\n  ReactiveFormsModule,\n  FormsModule\n} from \"@angular/forms\";\nimport {\n  BrowserModule\n} from '@angular/platform-browser';\nimport {\n  RecordsService\n} from './form/records.service';\nimport {\n  FieldControlService\n} from './form/field-control.service';\nimport {\n  TextFieldComponent,\n  RepeatableTextfieldComponent,\n  MarkdownTextAreaComponent,\n  TextAreaComponent\n} from './form/field-textfield.component';\nimport {\n  DropdownFieldComponent,\n  TabOrAccordionContainerComponent,\n  ButtonBarContainerComponent,\n  TextBlockComponent,\n  DateTimeComponent,\n  AnchorOrButtonComponent,\n  SaveButtonComponent,\n  CancelButtonComponent,\n  HtmlRawComponent,\n  HiddenValueComponent,\n  LinkValueComponent,\n  SelectionFieldComponent,\n  ParameterRetrieverComponent,\n  TabNavButtonComponent,\n  SpacerComponent,\n  ToggleComponent\n} from './form/field-simple.component';\nimport {\n  RecordMetadataRetrieverComponent\n} from './form/record-meta.component';\nimport {\n  VocabField,\n  VocabFieldComponent,\n  VocabFieldLookupService\n} from './form/field-vocab.component';\nimport {\n  RepeatableVocabComponent,\n  RepeatableContributorComponent\n} from './form/field-repeatable.component';\nimport {\n  ContributorComponent\n} from './form/field-contributor.component';\nimport {\n  PDFListComponent\n} from './form/field-pdflist.component';\nimport {\n  RelatedObjectDataComponent\n} from './form/field-relatedobjectdata.component';\nimport {\n  RelatedObjectSelectorComponent\n} from './form/field-relatedobjectselector.component';\nimport {\n  RecordPermissionsComponent\n} from './form/field-recordpermissions.component';\n\nimport {\n  DataLocationComponent\n} from './form/field-datalocation.component';\nimport {\n  RelatedFileUploadComponent\n} from './form/field-relatedfileupload.component';\nimport {\n  PublishDataLocationSelectorComponent\n} from './form/field-publishdatalocationselector.component';\nimport {\n  ANDSVocabComponent\n} from './form/field-andsvocab.component';\nimport {\n  MapComponent\n} from './form/field-map.component';\nimport {\n  WorkflowStepButtonComponent\n} from './form/workflow-button.component';\nimport {\n  ActionButtonComponent\n} from './form/action-button.component';\nimport {\n  ConfigService\n} from './config-service';\nimport {\n  TranslationService\n} from './translation-service';\nimport {\n  NKDatetimeModule\n} from 'ng2-datetime/ng2-datetime';\nimport {\n  Ng2CompleterModule\n} from \"ng2-completer\";\nimport {\n  TranslateI18NextModule\n} from 'ngx-i18next';\nimport {\n  LeafletModule\n} from '@asymmetrik/ngx-leaflet';\nimport {\n  LeafletDrawModule\n} from '@asymmetrik/ngx-leaflet-draw';\nimport {\n  DmpFieldComponent\n} from './form/dmp-field.component';\nimport {\n  UserSimpleService\n} from './user.service-simple';\nimport {\n  DashboardService\n} from './dashboard-service';\nimport {\n  ANDSService\n} from './ands-service';\nimport {\n  StringTemplatePipe\n} from './StringTemplatePipe';\nimport {\n  RolesService\n} from './roles-service';\nimport {\n  UtilityService\n} from './util-service';\nimport {\n  EmailNotificationService\n} from './email-service';\nimport {\n  GenericGroupComponent,\n  RepeatableGroupComponent\n} from './form/field-group.component';\nimport {\n  WorkspaceSelectorFieldComponent\n} from './form/workspace-selector.component';\nimport {\n  WorkspaceTypeService\n} from './workspace-service';\nimport {\n  WorkspaceFieldComponent\n} from './form/workspace-field.component';\nimport {\n  WorkspaceSelectorComponent\n} from './form/workspace-selector.component';\nimport {\n  WorkspaceSelectComponent,\n  WorkspaceSelectFieldComponent\n} from './form/workspace-select.component';\nimport {\n  WorkspaceRegisterComponent,\n  WorkspaceRegisterFieldComponent\n} from './form/workspace-register.component';\nimport {\n  FieldControlMetaService\n} from './form/field-control-meta.service';\nimport {\n  TreeModule\n} from 'angular-tree-component';\nimport {\n  AsynchComponent\n} from './form/field-asynch.component';\nimport {\n  TreeNodeCheckboxComponent\n} from './form/tree-node-checkbox.component';\nimport {\n  PublishDataLocationRefreshComponent\n} from './form/field-publish-data-location-refresh.component'\nimport {\n  MobxAngularModule\n} from 'mobx-angular';\nimport {\n  EventHandlerComponent\n} from './form/html-event.component'\n@NgModule({\n  imports: [BrowserModule, FormsModule, ReactiveFormsModule, NKDatetimeModule, Ng2CompleterModule, TranslateI18NextModule, LeafletModule.forRoot(), LeafletDrawModule.forRoot(), MarkdownModule.forRoot(), TreeModule, MobxAngularModule],\n  exports: [NKDatetimeModule, Ng2CompleterModule, TranslateI18NextModule, DmpFieldComponent, TextFieldComponent, DropdownFieldComponent, TabOrAccordionContainerComponent, ButtonBarContainerComponent, TextBlockComponent, MarkdownTextAreaComponent, TextAreaComponent, DateTimeComponent, AnchorOrButtonComponent, VocabFieldComponent, RepeatableVocabComponent, ContributorComponent, RepeatableContributorComponent, HtmlRawComponent, HiddenValueComponent, WorkflowStepButtonComponent, ActionButtonComponent, LinkValueComponent, SelectionFieldComponent, RepeatableTextfieldComponent, StringTemplatePipe, GenericGroupComponent, RepeatableGroupComponent, MapComponent, ParameterRetrieverComponent, RecordMetadataRetrieverComponent, RelatedObjectSelectorComponent, DataLocationComponent, RelatedFileUploadComponent, PublishDataLocationSelectorComponent, WorkspaceSelectorFieldComponent, TabNavButtonComponent, SpacerComponent, WorkspaceFieldComponent, WorkspaceSelectorComponent, WorkspaceSelectComponent, WorkspaceSelectFieldComponent, WorkspaceRegisterComponent, WorkspaceRegisterFieldComponent, ANDSVocabComponent, PDFListComponent, TreeModule, AsynchComponent, ToggleComponent, TreeNodeCheckboxComponent, PublishDataLocationRefreshComponent, EventHandlerComponent],\n  declarations: [DmpFieldComponent, TextFieldComponent, DropdownFieldComponent, TabOrAccordionContainerComponent, ButtonBarContainerComponent, TextBlockComponent, MarkdownTextAreaComponent, TextAreaComponent, DateTimeComponent, AnchorOrButtonComponent, SaveButtonComponent, CancelButtonComponent, VocabFieldComponent, RepeatableVocabComponent, ContributorComponent, RepeatableContributorComponent, HtmlRawComponent, HiddenValueComponent, WorkflowStepButtonComponent, ActionButtonComponent, LinkValueComponent, SelectionFieldComponent, RepeatableTextfieldComponent, RelatedObjectDataComponent, StringTemplatePipe, GenericGroupComponent, RepeatableGroupComponent, MapComponent, ParameterRetrieverComponent, RecordMetadataRetrieverComponent, RelatedObjectSelectorComponent, DataLocationComponent, RelatedFileUploadComponent, PublishDataLocationSelectorComponent, WorkspaceSelectorFieldComponent, TabNavButtonComponent, SpacerComponent, WorkspaceFieldComponent, WorkspaceSelectorComponent, WorkspaceSelectComponent, WorkspaceSelectFieldComponent, WorkspaceRegisterComponent, WorkspaceRegisterFieldComponent, ANDSVocabComponent, PDFListComponent, AsynchComponent, ToggleComponent, TreeNodeCheckboxComponent, PublishDataLocationRefreshComponent, RecordPermissionsComponent, EventHandlerComponent],\n  providers: [FieldControlService, RecordsService, VocabFieldLookupService, ConfigService, TranslationService, UserSimpleService, DashboardService, RolesService, EmailNotificationService, UtilityService, WorkspaceTypeService, FieldControlMetaService, ANDSService],\n  bootstrap: [],\n  entryComponents: [DmpFieldComponent, TextFieldComponent, DropdownFieldComponent, TabOrAccordionContainerComponent, ButtonBarContainerComponent, TextBlockComponent, MarkdownTextAreaComponent, TextAreaComponent, DateTimeComponent, AnchorOrButtonComponent, SaveButtonComponent, CancelButtonComponent, VocabFieldComponent, RepeatableVocabComponent, ContributorComponent, RepeatableContributorComponent, HtmlRawComponent, HiddenValueComponent, WorkflowStepButtonComponent, ActionButtonComponent, LinkValueComponent, SelectionFieldComponent, RepeatableTextfieldComponent, RelatedObjectDataComponent, GenericGroupComponent, RepeatableGroupComponent, MapComponent, ParameterRetrieverComponent, RecordMetadataRetrieverComponent, RelatedObjectSelectorComponent, DataLocationComponent, RelatedFileUploadComponent, PublishDataLocationSelectorComponent, WorkspaceSelectorFieldComponent, TabNavButtonComponent, SpacerComponent, WorkspaceFieldComponent, WorkspaceSelectorComponent, WorkspaceSelectComponent, WorkspaceSelectFieldComponent, WorkspaceRegisterComponent, WorkspaceRegisterFieldComponent, ANDSVocabComponent, PDFListComponent, AsynchComponent, ToggleComponent, TreeNodeCheckboxComponent, PublishDataLocationRefreshComponent, RecordPermissionsComponent, EventHandlerComponent]\n\n})\nexport class SharedModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/shared.module.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Injectable, Inject} from '@angular/core';\nimport { TranslateI18Next } from 'ngx-i18next';\nimport { Subject } from 'rxjs/Subject';\nimport { ConfigService } from './config-service';\n/**\n * Translation service...\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\n@Injectable()\nexport class TranslationService {\n  protected subjects: any;\n  protected translatorReady: boolean;\n  protected config: any;\n\n  constructor (protected translateI18Next: TranslateI18Next, protected configService: ConfigService) {\n    this.subjects = {};\n    this.initTranslator();\n  }\n\n  initTranslator() {\n    this.subjects['init'] = new Subject();\n    const ts = new Date().getTime();\n    this.translateI18Next.init({\n        debug: true,                                                        // optional\n        returnNull: false,\n        returnEmptyString: true,                                           // optional\t- but.. it's important, please see http://i18next.com/docs/options/!\n        // mapping: {\"specific_backend_message\": \"message_for_translate\"},     // optional\n        // browserLanguageDetector: injectableCustomLanguageDetectorService,   // optional - the specific application language detector (allows you to return the language of the user.\n        //                                                                     //            If it is absent, the service uses default \"angular2 locale detector\" behaviour using LOCALE_ID.\n        // // supportedLanguages: ['en', 'pt'],                                //            Therefore you can pass the optional supportedLanguages parameter which indicates your supported languages.\n        //                                                                     //            For example, LOCALE_ID = 'en-AU' or 'en-US' or 'en', you can pass only ['en'] -> locales/en/translation.json\n        //                                                                     //                         LOCALE_ID = 'pt-BR' or 'pt', you can pass only ['pt'] -> locales/pt/translation.json\n        // backend: injectableBackendConfigFactory                             // optional - allows to change \"loadPath\" i18next parameter\n        lng: 'en',\n        fallbackLng: 'en',\n        backend: { loadPath: `/locales/{{lng}}/{{ns}}.json?ts=${ts}` }\n    }).then(() => {\n      console.log(`Translator loaded...`);\n      this.translatorReady = true;\n      this.translatorLoaded();\n    });\n  }\n\n  translatorLoaded() {\n    if (this.translatorReady) {\n      this.subjects['init'].next(this);\n    }\n  }\n\n  isReady(handler: any) {\n    const subs = this.subjects['init'].subscribe(handler);\n    this.translatorLoaded();\n    return subs;\n  }\n\n  t(key: string) {\n    return this.translateI18Next.translate(key);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/translation-service.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Injectable, Inject} from '@angular/core';\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport { BaseService } from '../shared/base-service'\nimport { User, LoginResult, SaveResult } from './user-models'\nimport { ConfigService } from '../shared/config-service';\n/**\n * User related service...\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\n@Injectable()\nexport class UserSimpleService extends BaseService {\n  protected baseUrl: any;\n  protected config: any;\n  protected headers: any;\n\n  constructor (@Inject(Http) http: Http, @Inject(ConfigService) protected configService: ConfigService) {\n    super(http, configService);\n  }\n\n  getInfo(): Promise<User> {\n    return this.http.get(`${this.baseUrl}/user/info`)\n    .toPromise()\n    .then((res:any) => this.extractData(res, 'user') as User);\n  }\n\n  loginLocal(username: string, password: string): Promise<any> {\n    console.log(`Loggin in locally using brand: ${this.config.branding}, portal: ${this.config.portal}`);\n    return this.http.post(`${this.baseUrl}/user/login_local`, {username: username, password:password, branding:this.config.branding, portal: this.config.portal}, this.getOptionsClient())\n    .toPromise()\n    .then(this.extractData);\n  }\n\n  getUsers() :Promise<User[]> {\n    return this.http.get(`${this.brandingAndPortalUrl}/admin/users/get`, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as User[]);\n  }\n\n  updateUserDetails(userid: any, details: any) {\n    return this.http.post(`${this.brandingAndPortalUrl}/admin/users/update`, {userid: userid, details:details}, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n\n  addLocalUser(username: any, details: any) {\n    return this.http.post(`${this.brandingAndPortalUrl}/admin/users/newUser`, {username: username, details:details}, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n\n  genKey(userid: any) {\n    return this.http.post(`${this.brandingAndPortalUrl}/admin/users/genKey`, {userid: userid}, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n\n  revokeKey(userid: any) {\n    return this.http.post(`${this.brandingAndPortalUrl}/admin/users/revokeKey`, {userid: userid}, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n\n  updateUserProfile(details: any) {\n    return this.http.post(`${this.brandingAndPortalUrl}/user/update`, {details:details}, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n\n  genUserKey() {\n    return this.http.post(`${this.brandingAndPortalUrl}/user/genKey`, {},this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n\n  revokeUserKey() {\n    return this.http.post(`${this.brandingAndPortalUrl}/user/revokeKey`, {},this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res) as SaveResult[]);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/user.service-simple.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport {Injectable} from '@angular/core';\nimport * as _ from \"lodash\";\nimport * as moment from 'moment';\nimport * as numeral from 'numeral';\n/**\n * Utility service...\n *\n * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n *\n */\n@Injectable()\nexport class UtilityService {\n\n  /**\n   * returns concatenated string\n   *\n   * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n   * @param  {any} config\n   * @return {string}\n   */\n  public concatenate(data: any, config: any) {\n    let result: any = '';\n    _.each(config.fields, (f: any) => {\n      if (_.isArray(data)) {\n        result = [];\n        let itemResult = '';\n        _.each(data, (d: any) => {\n          const fldData = _.get(d, f);\n          // checking if field has data, otherwise will be skipping concat\n          if (fldData) {\n            itemResult = `${itemResult}${_.isEmpty(itemResult) ? '' : config.delim}${fldData}`;\n          }\n        });\n        result.push(itemResult);\n      } else {\n        const fldData = _.get(data, f);\n        if (fldData) {\n          result = `${result}${_.isEmpty(result) ? '' : config.delim}${fldData}`;\n        }\n      }\n    });\n    return result;\n  }\n\n  /**\n   * returns a property from the provided object.\n   *\n   * Author: <a href='https://github.com/andrewbrazzatti' target='_blank'>Andrew Brazzatti</a>\n   * @param  {any} config\n   * @return {string}\n   */\n  public getPropertyFromObject(data: any, config: any) {\n    const fieldPath = config.field;\n    return _.get(data, fieldPath);\n  }\n\n  /**\n   * returns a property as Array of 1 item from the provided object.\n   *\n   * Author: <a href='https://github.com/mattRedBox' target='_blank'>Matt Mulholland</a>\n   * @param data\n   * @param config\n   */\n  public getPropertyAsArrayFromObject(data: any, config: any) {\n    return [this.getPropertyFromObject(data, config)];\n  }\n\n  /**\n   * returns value based on mapping\n   *\n   * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n   * @param {any} data\n   * @param  {any} config - dict of field: field path of data, mapping - array of dict with 'key', the value and the actual mapping value 'val', 'default' - the value if there's no match\n   * @return {any}\n   */\n  public getPropertyFromObjectMapping(data: any, config: any) {\n    const fieldPath = config.field;\n    const val = _.isUndefined(fieldPath) ? data : _.get(data, fieldPath);\n    const foundMapping = _.find(config.mapping, (mapEntry) => {\n      return `${mapEntry.key}` == `${val}`;\n    });\n    return foundMapping ? foundMapping.value : config.default;\n  }\n\n  /**\n   * returns true if value is not null, undefined, empty\n   *\n   * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n   * @param {any} data\n   * @param  {any} config\n   * @return {string}\n   */\n  public hasValue(data: any, config: any = null) {\n    return !_.isEmpty(data) && !_.isUndefined(data) && !_.isNull(data);\n  }\n\n  /**\n   * returns an array of concatenated values\n   *\n   * Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a>\n   * @param {any} data\n   * @param  {any} config - dict of field: array of field paths to concat\n   * @return {string}\n   */\n  public getPropertyFromObjectConcat(data: any, config: any) {\n    let values = [];\n    _.each(config.field, (f) => {\n      values.push(_.get(data, f));\n    });\n    return _.concat([], ...values);\n  }\n\n\n  /**\n   * Splits a string into an array by it's delimiter\n   *\n   * Author: <a href='https://github.com/andrewbrazzatti' target='_blank'>Andrew Brazzatti</a>\n   * @param {any} data\n   * @param  {any} config - The delimiter\n   * @return {string}\n   */\n  public splitStringToArray(data: any, config: any) {\n    let delim = config.delim;\n    let field = config.field;\n    let value = data;\n    if (field) {\n      value = _.get(data, field);\n    }\n    return value.split(delim);\n  }\n\n  /**\n   * Splits a string of arrays into an array by it's delimiter\n   *\n   * Author: <a href='https://github.com/moisbo' target='_blank'>Moises Sacal Bonequi</a>\n   * @param {any} data\n   * @param  {any} config - The delimiter\n   * @return {array}\n   */\n  public splitArrayStringsToArray(data: any, config: any) {\n    let regex = config.regex || ',';\n    let flags = config.flags || 'g';\n    const reg = new RegExp(regex, flags);\n    let regexTrail = config.regexTrail || '(^,)|(,$)';\n    let flagsTrail = config.flagsTrail || 'g';\n    const regTrail = new RegExp(regexTrail, flagsTrail);\n    let field = config.field;\n    let value = data;\n    if (field) {\n      value = _.get(data, field);\n    }\n    const values = [];\n    _.each(value, (v) => {\n      if (v) {\n        v = v.replace(regTrail, '');\n      }\n      values.push(v.split(reg).map(item => item.trim()));\n    });\n    return _.concat([], ...values);\n  }\n\n  /**\n   * Splits a string of arrays into an array by it's delimiter\n   *\n   * Author: <a href='https://github.com/moisbo' target='_blank'>Moises Sacal Bonequi</a>\n   * @param {any} data\n   * @param  {any} config - The delimiter\n   * @return {array}\n   */\n  public getFirstofArray(data: any, config: any) {\n    let delim = config.delim;\n    let field = config.field;\n    let value = data;\n    if (field) {\n      value = _.get(data, field);\n    }\n    return _.first(value);\n  }\n\n  /**\n   * Format date with moment from origin to target\n   *\n   * Author: <a href='https://github.com/moisbo' target='_blank'>Moises Sacal Bonequi</a>\n   * @param {any} data\n   * @param  {any} config - field, formatOrigin, formatTarget\n   * @return {array}\n   */\n  public convertToDateFormat(data:any, config:any) {\n    let delim = config.delim;\n    let field = config.field;\n    let formatOrigin = config.formatOrigin || 'DD-MMM-YY';\n    let formatTarget = config.formatTarget || 'YYYY-MM-DD';\n    let value = data;\n\n    if(field) {\n      value = _.get(data,field);\n    }\n    const converted = moment(value, formatOrigin).format(formatTarget);\n    console.log(`convertToDateFormat ${converted}`);\n    return converted;\n  }\n\n  public joinArray(data: any, config: any, fieldName: string = null, fieldSeparator: string = null) {\n    return _.join(_.get(data, fieldName ? fieldName : config.field), fieldSeparator ? fieldSeparator : config.separator);\n  }\n\n  public runTemplate(data: any, config: any) {\n    const imports = _.extend({data: data, config: config, moment: moment, numeral:numeral}, this);\n    const templateData = {imports: imports};\n    const template = _.template(config.template, templateData);\n    const templateRes = template();\n    // added ability to parse the string template result into JSON\n    // requirement: template must return a valid JSON string object\n    if (config.json == true && !_.isEmpty(templateRes)) {\n      return JSON.parse(templateRes);\n    }\n    return templateRes;\n  }\n\n  public todaysDate(data:any, config:any) {\n    let format = config.format || 'YYYY-MM-DD';\n    return moment().local().format(format);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/util-service.ts","// Copyright (c) 2017 Queensland Cyber Infrastructure Foundation (http://www.qcif.edu.au/)\n//\n// GNU GENERAL PUBLIC LICENSE\n//    Version 2, June 1991\n//\n// This program is free software; you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation; either version 2 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along\n// with this program; if not, write to the Free Software Foundation, Inc.,\n// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nimport { Injectable, Inject} from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport { BaseService } from '../shared/base-service'\nimport { ConfigService } from './config-service';\n\n/**\n * Role related service\n *\n * Author: <a href='https://github.com/moisbo' target='_blank'>moisbo</a>\n */\n@Injectable()\nexport class WorkspaceTypeService extends BaseService {\n\n  constructor (@Inject(Http) http: Http, @Inject(ConfigService) protected configService: ConfigService) {\n    super(http, configService);\n  }\n\n  getBrand() {\n    return this.brandingAndPortalUrl;\n  }\n\n  getWorkspaceTypes() : Promise<any[]> {\n    return this.http.get(`${this.brandingAndPortalUrl}/workspaces/types`, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res));\n  }\n\n  getWorkspaceType(name: string) : Promise<any[]> {\n    return this.http.get(`${this.brandingAndPortalUrl}/workspaces/types/` + name, this.options)\n    .toPromise()\n    .then((res:any) => this.extractData(res));\n  }\n\n  getAvailableWorkspaces() : Promise<any[]> {\n    console.log('getting workspaces list');\n    return this.http.get(`${this.brandingAndPortalUrl}/workspaces/available`, this.options)\n      .toPromise()\n      .then((res:any) => this.extractData(res));\n  }\n\n  async createWorkspace(rdmpId: string, workspaceInfo: any, workspaceType: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/workspaces/create';\n    try {\n      const result = await this.http.post(\n        wsUrl, {\n          rdmp: rdmpId,\n          workspaceInfo: workspaceInfo,\n          workspaceType: workspaceType\n        },\n        this.options\n      ).toPromise();\n      return Promise.resolve(this.extractData(result));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./redbox-portal/angular/shared/workspace-service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","export class WorkspaceUser {\n  username: string;\n  id: string;\n}\nexport class Checks {\n  link: any = undefined;\n  rdmp: boolean = false;\n  linkCreated: boolean = false;\n  linkWithOther: boolean = false;\n  master: boolean = false;\n  comparing: boolean = false;\n\n  clear() {\n    this.linkCreated = false;\n    this.linkWithOther = false;\n  }\n}\n\nexport class Creation {\n  id: string;\n  created: boolean = false;\n  name: string = '';\n  namespace: string;\n  blank: boolean = true;\n  template: any;\n  description: string = '';\n  group: any;\n  validateMessage: string;\n  location: string;\n\n  clear() {\n    this.location = '';\n    this.description = '';\n    this.name = '';\n    this.id = '';\n  }\n\n  nameHasSpaces() {\n    return /\\s/g.test(this.name);\n  }\n}\nexport class CreationAlert {\n  message: string = '';\n  className: string = 'danger';\n  status: string = '';\n\n  set({message, status, className}) {\n    this.message = message;\n    this.status = status;\n    this.className = className;\n  }\n\n  clear() {\n    this.message = '';\n    this.className = 'danger';\n    this.status = '';\n  }\n\n}\n\nexport class CurrentWorkspace {\n  path_with_namespace: string = '';\n  web_url: string = '';\n  location: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/helpers.ts","import {Input, Output, Component, OnInit, Inject, Injector, EventEmitter} from '@angular/core';\nimport {SimpleComponent} from '../shared/form/field-simple.component';\nimport {FieldBase} from '../shared/form/field-base';\nimport {FormGroup, FormControl, Validators} from '@angular/forms';\nimport * as _ from 'lodash';\nimport {Checks} from './helpers';\nimport {LabarchivesService} from '../labarchives.service';\n\n// STEST-22\ndeclare var jQuery: any;\n\n/**\n * Contributor Model\n *\n * @author <a target='_' href='https://github.com/moisbo'>moisbo</a>\n *\n */\nexport class LabarchivesCreateField extends FieldBase<any> {\n\n  createNotebookHelp: string;\n  createNotebookHelp2: string;\n  createNotebookLabel: string;\n  notebookLabel: string;\n  supervisorLabel: string;\n  creatingLabel: string;\n  linkingLabel: string;\n\n  closeLabel: string;\n  processing: boolean = false;\n  workspaceDetailsTitle: string;\n  workspaceDefinition: string;\n  currentWorkspace: any;\n  processingLabel: string;\n  processingMessage: string;\n  processingStart: boolean = true;\n  processingSuccess: boolean;\n  processingFinished: boolean = false;\n  processingFail: string;\n  processingStatus: string;\n  processingNoPermission: string;\n\n  supervisorFailMessage: string;\n\n  checks: Checks;\n  rdmp: string;\n  userEmail: string;\n  notebookName: string;\n  supervisorEmail: string;\n  errorMessages: Array<string> = [];\n\n  @Input() LinkItem: EventEmitter<any> = new EventEmitter<any>();\n  @Output() link: EventEmitter<any> = new EventEmitter<any>();\n\n  labarchivesService: LabarchivesService;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.labarchivesService = this.getFromInjector(LabarchivesService);\n    this.closeLabel = 'Close';\n    this.processing = false;\n    this.workspaceDetailsTitle = 'Workspace';\n    this.workspaceDefinition = '';\n    this.currentWorkspace = {};\n\n    this.createNotebookHelp = options['createNotebookHelp'] || '';\n    this.createNotebookHelp2 = options['createNotebookHelp2'] || '';\n    this.createNotebookLabel = options['createNotebookLabel'] || '';\n    this.notebookLabel = options['notebookLabel'] || '';\n    this.supervisorLabel = options['supervisorLabel'] || '';\n    this.creatingLabel = options['creatingLabel'] || '';\n    this.linkingLabel = options['linkingLabel'] || '';\n\n    this.supervisorFailMessage = options['supervisorFailMessage'] || 'Supervisor has not logged in to LabArchives';\n    this.processingSuccess = options['processingSuccess'] || 'Success';\n    this.processingFail = options['processingFail'] || 'There was a problem linking your workspace, please try again later';\n    this.processingStatus = '';\n    this.processingNoPermission = options['processingNoPermission'] || 'You are not allowed to modify this item'\n    this.processingLabel = options['processingLabel'] || 'Processing...';\n    this.processingMessage = '';\n    this.checks = new Checks();\n  }\n\n  init() {\n    this.rdmp = this.fieldMap._rootComp.rdmp;\n  }\n\n  registerEvents() {\n    this.fieldMap['List'].field['create'].subscribe(this.createModal.bind(this));\n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n\n    this.formModel = new FormControl(this.value || []);\n\n    if (this.value) {\n      this.setValue(this.value);\n    }\n\n    return this.formModel;\n  }\n\n  setValue(value: any) {\n    this.formModel.patchValue(value, {emitEvent: false});\n    this.formModel.markAsTouched();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n\n  async createModal() {\n    const rdmpInfo = await this.labarchivesService.rdmpInfo(this.rdmp);\n    const userInfo = await this.labarchivesService.getUserInfo();\n    const user = userInfo['user'];\n    this.userEmail = user['email'];\n    const recordMetadata = rdmpInfo['recordMetadata'];\n    if (recordMetadata['contributor_ci'] && recordMetadata['contributor_ci']['email']) {\n      this.supervisorEmail = recordMetadata['contributor_ci']['email'];\n    }\n    jQuery('#createModal').modal('show');\n  }\n\n  async createNotebook() {\n    this.processing = false;\n    if (this.validate()) {\n      this.processing = true;\n      this.processingStart = true;\n      try {\n        this.processingStatus = 'Creating Notebook...';\n        const createNotebook = await this.labarchivesService.createNotebook(this.rdmp, this.notebookName, this.supervisorEmail, this.userEmail);\n        console.log(createNotebook);\n        this.processingStart = false;\n        this.processingFinished = true;\n        this.processingStatus = 'Your notebook has been created';\n        jQuery('#createModal').modal('hide');\n        this.link.emit({name: createNotebook.name, id: createNotebook.nb});\n      } catch (e) {\n        this.processingStatus = 'There was an error creating your notebook';\n      }\n    } else {\n      this.processingFail = '';\n    }\n  }\n\n  validate() {\n    this.errorMessages = [];\n    if (this.notebookName) {\n      //other validations\n    } else {\n      this.errorMessages.push('verify Notebook Name');\n    }\n    if (this.supervisorEmail) {\n      //other validations\n    } else {\n      this.errorMessages.push('supervisor Email is blank');\n    }\n    if (this.errorMessages.length > 0) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\n/**\n * Component that Links Workspaces to Workspace Records in Stash\n */\n@Component({\n  selector: 'ws-labarchivescreate',\n  template: `\n    <div id=\"createModal\" class=\"modal fade\" data-keyboard=\"false\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h4 class=\"modal-title\">Create Workspace</h4>\n          </div>\n          <div class=\"modal-body\">\n            <div *ngIf=\"field.processingStart\">\n              <h5>{{ field.createNotebookHelp }}</h5>\n              <p>{{ field.createNotebookHelp2 }}</p>\n              <div class=\"form-group\">\n                <label>{{ field.notebookLabel }}</label>\n                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"field.notebookName\" name=\"notebookName\" ngModel\n                       attr.aria-label=\"{{ field.notebookName }}\">\n              </div>\n              <div class=\"form-group\">\n                <label>{{ field.supervisorLabel }}</label>\n                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"field.supervisorEmail\" name=\"supervisorLabel\"\n                       ngModel\n                       attr.aria-label=\"{{ field.supervisorEmail }}\" disabled=\"true\">\n              </div>\n              <div class=\"form-group\">\n                <button *ngIf=\"waitForProcessing\" type=\"button\" class=\"form-control btn btn-block btn-primary\"\n                        (click)=\"field.createNotebook()\"\n                        attr.aria-label=\"{{ field.createNotebookLabel }}\">{{ field.createNotebookLabel }}</button>\n              </div>\n              <div class=\"form-group\">\n                <div>{{ field.processingStatus }}</div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"alert-danger\">\n                  <ul class=\"list-group\">\n                    <li class=\"list-group-item\" *ngFor=\"let msg of field.errorMessages\">{{msg}}</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"field.processingFinished\"></div>\n          </div>\n          <div class=\"modal-footer\">\n            <span *ngIf=\"field.processing; then waitForProcessing; else finishProcessing\"></span>\n            <ng-template #finishProcessing>\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">{{ field.closeLabel }}</button>\n            </ng-template>\n            <ng-template #waitForProcessing>\n              <button type=\"button\" class=\"btn btn-secondary disabled\" data-dismiss=\"modal\">{{ field.closeLabel }}\n              </button>\n            </ng-template>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class LabarchivesCreateComponent extends SimpleComponent implements OnInit {\n  field: LabarchivesCreateField;\n\n  ngOnInit() {\n    this.field.init();\n    this.field.registerEvents();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/labarchives-create.component.ts","import {Output, EventEmitter, Component, OnInit, Inject, Injector, Input, AfterContentInit} from '@angular/core';\nimport {FormGroup, FormControl, Validators, NgForm} from '@angular/forms';\nimport {SimpleComponent} from '../shared/form/field-simple.component';\nimport {FieldBase} from '../shared/form/field-base';\nimport {LabarchivesService} from '../labarchives.service';\n\nexport class LabarchivesExportField extends FieldBase<any> {\n  loading: boolean;\n  workspaces: any[];\n  rdmp: string;\n  workspaceId: string;\n  nbId: string;\n  workspace: any;\n  exportStatus: string;\n  action: string;\n\n  processingExport: boolean;\n  processingZipAndReturn: boolean;\n  processingDataRecord: boolean;\n  zipReturnInterval: any;\n  processedNotebook: string;\n  notebookExported: boolean;\n  notebookProcessed: boolean;\n  dataRecordSaved: boolean;\n  requestGroupForm: FormGroup;\n  retention: FormControl;\n  retentionValues: any;\n  disposal: FormControl;\n  isc: FormControl;\n  iscValues: any;\n  dataRecord: string;\n  dataRecordError: boolean;\n  pleaseSelectLabel: string;\n  dataRecordURL: string;\n  anyError: string;\n\n  @Output() list: EventEmitter<any> = new EventEmitter<any>();\n\n  labarchivesService: LabarchivesService;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.labarchivesService = this.getFromInjector(LabarchivesService);\n    this.iscValues = [\n      {name: 'Confidential', value: 'confidential'},\n      {name: 'Sensitive', value: 'sensitive'},\n      {name: 'Internal', value: 'internal'},\n      {name: 'Public', value: 'public'}\n    ];\n    this.retentionValues = [\n      {name: '1 year', value: '1year'},\n      {name: '5 years', value: '5years'},\n      {name: '7 years', value: '7years'},\n      {name: '25 years', value: '25years'},\n      {name: 'Permanent', value: 'permanent'}\n    ];\n    this.pleaseSelectLabel = 'Please Select';\n  }\n\n  registerEvents() {\n    this.fieldMap['List'].field['goToExporter'].subscribe(this.showNotebook.bind(this));\n  }\n\n  init() {\n    this.rdmp = this.fieldMap._rootComp.rdmp;\n    this.action = this.fieldMap._rootComp.action;\n    this.workspaceId = this.fieldMap._rootComp.workspaceId;\n    this.restartExport();\n    if (this.action === 'archive') {\n      console.log('loaded exporter');\n      this.showNotebook();\n    } else {\n      console.log('loaded list');\n      this.list.emit();\n    }\n    this.loading = true;\n  }\n\n  showNotebook(item?) {\n    this.retention = new FormControl('');\n    this.disposal = new FormControl('');\n    this.isc = new FormControl('');\n\n    this.requestGroupForm = new FormGroup({retention: this.retention, disposal: this.disposal, isc: this.isc});\n    this.nbId = null;\n    if (item.id) {\n      this.nbId = item.id;\n      this.labarchivesService.notebookInfo(this.rdmp, this.nbId)\n        .then((response) => {\n          if (response.nb && response.nb.notebooks && response.nb.notebooks.notebook) {\n            this.workspace = response.nb.notebooks.notebook;\n          }\n        }).catch((e) => {\n        console.error(e);\n      });\n    } else {\n      // Find the Id of the notebook\n      this.rdmp = this.fieldMap._rootComp.rdmp;\n      this.workspaceId = this.fieldMap._rootComp.workspaceId;\n      this.loading = true;\n      this.workspace = null;\n      console.log('showNotebook');\n      this.labarchivesService.findNotebook(this.rdmp, this.workspaceId)\n        .then((response) => {\n          this.workspace = response.nb.notebook;\n        }).catch((e) => {\n        this.anyError = e.message;\n        console.error(e);\n      });\n    }\n  }\n\n  requiredFields() {\n    return this.retention.value && this.disposal.value && this.isc.value;\n  }\n\n  exportNotebook() {\n    if (!this.requiredFields()) {\n      this.anyError = 'Please input required fields: Retention Period, Disposal Date and Security Classification';\n    } else {\n      this.anyError = null;\n      this.processingExport = true;\n      this.labarchivesService.exportNotebook(this.rdmp, this.nbId)\n        .then((response) => {\n          if (response.status) {\n            this.processedNotebook = response.nb;\n            this.notebookExported = true;\n          } else {\n            console.log('there was an error starting the export');\n          }\n          this.processingExport = false;\n          return this.zipAndReturn();\n        }).catch((e) => {\n        console.error(e);\n        this.anyError = e.message;\n        this.processingExport = false;\n      });\n    }\n  }\n\n  zipAndReturn() {\n    this.processingZipAndReturn = true;\n    if (this.processedNotebook) {\n      this.labarchivesService.zipNotebook(this.processedNotebook)\n        .then((zip) => {\n          this.exportStatus = zip;\n          this.zipReturnInterval = setInterval(() => {\n            this.labarchivesService.returnNotebook(this.processedNotebook)\n              .then((returnNotebook) => {\n                if (returnNotebook.status) {\n                  clearInterval(this.zipReturnInterval);\n                  this.exportStatus = returnNotebook;\n                  this.notebookProcessed = true;\n                  this.processingZipAndReturn = false;\n                  return this.createDataRecord();\n                }\n              }).catch((e) => {\n              console.error(e);\n              this.processingZipAndReturn = false;\n            });\n          }, 1000);\n        }).catch((e) => {\n        this.anyError = e.message;\n        console.error(e);\n      });\n    } else {\n      console.log('notebook not yet processed');\n    }\n  }\n\n  async createDataRecord() {\n    this.processingDataRecord = true;\n    const notebookTitle = this.workspace.name;\n    if (this.exportStatus['nb']) {\n      const notebookFile = this.exportStatus['nb'];\n      const rdmpTitle = this.fieldMap._rootComp.rdmpMetadata['title'];\n      const isHdr = this.fieldMap._rootComp.rdmpMetadata['project_hdr'] || false;\n      const contributor_ci = this.fieldMap._rootComp.rdmpMetadata['contributor_ci'];\n      const contributor_data_manager = this.fieldMap._rootComp.rdmpMetadata['contributor_data_manager'];\n      const keywords = this.fieldMap._rootComp.rdmpMetadata['finalKeywords'] || [];\n      const dataRecord = await this.labarchivesService.createDataRecord(\n        this.rdmp,\n        rdmpTitle,\n        isHdr,\n        notebookFile,\n        notebookTitle,\n        this.retention.value.value,\n        this.disposal.value,\n        this.isc.value.value,\n        contributor_ci,\n        contributor_data_manager,\n        keywords\n      );\n      if (dataRecord.status) {\n        this.dataRecord = dataRecord.recordId;\n        this.dataRecordURL = this.labarchivesService.recordURL + '/' + this.dataRecord;\n        this.dataRecordSaved = true;\n      } else {\n        this.anyError = dataRecord.message;\n        this.dataRecordError = true;\n      }\n    } else {\n      alert('no notebook exported');\n    }\n    this.processingDataRecord = false;\n  }\n\n  checkExport(item) {\n    this.workspaces = null;\n    this.labarchivesService.checkExport(this.workspace)\n      .then((response) => {\n        console.log(response);\n        this.exportStatus = 'working';\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  restartExport() {\n    this.dataRecordURL = null;\n    this.processingDataRecord = false;\n    this.processingZipAndReturn = false;\n    this.processingDataRecord = false;\n    this.notebookExported = false;\n    this.dataRecordSaved = false;\n    this.notebookProcessed = false;\n    this.dataRecordError = false;\n    this.anyError = null;\n  }\n\n  showWorkspaces() {\n    this.workspace = null;\n    this.list.emit();\n  }\n\n  logOut() {\n    alert('not implemented');\n  }\n\n}\n\n\n@Component({\n  selector: 'ws-labarchivesexport',\n  template: `\n    <div class=\"container-fluid\">\n      <div *ngIf=\"field.workspace\" class=\"row\">\n        <form [formGroup]=\"field.requestGroupForm\"\n              id=\"form\"\n              novalidate autocomplete=\"off\">\n          <h2>Export your notebook: <strong>{{ field.workspace.name }}</strong></h2>\n          <div class=\"container-fluid\">\n            <div class=\"row\">\n              <div class=\"col-sm-4 col-md-4\">\n                <div class=\"form-group\">\n                  <label>Retention Period:</label>\n                  <select [formControl]=\"field.retention\"\n                          class=\"form-control\">\n                    <option [ngValue]=\"null\" [selected]=\"true\">{{ field.pleaseSelectLabel }}</option>\n                    <option *ngFor=\"let t of field.retentionValues\"\n                            [ngValue]=\"t\">{{t.name}}</option>\n                  </select>\n                </div>\n              </div>\n              <div class=\"col-sm-4 col-md-4\">\n                <div class=\"form-group\">\n                  <label>Disposal Date:</label>\n                  <datetime #dateTime [formControl]=\"field.disposal\"\n                            [timepicker]=\"false\"\n                            [datepicker]=\"{format: 'dd/mm/yyyy', icon: 'fa fa-calendar', autoclose: true}\"\n                            [hasClearButton]=\"false\"></datetime>\n                </div>\n              </div>\n              <div class=\"col-sm-4 col-md-4\">\n                <div class=\"form-group\">\n                  <label>Security Classification:</label>\n                  <select [formControl]=\"field.isc\"\n                          class=\"form-control\">\n                    <option [ngValue]=\"null\" [selected]=\"true\">{{ field.pleaseSelectLabel }}</option>\n                    <option *ngFor=\"let t of field.iscValues\"\n                            [ngValue]=\"t\">{{t.name}}</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"container-fluid\">\n            <div class=\"row\">\n              <div class=\"col-sm-4 col-md-4\">\n                <div class=\"card\">\n                  <div class=\"panel panel-default\">\n                    <div class=\"panel-heading\">\n                      <h5 class=\"panel-title card-title\" style=\"margin-top: 1px\">\n                        <span>Export</span>\n                      </h5>\n                    </div>\n                    <div class=\"panel-body\" [ngClass]=\"field.processingExport === true ? 'overlay-div' : ''\">\n                      <div class=\"text-center\">\n                        <i class=\"fa fa-book fa-5x\" aria-hidden=\"true\"></i>\n                        <div class=\"card-body\" style=\"margin-bottom: auto;\">\n                          <h5 class=\"card-title\" style=\"margin-top: 2px\">\n                            <span>Generate Export</span>\n                          </h5>\n                        </div>\n                        <span *ngIf=\"!field.notebookExported && !field.processingExport\">\n                          <i class=\"fa fa-circle-o fa-4x\" style=\"color:#cccccc\"></i>\n                        </span>\n                        <span *ngIf=\"field.notebookExported\">\n                          <i class=\"fa fa-check fa-4x\" style=\"color:green\"></i>\n                        </span>\n                        <span *ngIf=\"field.processingExport\">\n                          <i class=\"fa fa-spinner fa-spin fa-4x\"></i>\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"card-footer\" style=\"margin-top: auto;\">\n                      <button (click)=\"field.exportNotebook()\"\n                              [attr.disabled]=\"field.processingExport || field.notebookExported ? '' : null\"\n                              class=\"btn btn-block btn-primary\">Export Notebook\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-sm-4 col-md-4\">\n                <div class=\"card\">\n                  <div class=\"panel panel-default\">\n                    <div class=\"panel-heading\">\n                      <h5 class=\"panel-title card-title\" style=\"margin-top: 1px\">\n                        <span>Process</span>\n                      </h5>\n                    </div>\n                    <div class=\"panel-body\" [ngClass]=\"field.processingZipAndReturn ? 'overlay-div' : ''\">\n                      <div class=\"text-center\">\n                        <i class=\"fa fa-file-archive-o fa-5x\" aria-hidden=\"true\"></i>\n                        <div class=\"card-body\" style=\"margin-bottom: auto;\">\n                          <h5 class=\"card-title\" style=\"margin-top: 2px\">\n                            <span>Process {{field.workspace.name }}</span>\n                          </h5>\n                        </div>\n                        <span *ngIf=\"!field.notebookProcessed && !field.processingZipAndReturn\">\n                          <i class=\"fa fa-circle-o fa-4x\" style=\"color:#cccccc\"></i>\n                        </span>\n                        <span *ngIf=\"field.notebookProcessed\">\n                          <i class=\"fa fa-check fa-4x\" style=\"color:green\"></i>\n                        </span>\n                        <span *ngIf=\"field.processingZipAndReturn\">\n                          <i class=\"fa fa-spinner fa-spin fa-4x\"></i>\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"card-footer\" style=\"margin-top: auto;\">\n                      <button (click)=\"field.zipAndReturn()\"\n                              [attr.disabled]=\"field.processingZipAndReturn || field.notebookProcessed ? '' : null\"\n                              class=\"btn btn-block btn-primary\">Process Notebook\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-sm-4 col-md-4\">\n                <div class=\"card\">\n                  <div class=\"panel panel-default\">\n                    <div class=\"panel-heading\">\n                      <h5 class=\"panel-title card-title\" style=\"margin-top: 1px\">\n                        <span>Register</span>\n                      </h5>\n                    </div>\n                    <div class=\"panel-body\" [ngClass]=\"field.processingDataRecord ? 'overlay-div' : ''\">\n                      <div class=\"text-center\">\n                        <i class=\"fa fa-floppy-o fa-5x\" aria-hidden=\"true\"></i>\n                        <div class=\"card-body\" style=\"margin-bottom: auto;\">\n                          <h5 class=\"card-title\" style=\"margin-top: 2px\">\n                            <span>Create Data Record</span>\n                          </h5>\n                        </div>\n                        <span *ngIf=\"!field.dataRecordSaved && !field.processingDataRecord && !field.dataRecordError\">\n                          <i class=\"fa fa-circle-o fa-4x\" style=\"color:#cccccc\"></i>\n                        </span>\n                        <span *ngIf=\"field.dataRecordSaved\">\n                          <i class=\"fa fa-check fa-4x\" style=\"color:green\"></i>\n                        </span>\n                        <span *ngIf=\"field.dataRecordError\">\n                          <i class=\"fa fa-exclamation fa-4x\" style=\"color:red\"></i>\n                        </span>\n                        <span *ngIf=\"field.processingDataRecord\">\n                          <i class=\"fa fa-spinner fa-spin fa-4x\"></i>\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"card-footer\" style=\"margin-top: auto;\">\n                      <button (click)=\"field.createDataRecord()\"\n                              [attr.disabled]=\"field.processingDataRecord || field.dataRecordSaved ? '' : null\"\n                              class=\"btn btn-block btn-primary\">Create Data Record\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"container-fluid text-center\">\n        <div class=\"row\">\n          <div *ngIf=\"field.dataRecordURL\" class=\"col-sm-12 alert alert-success\">\n            <p>Data Record generated; <a class=\"underline\" href=\"{{ field.dataRecordURL }}\">\n              click here to open</a></p>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div *ngIf=\"field.anyError\" class=\"col-sm-12 alert alert-danger\">\n            <p>\n              {{ field.anyError }}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"container-fluid\">\n        <div class=\"row\">&nbsp;</div>\n        <div class=\"row\">\n          <button (click)=\"field.restartExport()\"\n                  class=\"btn btn-secondary\">Restart Export\n          </button>\n          <button (click)=\"field.showWorkspaces()\"\n                  class=\"btn btn-primary\">Back to your Notebooks\n          </button>\n        </div>\n        <div class=\"row\">&nbsp;</div>\n      </div>\n    </div>\n  `,\n  styles: ['.overlay-div { height:100%; width: 100%; background-color:#ccc; opacity:.7;}']\n})\nexport class LabarchivesExportComponent extends SimpleComponent implements OnInit, AfterContentInit {\n  field: LabarchivesExportField;\n\n  ngOnInit() {\n    this.field.registerEvents();\n  }\n\n  ngAfterContentInit() {\n    this.field.init();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/labarchives-export.component.ts","import {Input, Output, Component, OnInit, Inject, Injector, EventEmitter} from '@angular/core';\nimport {SimpleComponent} from '../shared/form/field-simple.component';\nimport {FieldBase} from '../shared/form/field-base';\nimport {FormGroup, FormControl, Validators} from '@angular/forms';\nimport * as _ from 'lodash';\n\nimport {Checks} from './helpers';\nimport {LabarchivesService} from '../labarchives.service';\n\n// STEST-22\ndeclare var jQuery: any;\n\n/**\n * Contributor Model\n *\n * @author <a target='_' href='https://github.com/moisbo'>moisbo</a>\n *\n */\nexport class LabarchivesLinkField extends FieldBase<any> {\n\n  closeLabel: string;\n  processing: boolean;\n  workspaceDetailsTitle: string;\n  workspaceDefinition: string;\n  currentWorkspace: any;\n  processingLabel: string;\n  processingMessage: string;\n  processingSuccess: string;\n  processingFail: string;\n  processingStatus: string;\n  processingNoPermission: string;\n\n  checks: Checks;\n  rdmp: string;\n\n  @Input() LinkItem: EventEmitter<any> = new EventEmitter<any>();\n  @Output() list: EventEmitter<any> = new EventEmitter<any>();\n\n  labarchivesService: LabarchivesService;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.labarchivesService = this.getFromInjector(LabarchivesService);\n    this.closeLabel = 'Close';\n    this.processing = false;\n    this.workspaceDetailsTitle = 'Workspace';\n    this.workspaceDefinition = '';\n    this.currentWorkspace = {};\n    this.processingLabel = options['processingLabel'] || 'Processing...';\n    this.processingMessage = '';\n    this.checks = new Checks();\n    this.processingSuccess = options['processingSuccess'] || 'Success';\n    this.processingFail = options['processingFail'] || 'There was a problem linking your workspace, please try again later';\n    this.processingStatus = '';\n    this.processingNoPermission = options['processingNoPermission'] || 'You are not allowed to modify this item'\n  }\n\n  init() {\n    this.rdmp = this.fieldMap._rootComp.rdmp;\n  }\n\n  registerEvents() {\n    this.fieldMap['List'].field['link'].subscribe(this.linkItem.bind(this));\n    this.fieldMap['Create'].field['link'].subscribe(this.linkItem.bind(this));\n  }\n\n  createFormModel(valueElem: any = undefined): any {\n    if (valueElem) {\n      this.value = valueElem;\n    }\n\n    this.formModel = new FormControl(this.value || []);\n\n    if (this.value) {\n      this.setValue(this.value);\n    }\n\n    return this.formModel;\n  }\n\n  setValue(value: any) {\n    this.formModel.patchValue(value, {emitEvent: false});\n    this.formModel.markAsTouched();\n  }\n\n  setEmptyValue() {\n    this.value = [];\n    return this.value;\n  }\n\n  async linkItem(item: any) {\n    try {\n      jQuery('#linkModal').modal('show');\n      this.processing = true;\n      this.processingStatus = 'linking';\n      const link = await this.labarchivesService.link(item, this.rdmp);\n      this.processingStatus = 'done';\n      this.checks.link = true;\n      this.processing = false;\n      if (link.status) {\n        this.checks.linkCreated = true;\n        this.checks.master = true;\n        this.processingFail = undefined;\n        this.list.emit();\n      } else if(link.message === 'cannot insert node'){\n        this.processingFail = this.processingNoPermission;\n        this.checks.linkWithOther = true\n      }\n    } catch (e) {\n      this.processing = false;\n      this.checks.linkWithOther = true;\n    }\n  }\n}\n\n/**\n * Component that Links Workspaces to Workspace Records in Stash\n */\n@Component({\n  selector: 'ws-labarchiveslink',\n  template: `\n    <div id=\"linkModal\" class=\"modal fade\" data-keyboard=\"false\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h4 class=\"modal-title\">Link Workspace</h4>\n          </div>\n          <div class=\"modal-body\">\n            <h5>{{ field.workspaceDetailsTitle }}</h5>\n            <p *ngFor=\"let item of field.workspaceDefinition\">{{ item.label }} :\n              {{ field.currentWorkspace[item.name]}}</p>\n            <h5 *ngIf=\"field.processing\">{{ field.processingLabel }}</h5>\n            <p *ngIf=\"field.processing\">{{ field.processingMessage }}&nbsp;</p>\n            <p class=\"alert alert-success\" *ngIf=\"field.checks.linkCreated\">{{ field.processingSuccess }}</p>\n            <p class=\"alert alert-danger\" *ngIf=\"field.processingStatus === 'done' && field.processingFail\">\n              {{ field.processingFail }}</p>\n            <ng-template #isDone>\n              <i class=\"fa fa-check-circle\"></i>\n            </ng-template>\n            <ng-template #isSpinning>\n              <i class=\"fa fa-spinner fa-spin\"></i>\n            </ng-template>\n          </div>\n          <div class=\"modal-footer\">\n            <span *ngIf=\"field.processing; then waitForProcessing; else finishProcessing\"></span>\n            <ng-template #finishProcessing>\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">{{ field.closeLabel }}</button>\n            </ng-template>\n            <ng-template #waitForProcessing>\n              <button type=\"button\" class=\"btn btn-secondary disabled\" data-dismiss=\"modal\">{{ field.closeLabel }}\n              </button>\n            </ng-template>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class LabarchivesLinkComponent extends SimpleComponent implements OnInit {\n  field: LabarchivesLinkField;\n\n  ngOnInit() {\n    this.field.init();\n    this.field.registerEvents();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/labarchives-link.component.ts","import {Output, EventEmitter, Component, OnInit, Inject, Injector, Input} from '@angular/core';\nimport {FormGroup, FormControl, Validators, NgForm} from '@angular/forms';\nimport {SimpleComponent} from '../shared/form/field-simple.component';\nimport {FieldBase} from '../shared/form/field-base';\nimport {LabarchivesService} from \"../labarchives.service\";\n\nexport class LabarchivesListField extends FieldBase<any> {\n\n  loggedIn: boolean;\n\n  columns: any;\n  syncLabel: any;\n  accessDeniedObjects: any = [];\n  failedObjects: any = [];\n  rdmpLinkLabel: string;\n\n  loading: boolean;\n  loadingChecks: boolean;\n  labUser: any = {};\n  rdmp: string;\n  rdmpTitle: string;\n  workspaces: any;\n  linkedLabel: string;\n  linkedAnotherLabel: string;\n  linkLabel: string;\n  linkProblem: string;\n  defaultNotebookLabel: string;\n  createNotebookLabel: string;\n  exportStatus: string;\n\n  @Input() user: any;\n  @Output() link: EventEmitter<any> = new EventEmitter<any>();\n  @Output() checkLoggedIn: EventEmitter<any> = new EventEmitter<any>();\n  @Output() create: EventEmitter<any> = new EventEmitter<any>();\n  @Output() goToExporter: EventEmitter<any> = new EventEmitter<any>();\n\n  labarchivesService: LabarchivesService;\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.labarchivesService = this.getFromInjector(LabarchivesService);\n    this.columns = [\n      {'label': 'Name', 'property': 'name'},\n      {'label': 'Default', 'property': 'isDefault'}\n    ];\n    this.rdmpLinkLabel = 'Plan';\n    this.syncLabel = 'Sync';\n    this.linkedLabel = options['linkedLabel'] || 'Linked';\n    this.linkedAnotherLabel = options['linkedAnotherLabel'] || 'Linked to another workspace';\n    this.linkLabel = options['linkLabel'] || 'Link Workspace';\n    this.linkProblem = options['linkProblem'] || 'There was a problem checking the link';\n    this.defaultNotebookLabel = options['defaultNotebookLabel'] || 'Default Notebook';\n    this.createNotebookLabel = options['createNotebookLabel'] || 'Create Notebook';\n  }\n\n  registerEvents() {\n    this.fieldMap['Login'].field['userLogin'].subscribe(this.listWorkspaces.bind(this));\n    this.fieldMap['Link'].field['list'].subscribe(this.listWorkspaces.bind(this));\n    this.fieldMap['Export'].field['list'].subscribe(this.listWorkspaces.bind(this));\n  }\n\n  init() {\n    this.rdmp = this.fieldMap._rootComp.rdmp;\n  }\n\n\n  listWorkspaces() {\n    this.loading = true;\n    this.labarchivesService.rdmpInfo(this.rdmp).then(response => {\n      this.fieldMap._rootComp.rdmpMetadata = response['recordMetadata'];\n      this.rdmpTitle = this.fieldMap._rootComp.rdmpMetadata['title']\n      return this.labarchivesService.list();\n    }).then(response => {\n      if (response.status) {\n        const notebooks = response['notebooks']['notebook'];\n        this.loggedIn = this.fieldMap._rootComp.loggedIn = true;\n        this.checkLoggedIn.emit(true);\n        this.workspaces = notebooks.map((nb) => {\n          console.log(nb['is-default']['_']);\n          return {\n            id: nb['id'],\n            name: nb['name'],\n            isDefault: nb['is-default']['_'] == 'true' ? this.defaultNotebookLabel : '',\n            rdmp: {info: ''}\n          }\n        });\n        this.loading = false;\n        this.checkLinks();\n      } else {\n        this.checkLoggedIn.emit(false);\n        this.loading = false;\n        throw new Error('cannot list');\n      }\n    }).catch(error => {\n      this.loading = false;\n      this.workspaces = null;\n      this.checkLoggedIn.emit(false);\n    });\n  }\n\n  linkWorkspace(item: any) {\n    this.link.emit(item);\n  }\n\n  createWorkspace() {\n    this.create.emit();\n  }\n\n  checkLinks() {\n    this.loadingChecks = true;\n    const links = this.workspaces.reduce((promise, w, index) => {\n      return promise.then(() => {\n        return this.labarchivesService.checkLink(this.rdmp, w['id'])\n          .then((response) => {\n            if (!response.status) {\n              throw new Error('Error checking workspace');\n            } else {\n              const check = response['check'];\n              if (check['link'] === 'linked') {\n                this.workspaces[index]['linkedState'] = 'linked';\n              } else {\n                this.workspaces[index]['linkedState'] = 'link';\n              }\n            }\n          })\n          .catch((error) => {\n            this.workspaces[index]['linkedState'] = 'problem';\n          });\n      });\n    }, Promise.resolve());\n    links.then(e => {\n      console.log(e);\n      this.loadingChecks = false;\n    });\n  }\n\n  exporter(item) {\n    this.workspaces = null;\n    this.goToExporter.emit(item);\n  }\n\n  logOut() {\n    alert('not implemented');\n  }\n\n}\n\n\n@Component({\n  selector: 'ws-labarchiveslist',\n  template: `\n    <div class=\"row\">\n      <h4>Current Data Plan Selected: {{ field.rdmpTitle }}</h4>\n    </div>\n    <div class=\"row\">\n      <div *ngIf=\"field.workspaces\" class=\"col-lg-12\">\n        <div class=\"\">\n          <table class=\"table\">\n            <thead>\n            <tr>\n              <ng-container *ngFor=\"let header of field.columns\">\n                <th>{{ header.label }}</th>\n              </ng-container>\n              <th>{{ field.rdmpLinkLabel }}</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr *ngFor=\"let item of field.workspaces\">\n              <ng-container *ngFor=\"let column of field.columns\">\n                <td *ngIf=\"column.show != false\">\n                  <span *ngIf=\"column.link; else noProcessing \">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\"\n                       href=\"{{ item[column.property] }}\">{{ item[column.property]}}</a>\n                  </span>\n                  <ng-template #multivalue></ng-template>\n                  <ng-template #noProcessing><span>{{ item[column.property] }}</span></ng-template>\n                </td>\n              </ng-container>\n              <td>\n                <span *ngIf=\"!item['linkedState']\">\n                  <button type=\"button\" disabled class=\"btn btn-info btn-block\" [name]=\"item['@id']\">\n                    <span><i class=\"fa fa-spinner fa-spin\"></i></span></button>\n                </span>\n                <span *ngIf=\"item['linkedState'] === 'linked'\">\n                  <button type=\"button\" disabled class=\"btn btn-success btn-block\"\n                          [name]=\"item['@id']\">{{ field.linkedLabel }}</button>\n                </span>\n                <span *ngIf=\"item['linkedState'] === 'another'\">\n                  <button type=\"button\" disabled class=\"btn btn-info btn-block\"\n                          [name]=\"item['@id']\">{{ field.linkedAnotherLabel }}</button>\n                </span>\n                <span *ngIf=\"item['linkedState'] === 'link'\">\n                  <button type=\"button\" class=\"btn btn-info btn-block\" [name]=\"item['@id']\"\n                          (click)=\"field.linkWorkspace(item)\">{{ field.linkLabel }}</button>\n                </span>\n                <span *ngIf=\"item['linkedState'] === 'problem'\">\n                  <button type=\"button\" disabled class=\"btn btn-warning btn-block\"\n                          [name]=\"item['@id']\">{{ field.linkProblem }}</button>\n                </span>\n              </td>\n              <td>\n                <button class=\"btn btn-primary btn-block\" [disabled]=\"field.loadingChecks ? 'disabled': null\"\n                        (click)=\"field.exporter(item)\">Export\n                </button>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n          <div *ngIf=\"field.loading\" class=\"\">\n            <img class=\"center-block\" src=\"/images/loading.svg\">\n          </div>\n          <div>\n            <p *ngIf=\"field.failedObjects.length > 0\">There were {{ field.failedObjects.length }} records that failed to\n              load</p>\n            <p *ngIf=\"field.accessDeniedObjects.length > 0\">There were {{ field.accessDeniedObjects.length }} records\n              that\n              you do not have access to</p>\n          </div>\n        </div>\n        <div class=\"row\">\n          <button class=\"btn btn-primary\" type=\"button\"\n                  (click)=\"field.createWorkspace()\">{{field.createNotebookLabel}}</button>\n        </div>\n        <p>&nbsp;</p>\n<!--        <div class=\"row\">-->\n<!--          <button class=\"btn btn-secondary\" type=\"button\"-->\n<!--                  (click)=\"field.logOut()\">Revoke Login Consent-->\n<!--          </button>-->\n<!--        </div>-->\n        <div class=\"row\">&nbsp;</div>\n      </div>\n    </div>\n  `\n})\nexport class LabarchivesListComponent extends SimpleComponent implements OnInit {\n  field: LabarchivesListField;\n\n  ngOnInit() {\n    this.field.registerEvents();\n    //this.field.init();\n  }\n\n  ngAfterContentInit() {\n    this.field.init();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/labarchives-list.component.ts","import {Output, EventEmitter, Component, OnInit, Inject, Injector} from '@angular/core';\nimport {FormGroup, FormControl, Validators, NgForm} from '@angular/forms';\nimport {SimpleComponent} from '../shared/form/field-simple.component';\nimport {FieldBase} from '../shared/form/field-base';\n\ndeclare var jQuery: any;\n\nimport {LabarchivesService} from \"../labarchives.service\";\n\nexport class LabarchivesLoginField extends FieldBase<any> {\n\n  loading: boolean;\n  valid = true;\n  username: string;\n  columns: object[];\n  usernameLabel: string;\n  passwordLabel: string;\n  loginLabel: string;\n  userLoginError: string;\n  userPasswordError: string;\n  helpLoginLabel: string;\n  helpLoginLabelList: object[];\n  loginHelpImage: string;\n  loginHelpImageAlt: string;\n  userEmail: string;\n  password: string;\n  submitted = false;\n  errorMessage: string = undefined;\n  closeLabel: string;\n  location: string;\n\n  user: any;\n  loggedIn: boolean;\n  labarchivesService: LabarchivesService;\n\n  @Output() userLogin = new EventEmitter<any>();\n  @Output() listWorkspaces: EventEmitter<any> = new EventEmitter<any>();\n\n\n  constructor(options: any, injector: any) {\n    super(options, injector);\n    this.loading = true;\n    this.columns = options['columns'] || [];\n    this.usernameLabel = options['usernameLabel'] || 'Username';\n    this.passwordLabel = options['passwordLabel'] || 'Password';\n    this.userLoginError = options['userLoginError'] || 'Please include username';\n    this.userPasswordError = options['userPasswordError'] || 'Please include password';\n    this.loginLabel = options['loginLabel'] || 'Login';\n    this.helpLoginLabel = options['helpLoginLabel'] || '';\n    this.helpLoginLabelList = options['helpLoginLabelList'] || [];\n    this.loginHelpImageAlt = options['loginHelpImageAlt'] || 'labarchives help login';\n    this.loginHelpImage = options['loginHelpImage'] || this.loginHelpImageAlt;\n    this.closeLabel = options['closeLabel'] || 'Close';\n    this.labarchivesService = this.getFromInjector(LabarchivesService);\n  }\n\n  registerEvents() {\n    this.fieldMap['List'].field['checkLoggedIn'].subscribe(this.checkLogin.bind(this));\n    this.setUserEmail();\n  }\n\n  checkLogin(status: boolean) {\n    this.loggedIn = this.fieldMap._rootComp.loggedIn = status;\n    this.loading = false;\n  }\n\n  async setUserEmail() {\n    const userInfo = await this.labarchivesService.getUserInfo();\n    const user = userInfo['user'];\n    this.userEmail = user['email'];\n    const info = await this.labarchivesService.info();\n    this.location = info['location'];\n  }\n\n  async login(form) {\n    const formValid = this.loginValid(form);\n    if (formValid === '') {\n      // TODO: Investigate this. Using this method to remove the trailing Base64 equals ==\n      form.password = form.password.trim();\n      form.password = form.password.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n      this.user = {username: this.userEmail, password: form.password};\n      const login = await this.labarchivesService.login(this.user.username, this.user.password);\n      if (login.status) {\n        this.loggedIn = true;\n        this.userLogin.emit(login.labUser);\n        this.submitted = true;\n        this.errorMessage = null;\n      } else {\n        this.errorMessage = login.message;\n      }\n    } else {\n      this.errorMessage = formValid;\n    }\n  }\n\n  loginValid(form) {\n    if (!form.userEmail) {\n      return this.userLoginError;\n    }\n    if (!form.password) {\n      return this.userPasswordError;\n    }\n    return '';\n  }\n\n  loginViaInstitution() {\n    jQuery('#institutionModal').modal('show');\n  }\n\n}\n\n@Component({\n  selector: 'ws-labarchiveslogin',\n  template: `\n    <div class=\"row\" *ngIf=\"!field.loading\">\n      <div *ngIf=\"!field.loggedIn\" class=\"col-md-6\">\n        <form #form=\"ngForm\">\n          <div class=\"form-group\">\n            <label>{{ field.usernameLabel }}</label>\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"field.userEmail\" name=\"userEmail\" ngModel\n                   attr.aria-label=\"{{ field.usernameLabel }}\">\n          </div>\n          <div class=\"form-group\">\n            <label>{{ field.passwordLabel }}</label>\n            <input type=\"password\" class=\"form-control\" ngModel name=\"password\"\n                   attr.aria-label=\"{{ field.passwordLabel }}\">\n          </div>\n          <div class=\"form-row\">\n            <p>\n              <button (click)=\"field.login(form.value)\" type=\"submit\" [disabled]=\"!field.valid\" class=\"btn btn-primary\">\n                {{ field.loginLabel }}\n              </button>\n              <!--or-->\n              <!--<button (click)=\"field.loginViaInstitution()\" type=\"submit\" [disabled]=\"!field.valid\"-->\n              <!--class=\"btn btn-info\">-->\n              <!--Login trough UTS-->\n              <!--</button>-->\n            </p>\n          </div>\n          <div class=\"form-row\">\n            <div class=\"alert alert-danger\" *ngIf=\"field.errorMessage\">{{ field.errorMessage }}</div>\n          </div>\n          <div>\n            <p>&nbsp;</p>\n          </div>\n        </form>\n      </div>\n      <div *ngIf=\"!field.loggedIn\" class=\"col-md-6\">\n        <div class=\"form-row\">\n          <p>{{ field.helpLoginLabel }}</p>\n          <p><a href=\"{{ field.location }}\" target=\"_blank\" rel=\"noopener noreferrer\">{{ field.location }}</a></p>\n          <ul>\n            <li *ngFor=\"let help of field.helpLoginLabelList\">{{ help }}</li>\n          </ul>\n          <div class=\"form-row col-md-6\">\n            <img alt=\"{{ field.loginHelpImageAlt }}\" [src]=\"field.loginHelpImage\"\n                 style=\"padding: 4px; border: dotted 1px #ccc;\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <p>&nbsp;</p>\n    </div>\n    <div id=\"institutionModal\" class=\"modal fade\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h4 class=\"modal-title\">Login via UTS</h4>\n          </div>\n          <div class=\"modal-body\">\n            <p>Login not available please use Key method</p>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">{{ field.closeLabel }}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class LabarchivesLoginComponent extends SimpleComponent implements OnInit {\n  field: LabarchivesLoginField;\n\n  ngOnInit() {\n    this.field.registerEvents();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/labarchives-login.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/labarchives-form.component.css\n// module id = ./src/app/labarchives-form.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"!criticalError\\\" class=\\\"row\\\">\\n  <div class=\\\"col-xs-2\\\"></div>\\n  <div class=\\\"col-xs-8\\\">\\n    <ws-field *ngFor=\\\"let field of fields\\\" [field]=\\\"field\\\"\\n              [form]=\\\"form\\\" class=\\\"form-row\\\" [fieldMap]=\\\"fieldMap\\\">\\n    </ws-field>\\n  </div>\\n</div>\\n<div *ngIf=\\\"criticalError\\\" class=\\\"row\\\">\\n  <div class=\\\"col-xs-2\\\"></div>\\n  <div class=\\\"col-xs-8\\\">\\n    <div class=\\\"panel panel-danger\\\">\\n      <div class=\\\"panel-heading\\\">\\n        <h3 class=\\\"panel-title\\\">Error</h3>\\n      </div>\\n      <div class=\\\"panel-body\\\">\\n        <code>\\n          {{criticalError}}\\n        </code>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"col-xs-2\\\"></div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/labarchives-form.component.html\n// module id = ./src/app/labarchives-form.component.html\n// module chunks = main","import {Component, Inject, Input, ElementRef, Output, EventEmitter} from '@angular/core';\nimport { HttpParams } from '@angular/common/http';\nimport {Location, LocationStrategy, PathLocationStrategy} from '@angular/common';\nimport {FormGroup, FormControl, Validators, NgForm} from '@angular/forms';\nimport {RecordsService} from './shared/form/records.service';\nimport {LoadableComponent} from './shared/loadable.component';\nimport {FieldControlService} from './shared/form/field-control.service';\nimport {Observable} from 'rxjs/Observable';\nimport * as _ from 'lodash';\nimport * as jQuery from 'jquery';\nimport {TranslationService} from './shared/translation-service';\n\nimport {LabarchivesLoginComponent, LabarchivesLoginField} from './components/labarchives-login.component';\nimport {LabarchivesListComponent, LabarchivesListField} from './components/labarchives-list.component';\nimport {LabarchivesLinkField, LabarchivesLinkComponent} from './components/labarchives-link.component';\nimport {LabarchivesCreateField, LabarchivesCreateComponent} from './components/labarchives-create.component';\nimport {LabarchivesExportField, LabarchivesExportComponent} from './components/labarchives-export.component';\n\n/**\n * Main LabArchives Edit component\n *\n * @author <a target='_' href='https://github.com/moisbo'>moisbo</a>\n *\n */\n@Component({\n  moduleId: module.id,\n  selector: 'labarchives-form',\n  templateUrl: './labarchives-form.component.html',\n  styleUrls: ['./labarchives-form.component.css'],\n  providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class LabarchivesFormComponent extends LoadableComponent {\n  /**\n   * The OID for this Form.\n   *\n   */\n  @Input() oid: string;\n  /**\n   * Edit mode\n   *\n   */\n  @Input() editMode: boolean;\n  /**\n   * The Record type\n   *\n   */\n  @Input() recordType: string;\n  /**\n   * Fields for the form\n   */\n  fields: any[] = [];\n  /**\n   * Form group\n   */\n  form: FormGroup;\n  /**\n   * Initialization subscription\n   */\n  initSubs: any;\n  /**\n   * Field map\n   */\n  fieldMap: any;\n  /**\n   * Form JSON string\n   */\n  payLoad: any;\n  /**\n   * Form status\n   */\n  status: any;\n  /**\n   * Critical error message\n   */\n  criticalError: any;\n  /**\n   * Form definition\n   */\n  formDef: any;\n  /**\n   * CSS classes for this form\n   */\n  cssClasses: any;\n  /**\n   * Flag when form needs saving.\n   *\n   */\n  needsSave: boolean;\n  /**\n   * Links to tabs\n   */\n  failedValidationLinks: any[];\n  /**\n   * Expects a number of DI'ed elements.\n   */\n\n  login: any;\n  loading: boolean = false;\n  loggedIn: any;\n  rdmp: string;\n  rdmpMetadata: any;\n  user: any;\n  action: string;\n  workspaceId: string;\n\n  constructor(\n    elm: ElementRef,\n    @Inject(RecordsService) protected RecordsService: RecordsService,\n    @Inject(FieldControlService) protected fcs: FieldControlService,\n    @Inject(Location) protected LocationService: Location,\n    public translationService: TranslationService\n  ) {\n    super();\n    this.oid = elm.nativeElement.getAttribute('oid');\n    this.editMode = elm.nativeElement.getAttribute('editMode') == \"true\";\n    this.recordType = elm.nativeElement.getAttribute('recordType');\n    this.rdmp = elm.nativeElement.getAttribute('rdmp');\n    this.action = this.getParamValueQueryString('action');\n    this.workspaceId = this.getParamValueQueryString('workspaceId');\n\n    // TODO: Find out what is this next line!\n    this.fieldMap = {_rootComp: this};\n    this.user = {};\n\n    this.initSubs = RecordsService.waitForInit((initStat: boolean) => {\n      this.initSubs.unsubscribe();\n      this.loadForm();\n    });\n\n  }\n\n  loginUser(user) {\n    this.user = user;\n  }\n\n  registerEvents() {\n    //this.fieldMap['ListWorkspaces'].field['setWorkspaceUser'].subscribe(this.setWorkspaceUser.bind(this));\n  }\n\n  loadForm() {\n    this.fcs.addComponentClasses({\n      'LabarchivesLoginField': {'meta': LabarchivesLoginField, 'comp': LabarchivesLoginComponent},\n      'LabarchivesListField': {'meta': LabarchivesListField, 'comp': LabarchivesListComponent},\n      'LabarchivesLinkField': {'meta': LabarchivesLinkField, 'comp': LabarchivesLinkComponent},\n      'LabarchivesCreateField': {'meta': LabarchivesCreateField, 'comp': LabarchivesCreateComponent},\n      'LabarchivesExportField': {'meta': LabarchivesExportField, 'comp': LabarchivesExportComponent},\n    });\n\n    this.RecordsService.getForm(this.oid, this.recordType, this.editMode).then((obs: any) => {\n      obs.subscribe((form: any) => {\n        this.formDef = form;\n        if (this.editMode) {\n          this.cssClasses = this.formDef.editCssClasses;\n        } else {\n          this.cssClasses = this.formDef.viewCssClasses;\n        }\n        this.loggedIn = false;\n        if (form.fieldsMeta) {\n          this.fields = form.fieldsMeta;\n          this.rebuildForm();\n          this.watchForChanges();\n          this.registerEvents();\n          const focusTab = '?focusTabId=workspaces';\n          this.fieldMap['BackToPlan'].field.value = this.fieldMap['BackToPlan'].field.value + this.rdmp + focusTab;\n        }\n      });\n    }).catch((err: any) => {\n      console.log(\"Error loading form...\");\n      console.log(err);\n      if (err.status == false) {\n        this.criticalError = err.message;\n      }\n      this.setLoading(false);\n    });\n  }\n\n  /**\n   * Rebuild the form message.\n   *\n   * @return {[type]}\n   */\n  rebuildForm() {\n    this.form = this.fcs.toFormGroup(this.fields, this.fieldMap);\n  }\n\n  /**\n   * Enable form change monitor.\n   *\n   * @return {[type]}\n   */\n  watchForChanges() {\n    this.setLoading(false);\n    if (this.editMode) {\n      this.form.valueChanges.subscribe((data: any) => {\n        //this.needsSave = true;\n      });\n    }\n  }\n\n  // setWorkspaceUser(workspaceUser: WorkspaceUser) {\n  //   this.workspaceUser = workspaceUser;\n  // }\n\n  getParamValueQueryString( paramName ) {\n    const url = window.location.href;\n    let paramValue;\n    if (url.includes('?')) {\n      const httpParams = new HttpParams({ fromString: url.split('?')[1] });\n      paramValue = httpParams.get(paramName);\n    }\n    return paramValue;\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/labarchives-form.component.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {ReactiveFormsModule, FormsModule} from '@angular/forms';\nimport {NgModule} from '@angular/core';\nimport {SharedModule} from './shared/shared.module';\n\nimport {LabarchivesService} from './labarchives.service';\n\nimport {LabarchivesFormComponent} from './labarchives-form.component';\nimport {LabarchivesLoginComponent} from './components/labarchives-login.component';\nimport {LabarchivesListComponent} from './components/labarchives-list.component';\nimport {LabarchivesLinkComponent} from './components/labarchives-link.component';\nimport {LabarchivesCreateComponent} from './components/labarchives-create.component';\nimport {LabarchivesExportComponent} from './components/labarchives-export.component';\n\n@NgModule({\n  imports: [\n    BrowserModule, ReactiveFormsModule, FormsModule, SharedModule\n  ],\n  declarations: [\n    LabarchivesFormComponent, LabarchivesLoginComponent, LabarchivesListComponent, LabarchivesLinkComponent, LabarchivesCreateComponent, LabarchivesExportComponent\n  ],\n  exports: [],\n  providers: [\n    LabarchivesService\n  ],\n  bootstrap: [\n    LabarchivesFormComponent\n  ],\n  entryComponents: [\n    LabarchivesFormComponent, LabarchivesListComponent, LabarchivesLoginComponent, LabarchivesLinkComponent, LabarchivesCreateComponent, LabarchivesExportComponent\n  ]\n})\nexport class LabarchivesModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/labarchives.module.ts","import {Injectable, Inject} from '@angular/core';\nimport {Subject} from 'rxjs/Subject';\nimport {Http} from '@angular/http';\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/delay';\nimport {Observable} from 'rxjs/Observable';\n\nimport {BaseService} from './shared/base-service';\nimport {ConfigService} from './shared/config-service';\n\n@Injectable()\nexport class LabarchivesService extends BaseService {\n\n  protected baseUrl: any;\n  public recordURL: string = this.brandingAndPortalUrl + '/record/view';\n  protected initSubject: any;\n\n  constructor(@Inject(Http) http: Http,\n              @Inject(ConfigService) protected configService: ConfigService) {\n    super(http, configService);\n    this.initSubject = new Subject();\n    this.emitInit();\n  }\n\n  public waitForInit(handler: any) {\n    const subs = this.initSubject.subscribe(handler);\n    this.emitInit();\n    return subs;\n  }\n\n  public emitInit() {\n    if (this.brandingAndPortalUrl) {\n      this.initSubject.next('');\n    }\n  }\n\n  public async info() {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/info';\n    try {\n      const result = await this.http.get(\n        wsUrl,\n        this.options\n      ).toPromise();\n      return Promise.resolve(this.extractData(result));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async login(username, password) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/login';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {username: username, password: password},\n        this.options\n      ).toPromise();\n      return Promise.resolve(this.extractData(result));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async list() {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/list';\n    try {\n      const result = await this.http.get(\n        wsUrl,\n        this.options\n      ).toPromise();\n      return Promise.resolve(this.extractData(result));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async link(workspace: any, rdmpId: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/link';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {rdmp: rdmpId, workspace: workspace},\n        this.options\n      ).toPromise();\n      return Promise.resolve(this.extractData(result));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async checkLink(rdmpId: string, nbId: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/checkLink';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {rdmp: rdmpId, nbId: nbId},\n        this.options\n      ).toPromise();\n      return Promise.resolve(this.extractData(result));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async getUserInfo() {\n    const wsUrl = this.brandingAndPortalUrl + '/user/info';\n    try {\n      const result = await this.http.get(\n        wsUrl,\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async createNotebook(rdmp: string, nbName: string, supervisorEmail: string, userEmail: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/create';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {name: nbName, supervisor: supervisorEmail, rdmp: rdmp, userEmail: userEmail},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async rdmpInfo(rdmp: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/rdmp';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {rdmp: rdmp},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async findNotebook(rdmp: string, workspace: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/findNotebook';\n    try {\n      console.log('requesting this: ' + workspace);\n      const result = await this.http.post(\n        wsUrl,\n        {rdmp: rdmp, workspace: workspace},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async notebookInfo(rdmp: string, notebook: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/notebook';\n    try {\n      console.log('requesting this: ' + notebook);\n      const result = await this.http.post(\n        wsUrl,\n        {rdmp: rdmp, notebook: notebook},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async exportNotebook(rdmp: string, notebook: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/export';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {rdmp: rdmp, notebook: notebook},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async zipNotebook(notebook: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/zipExport';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {notebook: notebook},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async checkExport(workspace: any) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/checkExport';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {workspace: workspace},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async returnNotebook(notebook: string) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/returnExport';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {notebook: notebook},\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n\n  public async createDataRecord(\n    rdmp, rdmpTitle, isHdr, notebookFile, notebookTitle,\n    retention, disposal, isc,\n    contributor_ci, contributor_data_manager, keywords) {\n    const wsUrl = this.brandingAndPortalUrl + '/ws/labarchives/createDataRecord';\n    try {\n      const result = await this.http.post(\n        wsUrl,\n        {\n          rdmp, rdmpTitle, isHdr, notebookFile, notebookTitle,\n          retention, disposal, isc,\n          contributor_ci, contributor_data_manager, keywords\n        },\n        this.options\n      ).toPromise();\n      return Promise.resolve((this.extractData(result)));\n    } catch (e) {\n      return Promise.reject(new Error(e));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/labarchives.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { LabarchivesModule } from './app/labarchives.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(LabarchivesModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 1\n// module chunks = main"],"sourceRoot":"webpack:///"}